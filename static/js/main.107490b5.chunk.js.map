{"version":3,"sources":["store/defaults.js","store/actions/needActions.js","store/actions/authAction.js","store/reducers/authReducer.js","store/actions/ontologyActions.js","store/reducers/ontologyReducers.js","store/actions/clientActions.js","store/actions/serviceActions.js","store/actions/providerActions.js","store/actions/goodActions.js","store/reducers.js","store/reducers/serviceReducer.js","store/reducers/clientReducer.js","store/reducers/goodReducer.js","store/reducers/needReducers.js","store/reducers/providerReducers.js","store.js","components/shared/GoogleMap.js","components/shared/CSVUploadModal.js","components/shared/DeleteModal.js","components/shared/DropdownMenu.js","components/shared/GenericPage.js","components/shared/FormStepper.js","components/shared/FieldsWrapper.js","components/shared/fields/GeneralField.js","constants/index.js","components/shared/fields/SelectField.js","components/shared/LocationFieldGroup.js","helpers/operation_hour_helpers.js","helpers/formulaHelpers.js","helpers/index.js","constants/provider_fields.js","constants/default_fields.js","components/shared/OtherLocationsFields.js","components/shared/Table/EnhancedTableHead.js","components/shared/Table/EnhancedTableToolbar.js","components/shared/Table/index.js","components/shared/index.js","components/layouts/TopNavbar.js","components/layouts/Footer.js","components/Landing.js","components/Login.js","components/LoginPane.js","components/Dashboard.js","api/mockedApi/browserStore.js","api/index.js","api/mockedApi/clients.js","helpers/location_helpers.js","helpers/phone_number_helpers.js","components/Clients.js","components/client_needs/NeedGroupPanel.js","components/ClientNeeds.js","components/shared/TR.js","stylesheets/profile-table.js","components/clients/client_table/ClientInfoTable.js","components/appointments/AppointmentRow.js","api/mockedApi/clientFields.js","constants/client_fields.js","api/eligibilityApi.js","components/clients/client_form/FamilyFields.js","components/shared/fields/RadioField.js","components/shared/fields/CheckboxField.js","components/shared/fields/MultiSelectField.js","components/shared/FieldGroup.js","helpers/client_verify_form.js","components/clients/ClientForm.js","api/userApi.js","constants/userFields.js","components/users/UserForm.js","components/client_needs/NeedForm.js","helpers/select_field_helpers.jsx","components/appointments/AppointmentModal.js","store/actions/appointmentActions.js","components/client_needs/MatchedServices.js","components/client_needs/ServiceListItem.js","components/client_needs/ServiceList.js","components/client_needs/ServiceSearchBar.js","components/client_needs/Need.js","components/routes/PrivateRoute.js","components/routes/AdminRoute.js","api/mockedApi/providers.js","components/Providers.js","components/providers/AddServicePrompt.js","helpers/provider_verify_form.js","api/mockedApi/providerFields.js","components/shared/OperationHoursFieldGroup.js","components/providers/ProviderForm.js","components/providers/provider_table/ProviderInfoTable.js","components/providers/ProviderRatingForm.js","api/mockedApi/services.js","components/Services.js","helpers/eligibility_condition_helpers.js","components/services/Service.js","api/mockedApi/ontologies.js","components/services/conditionConfig.js","components/services/EligibilityCondition.js","api/formulaApi.js","components/services/ServiceForm.js","components/Goods.js","components/goods/Good.js","components/goods/GoodForm.js","api/adminLogApi.js","components/AdminLogs.js","components/Reporting.js","components/additionalFIelds/Eligibilities.js","api/questionApi.js","components/settings/ManageFields.js","components/additionalFIelds/Questions.js","routes.js","components/clients/Client.js","components/users/User.js","components/Users.js","components/providers/ProviderProfile.js","App.js","index.js"],"names":["serverHost","window","location","hostname","module","exports","Object","freeze","torontoCoordinates","lat","lng","countryOptions","languageOptions","genderOptions","maritalStatusOptions","statusInCanadaOptions","educationLevelOptions","incomeSourceOptions","matchStatusOptions","familyRelationshipOptions","needStatusOptions","serviceTypeOptions","serviceSharedWithOptions","provinceOptions","ACTION_SUCCESS","ACTION_ERROR","RECEIVE_CLIENT_NEEDS","RECEIVE_CLIENT_NEED","REMOVE_CLIENT_NEED","REQUEST_NEED","REQUEST_NEEDS","RECEIVE_NEEDS","RECEIVE_CLIENT_NEED_GROUP","RECEIVE_CLIENT_NEED_INFO","receiveClientNeed","clientId","need","needGroup","type","receiveClientNeedInfo","needId","updateClientNeedGroup","needGroupId","params","dispatch","url","fetch","method","body","JSON","stringify","headers","localStorage","getItem","then","response","json","receiveClientNeedGroup","deleteClientNeed","status","removeClientNeed","fetchNeed","callback","client_id","id","LOGIN_SUCCESS","LOGIN_FAILURE","LOGGED_OUT","UPDATE_ORGANIZATION","login","console","log","a","error","Error","decoded_token","jwt_decode","token","user","user_id","username","email","is_admin","organization","provider_id","name","organization_name","setItem","login_success","catch","err","alert","message","login_failure","logout","sessionExpired","logged_out","removeItem","DEFAULT_STATE","currentUser","isLoggedin","RECEIVE_CATEGORIES","fetchOntologyCategories","categories","category_type","receiveCategories","DEFAULT_CATEGORY_STATE","loaded","REQUEST_CLIENT","RECEIVE_CLIENT","REQUEST_CLIENTS","REMOVE_CLIENT","RECEIVE_CLIENTS","SEARCH_CLIENTS","REQUEST_SERVICE","RECEIVE_SERVICE","REQUEST_SERVICES","REMOVE_SERVICE","RECEIVE_SERVICES","SEARCH_SERVICES","REQUEST_PROVIDERS","RECEIVE_PROVIDERS","REMOVE_PROVIDER","RECEIVE_PROVIDER","REQUEST_PROVIDER","SEARCH_PROVIDERS","receiveProviders","providers","receivedAt","Date","now","fetchProviders","REQUEST_GOOD","RECEIVE_GOOD","REQUEST_GOODS","RECEIVE_ALL_GOODS","REMOVE_GOOD","RECEIVE_GOODS","GOOD_ERROR","GOOD_SUCCESS","SEARCH_GOODS","receiveGood","good","receiveGoods","goods","fetchGood","requestGood","fetchGoods","deleteGood","removeGood","appReducer","combineReducers","services","nextById","sortedServices","nextIndex","state","index","filteredServices","servicesLoaded","byId","action","newServicesById","_","keyBy","service","clone","remove","n","sortType","sort","b","toLowerCase","localeCompare","provider","profile","first_name","desc","category","searchValue","searchType","filter","includes","company","last_name","clients","sortedClients","filteredClients","clientsLoaded","newClientsById","client","reverse","address","sortedGoods","filteredGoods","goodsLoaded","newGoodsById","needs","nextNeedGroup","needGroupIndex","needGroups","map","indexOf","toString","need_group_id","needIndex","length","splice","sortedProviders","providersByType","providerLoaded","value","filteredProviders","providersById","displayType","primary_phone_number","auth","assign","ontology","languages","initialState","persistConfig","key","storage","persistedReducer","persistReducer","authMiddleware","store","next","getState","expired_at","google","maps","Map","Marker","InfoWindow","Size","createInfoWindow","markerElement","marker","history","idx","infoWindow","content","position","pixelOffset","addListener","e","render","ReactInfoWindow","document","getElementById","clicked","show","querySelector","open","close","event","title","link","Link","style","cursor","onClick","push","Typography","color","GoogleMap","props","useHistory","defaultCenter","useMemo","zoom","center","markers","useState","setMap","useEffect","i","currMarker","Paper","elevation","width","height","marginTop","info","CSVUploadModal","onHide","submit","Dialog","onClose","DialogTitle","DialogContent","InputBase","DialogActions","Button","DeleteModal","objectId","reason","form","setForm","fullWidth","TextField","label","sx","mt","onChange","target","delete","DropdownMenu","urlPrefix","handleDelete","hideViewOption","anchorEl","setAnchorEl","Boolean","handleClose","handleLink","IconButton","currentTarget","size","MoreVert","Menu","keepMounted","PaperProps","maxHeight","ITEM_HEIGHT","MenuItem","ListItemIcon","OpenInBrowser","fontSize","variant","Edit","Delete","GenericPage","fetchData","deleteItem","generateMarkers","nameFormatter","columnsWithoutOptions","charAt","toUpperCase","slice","useDispatch","showUploadDialog","showDeleteDialog","deleteId","deleteDialogTitle","data","pageNumber","rowsPerPage","loading","setState","hideDialog","useCallback","success","item","columns","tableOptions","customToolbar","CustomToolbar","handleAdd","handleUpload","onDelete","ids","onChangePage","onChangeRowsPerPage","Loading","Fade","in","Container","file","contentType","useStyles","makeStyles","theme","buttons","margin","paddingTop","paddingBottom","button","marginRight","spacing","backButton","FormStepper","stepNames","handleFinish","getStepContent","classes","React","activeStep","setActiveStep","Stepper","alternativeLabel","nonLinear","Step","StepButton","step","className","Alert","severity","disabled","prevActiveStep","root","paper","display","paddingLeft","minWidth","children","gutterBottom","dateFormat","GeneralField","defaultValue","parse","setValue","handleChange","val","onChangeDate","date","onAcceptDate","formattedDate","format","LocalizationProvider","dateAdapter","AdapterDateFns","DatePicker","onAccept","renderInput","TimePicker","UN_SET","defaultField","component","validator","required","formControl","SelectField","InputLabelProps","options","noDefaultStyle","noEmpty","controlled","defaultOptionTitle","formControlProps","helperText","undefined","FormControl","InputLabel","Select","Array","isArray","option","entries","FormHelperText","LocationFieldGroup","errMsg","apt_number","street_address","city","province","postal_code","defaultTimeSlot","defaultOperationHour","mapping","hour","hourStringam","minutes","timeSlot","operationHourMapping","operationHourListToObject","operation_hour_list","operation_hours","each","operation_hour","weekday","start_time","end_time","operationHourObjectToList","operation_hour_obj","times","day","time","week_day","OperationHourTable","operationHourObj","transformToFrontendType","condition_clauses","condition","clauses","field_name","left_operand","right_operand","operator","escapeString","string","replace","unescapeList","array","recursiveAssign","obj","forEach","isFieldEmpty","field","isAvailabilityEmpty","availability","keys","time_slot","verifyAddressField","result","fieldName","verifyOtherAddressesFields","validateAddressPostalCode","errsContainer","parentField","test","verifyEmail","concat","verifyPhoneNumber","validateContactFormat","alt_phone_number","verifyFamilyFields","families","family","emailRegex","phoneNumberRegex","passwordRegex","postalCodeRegex","Validator","phone","password","postalCode","providerFormTypes","allForms","providerCategoryValue2Key","ret","objectFlip","providerFields","commitment","gender","main_address","notes","other_addresses","own_car","primary_contact","reference1_email","reference1_name","reference1_phone","reference2_email","reference2_name","reference2_phone","referrer","secondary_contact","skills","start_date","visibility","sponsor","defaultProfileFields","middle_name","preferred_name","birth_date","defaultContactFields","defaultLocationFields","defaultUserFields","is_superuser","LocationFields","handleRemove","update","FormLabel","FieldsWrapper","OtherLocationsFields","otherLocations","forceUpdate","EnhancedTableHead","onSelectAllClick","order","orderBy","numSelected","rowCount","onRequestSort","TableHead","TableRow","TableCell","padding","Checkbox","indeterminate","checked","inputProps","headCell","sortDirection","sortBy","TableSortLabel","active","direction","getFieldValueFn","sortSpan","useToolbarStyles","paddingRight","highlight","palette","mode","primary","main","backgroundColor","lighten","light","text","secondary","dark","flex","EnhancedTableToolbar","Toolbar","clsx","Tooltip","descendingComparator","getValue","extraData","getComparator","stableSort","comparator","stabilizedThis","el","table","visuallyHidden","tableRow","EnhancedTable","rowsPerPageOptions","idField","defaultOrderBy","rowStyle","setOrder","setOrderBy","selected","setSelected","page","setPage","setRowsPerPage","findIndex","_id","emptyRows","Math","max","TableContainer","Table","stickyHeader","TableBody","row","isItemSelected","isSelected","hover","role","tabIndex","selectedIndex","newSelected","handleClick","cell","colSpan","TablePagination","count","onPageChange","newPage","onRowsPerPageChange","parseInt","textDecorationLine","linkWithHover","fontWeight","progress","chipButton","marginLeft","Chip","icon","Add","formType","textAlign","CircularProgress","StyledTabs","styled","Tabs","justifyContent","transition","StyledTab","Tab","textTransform","typography","fontWeightRegular","pxToRem","NavTab","TopNavBar","useSelector","tabNames","pathname","AppBar","flexGrow","newValue","indicatorColor","Box","whiteSpace","to","left","bottom","borderRadius","alignContent","href","textDecoration","Landing","Component","container","maxWidth","Login","Grid","alignItems","marginBottom","LoginPane","prev","onKeyPress","Divider","NavButton","startIcon","Dashboard","Create","People","BrowserStore","this","rawData","BrowserCounterStore","startNumber","Number","normalizeError","getJson","sendJson","rawResponse","postJson","putJson","deleteJson","sleep","milliseconds","Promise","resolve","setTimeout","clientsStore","clientCnt","fetchClients","fetchClient","find","createClient","newClientData","newClient","nextCnt","need_groups","appointments","updateClient","updatedClient","save","deleteClient","formatLocation","format_location","formatPhoneNumber","number","codes","match","TYPE","NeedGroupPanel","needGroupCategory","handleShow","hasUrgentNeed","anyUrgentNeed","needsUnderCat","innerBox","xs","is_urgent","flexDirection","Alarm","highPriority","description","need_group","changeNeedGroupCategoryStatus","Accordion","panel","AccordionSummary","expandIcon","ExpandMoreOutlined","column","heading","PriorityHigh","secondaryHeading","AccordionDetails","panelDetail","outerBox","flexBasis","ClientNeeds","selectedId","needGroupData","showDeletedDiaglog","needsByNeedGroup","deleteNeedInData","copy","need_cat","TR","scope","align","useProfileTableStyles","title2","ClientInfoTable","rowTitle","rowValue","infoFields","clientFields","infoRows","infoField","join","AppointmentRow","appointment","clientFieldsStore","fetchClientFields","updateClientFields","updatedClientFields","arrival_date","completed_education_level","country_of_last_residence","country_of_origin","current_education_level","ngo_conditions","file_id","first_language","has_children","immigration_doc_number","income_source","landing_date","marital_status","num_of_children","num_of_dependants","other_languages","pr_number","status_in_canada","fetchEligibilities","deleteEligibility","FamilyMemberFields","member","handleRemoveFamily","handleChangeMember","person","relationship","FamilyFields","members","top","formControlRow","labelRow","RadioField","noStar","parentValue","tryCastBool","RadioGroup","FormControlLabel","control","Radio","labelPlacement","CheckboxField","optionsArray","values","FormGroup","Dropdown","Autocomplete","multiple","getOptionLabel","FieldGroup","client_verify_form","steps","format_messages","verifyFormFormat","required_field_msg","step_page_fields","verifyRequiredField","ClientForm","useParams","all_ngo_conditions","dispatchErrorMsg","fieldErrorMsg","fields","generateClientField","promises","steps_order","form_structure","all","res","splits","split","parent","isProfile","updateUser","fetchUser","deleteUser","userFormFields","Yes","No","UserForm","errors","validate","isEmpty","msg","handleSubmit","NeedForm","need_id","needsById","needed_by","formValChange","bind","handleMultiSelectChange","nextForm","selectedOption","actionMeta","preValue","removedValue","newMultiSelectFieldValue","needInfo","createClientNeed","p","formTitle","Row","Col","sm","Form","horizontal","controlId","componentClass","Check","defaultChecked","inline","needsCategories","languagesCategories","multiline","smOffset","connect","categoriesLoaded","withRouter","AppointmentModal","serviceId","Modal","bsSize","Header","closeButton","Title","service_id","Body","reminder_type","reminder_frequency","Footer","MatchedServices","activeKey","matchStatusForm","noteForm","modalShow","appointmentServiceId","handleSelect","matchStatusChange","textAreaChange","submitMatchStatus","submitNote","handleModalHide","handleModalShow","matchId","updateMatchStatus","object_id","model","modalshow","matches","Card","eventKey","bsStyle","toggle","Label","Collapse","collapsible","placeholder","note","ServiceListItem","matchClientNeed","ListGroupItem","round","distance","GMap","withGoogleMap","latlng","parseFloat","ServiceList","containerElement","mapElement","ServiceSearchBar","queryTerm","handleFormValChange","InputGroup","enableQueryTerm","Addon","search","Need","searchResult","recommendedServices","recommended_services","handleSearchService","handleSearchRecommendedServices","Headers","DeletedLabel","is_deleted","UrgentLabel","striped","bordered","condensed","defaultActiveKey","rest","isAdmin","providersStore","providerCnt","fetchProvider","createProvider","newProviderData","newProvider","reviews","providerId","updateProvider","updatedProvider","deleteProvider","formatProviderName","AddServicePrompt","provider_verify_form","verifyContactEmptiness","verifyRequiredFieldByFormType","contactType","providerFieldsStore","fetchProviderFields","reformat","providerType","formStructure","stepName","updateProviderFields","updatedProviderFields","alignSelf","select","arrow","OperationHoursFieldGroup","operationHours","operationDates","handleOperationHourOnClick","weekDay","pop","slotIndex","startDate","endDate","end_date","timeSlots","addressPaper","ProviderForm","eligibilities","providerCategory","operation_dates","responses","generateProviderFields","load","errorMessage","cat","newForm","contactField","fieldProps","ProviderInfoTable","fieldId","question_id","ProviderRatingForm","handleStarSelection","handleCommentChange","handleTextRating","rating","comment","nextValue","rateProvider","starCount","onStarClick","indexLoaded","servicesStore","serviceCnt","fetchServices","newServiceData","newService","updatedService","deleteService","formatProvider","formatEligibilityConditions","condType","condValue","Service","fetchService","servicesById","print","Print","eligibility","available_from","available_to","max_capacity","current_capacity","frequency","billable","price","method_of_delivery","method_of_registration","registration","omit","eligibility_conditions","lower_age_limit","upper_age_limit","is_public","share_with","serviceLoaded","compareOps","IN","defaultConfig","operators","eligibilityConditionHideItems","eligibilityConditionConfigs","age","multipleSelect","CustomEligibilityField","rightOperand","list","leftOperand","changes","config","ops","EligibilityCondition","originalValue","setFields","fieldsObj","dynamic_fields","functions","m","handleFieldChange","clause","handleAddField","handleRemoveField","conditionIdx","fieldIdx","handleRemoveCondition","conditionComponents","field_components","float","ServiceForm","eligibility_criteria","conditionClauses","conditionClause","transformToBackendType","validateForm","updateService","createService","formIsValid","location_same_as_provider","provider_locations","isNaN","locations","location2Obj","loc","showAlert","error_messages","divider","reduce","errorText","servicesCategories","min","Online","Group","immigration_status","languagesLoaded","providersLoaded","providerIndex","withStyles","viewColumns","searchable","customBodyRender","rowData","Good","goodsById","transportation","material","quantity","diameter","goodLoaded","GoodForm","goodId","is_provider_location","locationChange","indicatorChange","titleizedField","createGood","action_time","toLocaleString","object_repr","change_message","START_YEARS","Report","total_clients","number_of_clients_by_gender","number_of_clients_by_birth_year","number_of_clients_by_marital_status","number_of_clients_by_language","number_of_providers_by_status","number_of_providers_by_type","number_of_individual_providers_by_category","selectedCategory","selectedAttribute","handleSelectChange","barChartDataBirthYear","labels","start_year","datasets","barChartOptions","scales","yAxes","ticks","beginAtZero","barChartDataLanguage","pieChartDataGender","pieChartDataProviderStatus","pieChartDataIndividualProviderCategory","pieChartDataProviderType","barChartDataMaritalStatus","pieChartOptions","maintainAspectRatio","responsive","legend","boxWidth","GenderStats","totalClientsCount","ClientsCountByGender","LanguageStats","ClientsCountByLanguage","MaritalStatusStats","ClientsCountByMaritalStatus","BirthYearStats","ClientsCountByBirthYear","ProviderStatusStats","ProvidersCountByStatus","ProviderTypeStats","ProvidersCountByType","IndividualProviderCategoryStats","IndividualProvidersCountByCategory","startYear","ADD_TITLE","AddEditDialog","handleConfirm","setErr","autoFocus","newErr","check","fetchQuestions","deleteQuestion","droppable","submitButton","radioButtonOptions","StepFields","stepFields","handleRadioChange","handleDeleteField","draggableId","provided","snapshot","ref","innerRef","draggableProps","dragHandleProps","isDragging","EDIT_TITLE","contentTypeOptions","content_type","routes","exact","path","CF","CN","paddingY","setLoading","setUser","secondary_phone_number","setData","fetchAdminLogs","formSetting","reviewValue","review","first","second","RateReview","mb","borderColor","Rating","Reporting","dialogTitle","showAddEditDialog","shoeEditDialog","newItem","handleEdit","showEditDialog","stepToAdd","selectedStep","selectedField","questions","stepsOrder","stepsList","submitFunction","newFormStructure","initialOptions","fieldOptions","availableOptions","curr_field","handleRemoveStep","newStepComponent","newFieldComponent","fieldsComponents","droppableId","droppableProps","onDragEnd","source","destination","targetStepName","sourceStepName","sourceSteps","targetSteps","removed","startIndex","endIndex","reorder","createTheme","blue","pink","App","StyledEngineProvider","injectFirst","ThemeProvider","TopNavbar","preloadedState","createStore","applyMiddleware","thunkMiddleware","persistor","persistStore","configureStore","ReactDOM"],"mappings":"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","file":"static/js/main.107490b5.chunk.js","sourcesContent":["const hostname = window && window.location && window.location.hostname;\n\nlet serverHost;\nif (hostname === 'jias.snmi.ca') {\n  // serverHost = 'https://3.97.37.175:8000';\n  // Obsolete\n  serverHost = 'https://jias-server.snmi.ca';\n}\nelse {\n  serverHost = 'http://127.0.0.1:8000';\n  // serverHost = 'https://3.97.37.175:8000';\n  // serverHost = 'https://jias-server.snmi.ca';\n}\n\n\nconst ACTION_SUCCESS = 'ACTION_SUCCESS';\nconst ACTION_ERROR = 'ACTION_ERROR';\n\nconst torontoCoordinates = { lat: 43.6497, lng: -79.3763 };\n\nconst countryOptions = ['Afghanistan', 'land Islands', 'Albania', 'Algeria', 'American Samoa', 'Andorra',\n  'Angola', 'Anguilla', 'Antarctica', 'Antigua & Barbuda', 'Argentina', 'Armenia', 'Aruba', 'Ascension Island',\n  'Australia', 'Austria', 'Azerbaijan', 'Bahamas', 'Bahrain', 'Bangladesh', 'Barbados', 'Belarus', 'Belgium',\n  'Belize', 'Benin', 'Bermuda', 'Bhutan', 'Bolivia', 'Bosnia & Herzegovina', 'Botswana', 'Brazil',\n  'British Indian Ocean Territory', 'British Virgin Islands', 'Brunei', 'Bulgaria', 'Burkina Faso', 'Burundi',\n  'Cambodia', 'Cameroon', 'Canada', 'Canary Islands', 'Cape Verde', 'Caribbean Netherlands', 'Cayman Islands',\n  'Central African Republic', 'Ceuta & Melilla', 'Chad', 'Chile', 'China', 'Christmas Island', 'Cocos (Keeling) Islands',\n  'Colombia', 'Comoros', 'Congo - Brazzaville', 'Congo - Kinshasa', 'Cook Islands', 'Costa Rica', 'Cte dIvoire',\n  'Croatia', 'Cuba', 'Curaao', 'Cyprus', 'Czechia', 'Denmark', 'Diego Garcia', 'Djibouti', 'Dominica',\n  'Dominican Republic', 'Ecuador', 'Egypt', 'El Salvador', 'Equatorial Guinea', 'Eritrea', 'Estonia', 'Eswatini',\n  'Ethiopia', 'Falkland Islands', 'Faroe Islands', 'Fiji', 'Finland', 'France', 'French Guiana', 'French Polynesia',\n  'French Southern Territories', 'Gabon', 'Gambia', 'Georgia', 'Germany', 'Ghana', 'Gibraltar', 'Greece', 'Greenland',\n  'Grenada', 'Guadeloupe', 'Guam', 'Guatemala', 'Guernsey', 'Guinea', 'Guinea-Bissau', 'Guyana', 'Haiti', 'Honduras',\n  'Hong Kong SAR China', 'Hungary', 'Iceland', 'India', 'Indonesia', 'Iran', 'Iraq', 'Ireland', 'Isle of Man', 'Israel',\n  'Italy', 'Jamaica', 'Japan', 'Jersey', 'Jordan', 'Kazakhstan', 'Kenya', 'Kiribati', 'Kosovo', 'Kuwait', 'Kyrgyzstan',\n  'Laos', 'Latvia', 'Lebanon', 'Lesotho', 'Liberia', 'Libya', 'Liechtenstein', 'Lithuania', 'Luxembourg',\n  'Macao SAR China', 'Madagascar', 'Malawi', 'Malaysia', 'Maldives', 'Mali', 'Malta', 'Marshall Islands', 'Martinique',\n  'Mauritania', 'Mauritius', 'Mayotte', 'Mexico', 'Micronesia', 'Moldova', 'Monaco', 'Mongolia', 'Montenegro',\n  'Montserrat', 'Morocco', 'Mozambique', 'Myanmar (Burma)', 'Namibia', 'Nauru', 'Nepal', 'Netherlands', 'New Caledonia',\n  'New Zealand', 'Nicaragua', 'Niger', 'Nigeria', 'Niue', 'Norfolk Island', 'North Korea', 'North Macedonia',\n  'Northern Mariana Islands', 'Norway', 'Oman', 'Pakistan', 'Palau', 'Palestinian Territories', 'Panama',\n  'Papua New Guinea', 'Paraguay', 'Peru', 'Philippines', 'Pitcairn Islands', 'Poland', 'Portugal', 'Pseudo-Accents',\n  'Pseudo-Bidi', 'Puerto Rico', 'Qatar', 'Runion', 'Romania', 'Russia', 'Rwanda', 'Samoa', 'San Marino',\n  'So Tom & Prncipe', 'Saudi Arabia', 'Senegal', 'Serbia', 'Seychelles', 'Sierra Leone', 'Singapore', 'Sint Maarten',\n  'Slovakia', 'Slovenia', 'Solomon Islands', 'Somalia', 'South Africa', 'South Georgia & South Sandwich Islands',\n  'South Korea', 'South Sudan', 'Spain', 'Sri Lanka', 'St. Barthlemy', 'St. Helena', 'St. Kitts & Nevis', 'St. Lucia',\n  'St. Martin', 'St. Pierre & Miquelon', 'St. Vincent & Grenadines', 'Sudan', 'Suriname', 'Svalbard & Jan Mayen', 'Sweden',\n  'Switzerland', 'Syria', 'Taiwan', 'Tajikistan', 'Tanzania', 'Thailand', 'Timor-Leste', 'Togo', 'Tokelau', 'Tonga',\n  'Trinidad & Tobago', 'Tristan da Cunha', 'Tunisia', 'Turkey', 'Turkmenistan', 'Turks & Caicos Islands', 'Tuvalu',\n  'U.S. Outlying Islands', 'U.S. Virgin Islands', 'Uganda', 'Ukraine', 'United Arab Emirates', 'United Kingdom',\n  'United States', 'Uruguay', 'Uzbekistan', 'Vanuatu', 'Vatican City', 'Venezuela', 'Vietnam', 'Wallis & Futuna',\n  'Western Sahara', 'Yemen', 'Zambia', 'Zimbabwe']\n\nconst languageOptions = ['Abkhazian (ab)', 'Achinese (ace)', 'Acoli (ach)', 'Adangme (ada)', 'Adyghe (ady)',\n  'Afar (aa)', 'Afrihili (afh)', 'Afrikaans (af)', 'Aghem (agq)', 'Ainu (ain)', 'Akan (ak)', 'Akkadian (akk)',\n  'Akoose (bss)', 'Alabama (akz)', 'Albanian (sq)', 'Aleut (ale)', 'Algerian Arabic (arq)', 'American English (en_US)',\n  'American Sign Language (ase)', 'Amharic (am)', 'Ancient Egyptian (egy)', 'Ancient Greek (grc)', 'Angika (anp)',\n  'Ao Naga (njo)', 'Arabic (ar)', 'Aragonese (an)', 'Aramaic (arc)', 'Araona (aro)', 'Arapaho (arp)', 'Arawak (arw)',\n  'Armenian (hy)', 'Aromanian (rup)', 'Arpitan (frp)', 'Assamese (as)', 'Asturian (ast)', 'Asu (asa)', 'Atsam (cch)',\n  'Australian English (en_AU)', 'Austrian German (de_AT)', 'Avaric (av)', 'Avestan (ae)', 'Awadhi (awa)', 'Aymara (ay)',\n  'Azerbaijani (az)', 'Badaga (bfq)', 'Bafia (ksf)', 'Bafut (bfd)', 'Bakhtiari (bqi)', 'Balinese (ban)', 'Baluchi (bal)',\n  'Bambara (bm)', 'Bamun (bax)', 'Banjar (bjn)', 'Basaa (bas)', 'Bashkir (ba)', 'Basque (eu)', 'Batak Toba (bbc)',\n  'Bavarian (bar)', 'Beja (bej)', 'Belarusian (be)', 'Bemba (bem)', 'Bena (bez)', 'Bengali (bn)', 'Betawi (bew)',\n  'Bhojpuri (bho)', 'Bikol (bik)', 'Bini (bin)', 'Bishnupriya (bpy)', 'Bislama (bi)', 'Blin (byn)', 'Blissymbols (zbl)',\n  'Bodo (brx)', 'Bosnian (bs)', 'Brahui (brh)', 'Braj (bra)', 'Brazilian Portuguese (pt_BR)', 'Breton (br)', \n  'British English (en_GB)', 'Buginese (bug)', 'Bulgarian (bg)', 'Bulu (bum)', 'Buriat (bua)', 'Burmese (my)',\n  'Caddo (cad)', 'Cajun French (frc)', 'Canadian English (en_CA)', 'Canadian French (fr_CA)', 'Cantonese (yue)',\n  'Capiznon (cps)', 'Carib (car)', 'Catalan (ca)', 'Cayuga (cay)', 'Cebuano (ceb)', 'Central Atlas Tamazight (tzm)',\n  'Central Dusun (dtp)', 'Central Kurdish (ckb)', 'Central Yupik (esu)', 'Chadian Arabic (shu)', 'Chagatai (chg)',\n  'Chamorro (ch)', 'Chechen (ce)', 'Cherokee (chr)', 'Cheyenne (chy)', 'Chibcha (chb)', 'Chiga (cgg)',\n  'Chimborazo Highland Quichua (qug)', 'Chinese (zh)', 'Chinook Jargon (chn)', 'Chipewyan (chp)', 'Choctaw (cho)',\n  'Church Slavic (cu)', 'Chuukese (chk)', 'Chuvash (cv)', 'Classical Newari (nwc)', 'Classical Syriac (syc)',\n  'Colognian (ksh)', 'Comorian (swb)', 'Congo Swahili (swc)', 'Coptic (cop)', 'Cornish (kw)', 'Corsican (co)',\n  'Cree (cr)', 'Creek (mus)', 'Crimean Turkish (crh)', 'Croatian (hr)', 'Czech (cs)', 'Dakota (dak)', 'Danish (da)',\n  'Dargwa (dar)', 'Dazaga (dzg)', 'Delaware (del)', 'Dinka (din)', 'Divehi (dv)', 'Dogri (doi)', 'Dogrib (dgr)',\n  'Duala (dua)', 'Dutch (nl)', 'Dyula (dyu)', 'Dzongkha (dz)', 'Eastern Frisian (frs)', 'Efik (efi)',\n  'Egyptian Arabic (arz)', 'Ekajuk (eka)', 'Elamite (elx)', 'Embu (ebu)', 'Emilian (egl)', 'English (en)',\n  'Erzya (myv)', 'Esperanto (eo)', 'Estonian (et)', 'European Portuguese (pt_PT)', 'European Spanish (es_ES)',\n  'Ewe (ee)', 'Ewondo (ewo)', 'Extremaduran (ext)', 'Fang (fan)', 'Fanti (fat)', 'Faroese (fo)', 'Fiji Hindi (hif)',\n  'Fijian (fj)', 'Filipino (fil)', 'Finnish (fi)', 'Flemish (nl_BE)', 'Fon (fon)', 'Frafra (gur)', 'French (fr)',\n  'Friulian (fur)', 'Fulah (ff)', 'Ga (gaa)', 'Gagauz (gag)', 'Galician (gl)', 'Gan Chinese (gan)', 'Ganda (lg)',\n  'Gayo (gay)', 'Gbaya (gba)', 'Geez (gez)', 'Georgian (ka)', 'German (de)', 'Gheg Albanian (aln)', 'Ghomala (bbj)',\n  'Gilaki (glk)', 'Gilbertese (gil)', 'Goan Konkani (gom)', 'Gondi (gon)', 'Gorontalo (gor)', 'Gothic (got)',\n  'Grebo (grb)', 'Greek (el)', 'Guarani (gn)', 'Gujarati (gu)', 'Gusii (guz)', 'Gwichin (gwi)', 'Haida (hai)',\n  'Haitian (ht)', 'Hakka Chinese (hak)', 'Hausa (ha)', 'Hawaiian (haw)', 'Hebrew (he)', 'Herero (hz)',\n  'Hiligaynon (hil)', 'Hindi (hi)', 'Hiri Motu (ho)', 'Hittite (hit)', 'Hmong (hmn)', 'Hungarian (hu)',\n  'Hupa (hup)', 'Iban (iba)', 'Ibibio (ibb)', 'Icelandic (is)', 'Ido (io)', 'Igbo (ig)', 'Iloko (ilo)',\n  'Inari Sami (smn)', 'Indonesian (id)', 'Ingrian (izh)', 'Ingush (inh)', 'Interlingua (ia)', \n  'Interlingue (ie)', 'Inuktitut (iu)', 'Inupiaq (ik)', 'Irish (ga)', 'Italian (it)', 'Jamaican Creole English (jam)',\n  'Japanese (ja)', 'Javanese (jv)', 'Jju (kaj)', 'Jola-Fonyi (dyo)', 'Judeo-Arabic (jrb)', 'Judeo-Persian (jpr)',\n  'Jutish (jut)', 'Kabardian (kbd)', 'Kabuverdianu (kea)', 'Kabyle (kab)', 'Kachin (kac)', 'Kaingang (kgp)', 'Kako (kkj)',\n  'Kalaallisut (kl)', 'Kalenjin (kln)', 'Kalmyk (xal)', 'Kamba (kam)', 'Kanembu (kbl)', 'Kannada (kn)',\n  'Kanuri (kr)', 'Kara-Kalpak (kaa)', 'Karachay-Balkar (krc)', 'Karelian (krl)', 'Kashmiri (ks)', 'Kashubian (csb)',\n  'Kawi (kaw)', 'Kazakh (kk)', 'Kenyang (ken)', 'Khasi (kha)', 'Khmer (km)', 'Khotanese (kho)', 'Khowar (khw)',\n  'Kikuyu (ki)', 'Kimbundu (kmb)', 'Kinaray-a (krj)', 'Kinyarwanda (rw)', 'Kirmanjki (kiu)', 'Klingon (tlh)',\n  'Kom (bkm)', 'Komi (kv)', 'Komi-Permyak (koi)', 'Kongo (kg)', 'Konkani (kok)', 'Korean (ko)', 'Koro (kfo)',\n  'Kosraean (kos)', 'Kotava (avk)', 'Koyra Chiini (khq)', 'Koyraboro Senni (ses)', 'Kpelle (kpe)', 'Krio (kri)',\n  'Kuanyama (kj)', 'Kumyk (kum)', 'Kurdish (ku)', 'Kurukh (kru)', 'Kutenai (kut)', 'Kwasio (nmg)', 'Kyrgyz (ky)',\n  'Kiche (quc)', 'Ladino (lad)', 'Lahnda (lah)', 'Lakota (lkt)', 'Lamba (lam)', 'Langi (lag)', 'Lao (lo)',\n  'Latgalian (ltg)', 'Latin (la)', 'Latin American Spanish (es_419)', 'Latvian (lv)', 'Laz (lzz)', 'Lezghian (lez)',\n  'Ligurian (lij)', 'Limburgish (li)', 'Lingala (ln)', 'Lingua Franca Nova (lfn)', 'Literary Chinese (lzh)',\n  'Lithuanian (lt)', 'Livonian (liv)', 'Lojban (jbo)', 'Lombard (lmo)', 'Low German (nds)', 'Lower Silesian (sli)',\n  'Lower Sorbian (dsb)', 'Lozi (loz)', 'Luba-Katanga (lu)', 'Luba-Lulua (lua)', 'Luiseno (lui)', 'Lule Sami (smj)',\n  'Lunda (lun)', 'Luo (luo)', 'Luxembourgish (lb)', 'Luyia (luy)', 'Maba (mde)', 'Macedonian (mk)', 'Machame (jmc)',\n  'Madurese (mad)', 'Mafa (maf)', 'Magahi (mag)', 'Main-Franconian (vmf)', 'Maithili (mai)', 'Makasar (mak)',\n  'Makhuwa-Meetto (mgh)', 'Makonde (kde)', 'Malagasy (mg)', 'Malay (ms)', 'Malayalam (ml)', 'Maltese (mt)', 'Manchu (mnc)',\n  'Mandar (mdr)', 'Mandingo (man)', 'Manipuri (mni)', 'Manx (gv)', 'Maori (mi)', 'Mapuche (arn)', 'Marathi (mr)',\n  'Mari (chm)', 'Marshallese (mh)', 'Marwari (mwr)', 'Masai (mas)', 'Mazanderani (mzn)', 'Medumba (byv)', 'Mende (men)',\n  'Mentawai (mwv)', 'Meru (mer)', 'Meta (mgo)', 'Mexican Spanish (es_MX)', 'Micmac (mic)', 'Middle Dutch (dum)',\n  'Middle English (enm)', 'Middle French (frm)', 'Middle High German (gmh)', 'Middle Irish (mga)', 'Min Nan Chinese (nan)',\n  'Minangkabau (min)', 'Mingrelian (xmf)', 'Mirandese (mwl)', 'Mizo (lus)', 'Modern Standard Arabic (ar_001)',\n  'Mohawk (moh)', 'Moksha (mdf)', 'Moldavian (ro_MD)', 'Mongo (lol)', 'Mongolian (mn)', 'Morisyen (mfe)',\n  'Moroccan Arabic (ary)', 'Mossi (mos)', 'Multiple Languages (mul)', 'Mundang (mua)', 'Muslim Tat (ttt)', 'Myene (mye)',\n  'Nama (naq)', 'Nauru (na)', 'Navajo (nv)', 'Ndonga (ng)', 'Neapolitan (nap)', 'Nepali (ne)', 'Newari (new)',\n  'Ngambay (sba)', 'Ngiemboon (nnh)', 'Ngomba (jgo)', 'Nheengatu (yrl)', 'Nias (nia)', 'Niuean (niu)',\n  'No linguistic content (zxx)', 'Nogai (nog)', 'North Ndebele (nd)', 'Northern Frisian (frr)', 'Northern Sami (se)',\n  'Northern Sotho (nso)', 'Norwegian (no)', 'Norwegian Bokml (nb)', 'Norwegian Nynorsk (nn)', 'Novial (nov)',\n  'Nuer (nus)', 'Nyamwezi (nym)', 'Nyanja (ny)', 'Nyankole (nyn)', 'Nyasa Tonga (tog)', 'Nyoro (nyo)', 'Nzima (nzi)',\n  'NKo (nqo)', 'Occitan (oc)', 'Ojibwa (oj)', 'Old English (ang)', 'Old French (fro)', 'Old High German (goh)',\n  'Old Irish (sga)', 'Old Norse (non)', 'Old Persian (peo)', 'Old Provenal (pro)', 'Oriya (or)', 'Oromo (om)',\n  'Osage (osa)', 'Ossetic (os)', 'Ottoman Turkish (ota)', 'Pahlavi (pal)', 'Palatine German (pfl)', 'Palauan (pau)',\n  'Pali (pi)', 'Pampanga (pam)', 'Pangasinan (pag)', 'Papiamento (pap)', 'Pashto (ps)', 'Pennsylvania German (pdc)',\n  'Persian (fa)', 'Phoenician (phn)', 'Picard (pcd)', 'Piedmontese (pms)', 'Plautdietsch (pdt)', 'Pohnpeian (pon)',\n  'Polish (pl)', 'Pontic (pnt)', 'Portuguese (pt)', 'Prussian (prg)', 'Punjabi (pa)', 'Quechua (qu)', 'Rajasthani (raj)',\n  'Rapanui (rap)', 'Rarotongan (rar)', 'Riffian (rif)', 'Romagnol (rgn)', 'Romanian (ro)', 'Romansh (rm)', 'Romany (rom)',\n  'Rombo (rof)', 'Root (root)', 'Rotuman (rtm)', 'Roviana (rug)', 'Rundi (rn)', 'Russian (ru)', 'Rusyn (rue)', 'Rwa (rwk)',\n  'Saho (ssy)', 'Sakha (sah)', 'Samaritan Aramaic (sam)', 'Samburu (saq)', 'Samoan (sm)', 'Samogitian (sgs)',\n  'Sandawe (sad)', 'Sango (sg)', 'Sangu (sbp)', 'Sanskrit (sa)', 'Santali (sat)', 'Sardinian (sc)', 'Sasak (sas)',\n  'Sassarese Sardinian (sdc)', 'Saterland Frisian (stq)', 'Saurashtra (saz)', 'Scots (sco)', 'Scottish Gaelic (gd)',\n  'Selayar (sly)', 'Selkup (sel)', 'Sena (seh)', 'Seneca (see)', 'Serbian (sr)', 'Serbo-Croatian (sh)', 'Serer (srr)',\n  'Seri (sei)', 'Shambala (ksb)', 'Shan (shn)', 'Shona (sn)', 'Sichuan Yi (ii)', 'Sicilian (scn)', 'Sidamo (sid)',\n  'Siksika (bla)', 'Silesian (szl)', 'Simplified Chinese (zh_Hans)', 'Sindhi (sd)', 'Sinhala (si)', 'Skolt Sami (sms)',\n  'Slave (den)', 'Slovak (sk)', 'Slovenian (sl)', 'Soga (xog)', 'Sogdien (sog)', 'Somali (so)', 'Soninke (snk)',\n  'South Azerbaijani (azb)', 'South Ndebele (nr)', 'Southern Altai (alt)', 'Southern Sami (sma)', 'Southern Sotho (st)',\n  'Spanish (es)', 'Sranan Tongo (srn)', 'Standard Moroccan Tamazight (zgh)', 'Sukuma (suk)', 'Sumerian (sux)',\n  'Sundanese (su)', 'Susu (sus)', 'Swahili (sw)', 'Swati (ss)', 'Swedish (sv)', 'Swiss French (fr_CH)', 'Swiss German (gsw)',\n  'Swiss High German (de_CH)', 'Syriac (syr)', 'Tachelhit (shi)', 'Tagalog (tl)', 'Tahitian (ty)', 'Taita (dav)',\n  'Tajik (tg)', 'Talysh (tly)', 'Tamashek (tmh)', 'Tamil (ta)', 'Taroko (trv)', 'Tasawaq (twq)', 'Tatar (tt)', \n  'Telugu (te)', 'Tereno (ter)', 'Teso (teo)', 'Tetum (tet)', 'Thai (th)', 'Tibetan (bo)', 'Tigre (tig)', 'Tigrinya (ti)',\n  'Timne (tem)', 'Tiv (tiv)', 'Tlingit (tli)', 'Tok Pisin (tpi)', 'Tokelau (tkl)', 'Tongan (to)', 'Tornedalen Finnish (fit)',\n  'Traditional Chinese (zh_Hant)', 'Tsakhur (tkr)', 'Tsakonian (tsd)', 'Tsimshian (tsi)', 'Tsonga (ts)', 'Tswana (tn)',\n  'Tulu (tcy)', 'Tumbuka (tum)', 'Tunisian Arabic (aeb)', 'Turkish (tr)', 'Turkmen (tk)', 'Turoyo (tru)', 'Tuvalu (tvl)',\n  'Tuvinian (tyv)', 'Twi (tw)', 'Tyap (kcg)', 'Udmurt (udm)', 'Ugaritic (uga)', 'Ukrainian (uk)', 'Umbundu (umb)',\n  'Unknown Language (und)', 'Upper Sorbian (hsb)', 'Urdu (ur)', 'Uyghur (ug)', 'Uzbek (uz)', 'Vai (vai)', 'Venda (ve)',\n  'Venetian (vec)', 'Veps (vep)', 'Vietnamese (vi)', 'Volapk (vo)', 'Vro (vro)', 'Votic (vot)', 'Vunjo (vun)',\n  'Walloon (wa)', 'Walser (wae)', 'Waray (war)', 'Warlpiri (wbp)', 'Washo (was)', 'Wayuu (guc)', 'Welsh (cy)',\n  'West Flemish (vls)', 'Western Frisian (fy)', 'Western Mari (mrj)', 'Wolaytta (wal)', 'Wolof (wo)', 'Wu Chinese (wuu)',\n  'Xhosa (xh)', 'Xiang Chinese (hsn)', 'Yangben (yav)', 'Yao (yao)', 'Yapese (yap)', 'Yemba (ybb)', 'Yiddish (yi)',\n  'Yoruba (yo)', 'Zapotec (zap)', 'Zarma (dje)', 'Zaza (zza)', 'Zeelandic (zea)', 'Zenaga (zen)', 'Zhuang (za)', \n  'Zoroastrian Dari (gbz)', 'Zulu (zu)', 'Zuni (zun)']\n\nconst genderOptions = [\n  'Female',\n  'Male',\n  'Other'\n]\n\nconst maritalStatusOptions = [\n  'Common Law',\n  'Divorced',\n  'Married',\n  'Other',\n  'Separated',\n  'Single',\n  'Widowed'\n]\n\nconst statusInCanadaOptions = [\n  'Application in Process - Family',\n  'Application in Process - Humanitarian and Compassionate',\n  'Application in Process - Independent',\n  'Application in Process - Refugee',\n  'Canadian Citizen',\n  'Immigrant',\n  'Other',\n  'Permanent Resident - Business Class',\n  'Permanent Resident - Canadian Experience Class',\n  'Permanent Resident - Family Class',\n  'Permanent Resident -  Humanitarian and Compassionate',\n  'Permanent Resident - Live-in Caregiver',\n  'Permanent Resident - Provincial Nominee',\n  'Permanent Resident - Refugees',\n  'Permanent Resident - Skilled Worker and Skilled Trades',\n  'Temporary Resident',\n  'Visitors Visa',\n  'Work Permit'\n]\n\nconst educationLevelOptions = [\n  'College',\n  'Elementary',\n  'Post Graduate',\n  'Secondary',\n  'University'\n]\n\nconst incomeSourceOptions = [\n 'Crowd Ward',\n 'Dependent of OW/ODSP',\n 'Employment',\n 'Employment Insurance',\n 'Family Members Income',\n 'None',\n 'Ontario Disability Support Program',\n 'Ontario Works',\n 'Other',\n 'Pension',\n 'Unknown',\n 'Workers Safety and Insurance'\n]\n\nconst matchStatusOptions = [\n  'Contacted',\n  'Matched',\n  'Referred',\n  'Selected'\n]\n\nconst familyRelationshipOptions = [\n  'Child',\n  'Parent',\n  'Sibling',\n  'Spouse'\n]\n\nconst needStatusOptions = [\n  'Fulfilled',\n  'In Progress',\n  'Matched',\n  'Pending',\n  'Unmatched'\n]\n\nconst serviceTypeOptions = [\n  'External',\n  'Internal',\n  'Professional/Community',\n  'Volunteer based'\n]\n\nconst serviceSharedWithOptions = [\n  \"Children's Aid Society of Toronto\",\n  \"Durham Children's Aid Society\",\n  \"Eva's Initiatives\",\n  'Abrigo Centre',\n  'Adventist community services',\n  'AIDS Committee of Durham Region',\n  'Albion Neighbourhood Services',\n  'Alexandra Park Community Centre',\n  'Applegrove Community Complex',\n  'Arab Community Centre of Toronto',\n  'Aurora Food Pantry',\n  'Barbra Schlifer Commemorative Clinic',\n  'Bluffs Food Bank',\n  'Boost Child & Youth Advocacy Centre',\n  'Brock Community Food Bank',\n  'Central Toronto Youth Services',\n  'Covenant House Toronto',\n  'Durham Rape Crisis Centre',\n  'Durham Youth Housing and Support Services',\n  'Horizons for Youth',\n  'Kababayan Multicultural Centre',\n  'Markham Food Bank',\n  'Parkdale Community Food Bank',\n  'Pediatric Oncology Group of Ontario',\n  'Private',\n  'Public'\n]\n\nconst provinceOptions = [\n  'Alberta',\n  'British Columbia',\n  'Manitoba',\n  'New Brunswick',\n  'Newfoundland and Labrador',\n  'Nova Scotia',\n  'Ontario',\n  'Prince Edward Island',\n  'Quebec',\n  'Saskatchewan'\n]\n\nmodule.exports = Object.freeze({\n  serverHost: serverHost,\n  torontoCoordinates: torontoCoordinates,\n  countryOptions: countryOptions,\n  languageOptions: languageOptions,\n  genderOptions: genderOptions,\n  maritalStatusOptions: maritalStatusOptions,\n  statusInCanadaOptions: statusInCanadaOptions,\n  educationLevelOptions: educationLevelOptions,\n  incomeSourceOptions: incomeSourceOptions,\n  matchStatusOptions: matchStatusOptions,\n  familyRelationshipOptions: familyRelationshipOptions,\n  needStatusOptions: needStatusOptions,\n  serviceTypeOptions: serviceTypeOptions,\n  serviceSharedWithOptions: serviceSharedWithOptions,\n  provinceOptions: provinceOptions,\n  ACTION_SUCCESS: ACTION_SUCCESS,\n  ACTION_ERROR: ACTION_ERROR\n});\n","import fetch from 'isomorphic-fetch';\nimport { serverHost } from '../defaults.js';\n\nexport const RECEIVE_CLIENT_NEEDS = 'RECEIVE_CLIENT_NEEDS';\nexport const RECEIVE_CLIENT_NEED = 'RECEIVE_CLIENT_NEED';\nexport const REMOVE_CLIENT_NEED = 'REMOVE_CLIENT_NEED';\nexport const REQUEST_NEED = 'REQUEST_NEED';\nexport const REQUEST_NEEDS = 'REQUEST_NEEDS';\nexport const RECEIVE_NEEDS = 'RECEIVE_NEEDS';\nexport const RECEIVE_CLIENT_NEED_GROUP = 'RECEIVE_CLIENT_NEED_GROUP';\nexport const RECEIVE_CLIENT_NEED_INFO = ' RECEIVE_CLIENT_NEED_INFO';\nexport const ERROR = 'ERROR';\n\nfunction requestNeeds(json) {\n  return {\n    type: REQUEST_NEEDS,\n    needs: json\n  }\n}\n\nfunction receiveNeeds(json) {\n  return {\n    type: RECEIVE_NEEDS,\n    needs: json\n  }\n}\n\nexport function receiveClientNeeds(clientId, json, needGroups) {\n  return {\n    type: RECEIVE_CLIENT_NEEDS,\n    clientId: clientId,\n    needs: json,\n    needGroups: needGroups\n  }\n}\n\nfunction receiveClientNeed(clientId, need, needGroup) {\n  return {\n    type: RECEIVE_CLIENT_NEED,\n    clientId: clientId,\n    need: need,\n    needGroup: needGroup\n  }\n}\n\nfunction receiveClientNeedInfo(clientId, needId, need) {\n  return {\n    type: RECEIVE_CLIENT_NEED_INFO,\n    clientId: clientId,\n    needId: needId,\n    need: need\n  }\n}\n\nfunction removeClientNeed(clientId, needId) {\n  return {\n    type: REMOVE_CLIENT_NEED,\n    clientId: clientId,\n    needId: needId\n  }\n}\n\nfunction receiveClientNeedGroup(clientId, needGroup) {\n  return {\n    type: RECEIVE_CLIENT_NEED_GROUP,\n    clientId: clientId,\n    needGroup: needGroup\n  }\n}\n\nfunction requestNeed(id) {\n  return {\n    type: REQUEST_NEED,\n    needId: id\n  }\n}\n\nexport function createClientNeed(clientId, params) {\n  return dispatch => {\n    const url = serverHost + '/clients/' + clientId + '/needs/';\n\n    return fetch(url, {\n      method: \"POST\",\n      body: JSON.stringify(params),\n      headers: {\n        \"Content-Type\": \"application/json\",\n        'Authorization': `JWT ${localStorage.getItem('jwt_token')}`\n      }\n    })\n    .then(response => response.json())\n    .then(needInfo =>\n      dispatch(receiveClientNeed(clientId, needInfo.need, needInfo.need_group))\n    );\n  }\n}\n\nexport function updateClientNeed(clientId, needId, params) {\n  return dispatch => {\n    const url = serverHost + '/clients/' + clientId + '/needs/' + needId + '/';\n\n    return fetch(url, {\n      method: \"PUT\",\n      body: JSON.stringify(params),\n      headers: {\n        \"Content-Type\": \"application/json\",\n        'Authorization': `JWT ${localStorage.getItem('jwt_token')}`\n      }\n    }).then(response => response.json())\n      .then(needInfo => dispatch(receiveClientNeed(clientId, needInfo.need, needInfo.need_group)));\n  }\n}\n\nexport function updateClientNeedGroup(clientId, needGroupId, params) {\n  return dispatch => {\n    const url = serverHost + '/clients/' + clientId + '/need_groups/' + needGroupId + '/';\n\n    return fetch(url, {\n      method: \"PUT\",\n      body: JSON.stringify(params),\n      headers: {\n        \"Content-Type\": \"application/json\",\n        'Authorization': `JWT ${localStorage.getItem('jwt_token')}`\n      }\n    }).then(response => response.json())\n      .then(needGroup => dispatch(receiveClientNeedGroup(clientId, needGroup)));\n  }\n}\n\nexport function matchClientNeed(needId, params) {\n  return dispatch => {\n    const url = serverHost + '/needs/' + needId + '/matches/';\n\n    return fetch(url, {\n      method: \"POST\",\n      body: JSON.stringify(params),\n      headers: {\n        \"Content-Type\": \"application/json\",\n        'Authorization': `JWT ${localStorage.getItem('jwt_token')}`\n      }\n    }).then(response => response.json())\n      .then(need => {\n        dispatch(receiveClientNeedInfo(need.client_id, needId, need))\n      });\n  }\n}\n\nexport function deleteClientNeed(clientId, needId, params) {\n  return dispatch => {\n    const url = serverHost + '/clients/' + clientId + '/needs/' + needId + '/';\n    return fetch(url, {\n      method: \"DELETE\",\n      body: JSON.stringify(params),\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `JWT ${localStorage.getItem('jwt_token')}`\n      }\n    }).then(response => {\n      if (response.status === 204) {\n        dispatch(removeClientNeed(clientId, needId))\n      }\n    });\n  }\n}\n\nexport function fetchNeed(needId, callback) {\n  return dispatch => {\n    dispatch(requestNeed(needId))\n    const url = serverHost + '/needs/' + needId;\n\n    return fetch(url, {\n      method: 'GET',\n      headers: {\n        \"Content-Type\": \"application/json\",\n        'Authorization': `JWT ${localStorage.getItem('jwt_token')}`\n      }\n    })\n    .then(response => response.json())\n    .then(need => {\n      dispatch(receiveClientNeedInfo(need.client_id, need.id, need))\n      callback(need)\n    });\n  }\n}\n\nexport function fetchNeeds() {\n  return dispatch => {\n    dispatch(requestNeeds())\n    const url = serverHost + '/needs/';\n\n    return fetch(url, {\n        method: 'GET',\n        headers: {\n          'Authorization': `JWT ${localStorage.getItem('jwt_token')}`\n        },\n      }).then(response => response.json())\n      .then(json => {\n        dispatch(receiveNeeds(json))\n      })\n  }\n}\n\nexport function updateMatchStatus(matchId, params) {\n  return dispatch => {\n    const url = serverHost + '/matches/' + matchId + '/';\n\n    return fetch(url, {\n      method: 'PATCH',\n      body: JSON.stringify(params),\n      headers: {\n        \"Content-Type\": \"application/json\",\n        'Authorization': `JWT ${localStorage.getItem('jwt_token')}`\n      }\n    })\n    .then(response => response.json())\n    .then(need => dispatch(receiveClientNeedInfo(need.client_id, need.id, need)));\n  }\n}\n\nexport function createMatchNote(params) {\n  return dispatch => {\n    const url = serverHost + '/notes/';\n\n    return fetch(url, {\n      method: \"POST\",\n      body: JSON.stringify(params),\n      headers: {\n        \"Content-Type\": \"application/json\",\n        'Authorization': `JWT ${localStorage.getItem('jwt_token')}`\n      }\n    })\n    .then(response => response.json())\n    .then(need => dispatch(receiveClientNeedInfo(need.client_id, need.id, need)));\n  }\n}\n","import { serverHost } from '../defaults.js';\nimport jwt_decode from 'jwt-decode';\n\nexport const LOGIN_SUCCESS = 'LOGIN_SUCCESS';\nexport const LOGIN_FAILURE = 'LOGIN_FAILURE';\nexport const LOGGED_OUT = 'LOGGED_OUT';\nexport const UPDATE_ORGANIZATION = 'UPDATE_ORGANIZATION';\n\nfunction login_success(user, organization) {\n  console.log(\"File: authActions.js - Function: login_success - Parameters: user, organization. - Values: \", user, organization);\n  return {\n    type: LOGIN_SUCCESS,\n    user: user,\n    organization: organization\n  }\n}\n\nfunction login_failure(alert) {\n  console.log(\"File: authActions.js -  Function: login_failure - Parameters: alert - Values:  \", alert);\n  return {\n    type: LOGIN_FAILURE,\n    alert\n  }\n}\n\nfunction logged_out(sessionExpired) {\n  console.log(\"File: authActions.js -  Function: logged_out - Parameters: sessionExpired - Values: \", sessionExpired);\n  return {\n    type: LOGGED_OUT,\n    alert: sessionExpired && 'Your session has expired. Please login again.'\n  }\n}\n\nexport function updateAuthOrganization(provider) {\n  console.log(\"File: authActions.js -  Function: updateAuthOrganization - Parameters: provider - Values:\", provider);\n  return {\n    type: UPDATE_ORGANIZATION,\n    provider: provider\n  }\n}\n\nexport function login(params) {\n  console.log(\"File: authActions.js -  Function: login -  Parameters: params - Values:  \", params);\n  return dispatch => {\n    const url = serverHost + '/api-token-auth/';\n\n    return fetch(url, {\n      method: \"POST\",\n      body: JSON.stringify(params),\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    })\n    .then(async(response) => {\n      if (response.status === 200) {\n        return response.json()\n      }\n      else {\n        const error = await response.json();\n        throw new Error(JSON.stringify(error['non_field_errors']))\n      }\n    })\n    .then(json => {\n      console.log(\"File: authActions.js -  Function: login - Step 2  json:  \", json);\n      const decoded_token = jwt_decode(json.token);\n      let user = (({ user_id, username, email }) => ({ user_id, username, email }))(decoded_token);\n      user['expired_at'] = decoded_token['exp'] * 1000;\n      user['is_admin'] = json.is_admin;\n      const organization = {\n        id: json.provider_id,\n        name: json.organization_name\n      };\n      localStorage.setItem('jwt_token', json.token);\n      dispatch(login_success(user, organization));\n      return {status: LOGIN_SUCCESS}\n    }).catch(err => {\n      let alert;\n      if (err.message === \"Failed to fetch\") {\n        alert = 'Server is unavailable due to a temporary outage.'\n      }\n      else {\n        alert = 'The username or password you entered is incorrect. Please try again.'\n      }\n      dispatch(login_failure(alert));\n      return {status: LOGIN_FAILURE, message: alert};\n    })\n  }\n}\n\nexport function logout(sessionExpired) {\n  return dispatch => {\n    dispatch(logged_out(sessionExpired))\n    localStorage.removeItem('jwt_token');\n  }\n}\n","import { LOGIN_SUCCESS, LOGGED_OUT, UPDATE_ORGANIZATION, LOGIN_FAILURE} from '../actions/authAction.js';\n\nconst DEFAULT_STATE = {\n  currentUser: null,\n  isLoggedin: false,\n  organization: { id: null, name: null },\n  alert: null\n}\n\nexport function auth(state = DEFAULT_STATE, action) {\n  switch (action.type) {\n    case LOGIN_SUCCESS:\n      console.log(\"File: authReducer.js, Function: auth, case LOGIN_SUCCESS, Parameters: state, action -> \", state, action)\n      return Object.assign({}, state, {\n        currentUser: action.user,\n        isLoggedin: true,\n        organization: action.organization,\n        alert: null\n      })\n    case LOGIN_FAILURE:\n      console.log(\"File: authReducer.js, Function: auth, case LOGIN_FAILURE, Parameters: state, action -> \", state, action)\n      return Object.assign({}, state, {\n        alert: action.alert\n      })\n    case LOGGED_OUT:\n      console.log(\"File: authReducer.js, Function: auth, case LOGGED_OUT, Parameters: state, action -> \", state, action)\n      return Object.assign({}, state, {\n        currentUser: null,\n        isLoggedin: false,\n        organization: { id: null, name: null },\n        alert: action.alert\n      })\n    case UPDATE_ORGANIZATION:\n      console.log(\"File: authReducer.js, Function: auth, case UPDATE_ORGANIZATION, Parameters: state, action -> \", state, action)\n      return Object.assign({}, state, {\n        organization: {\n          id: action.provider.id,\n          name: action.provider.company\n        }\n      })\n    default:\n      return state\n  }\n}\n","import fetch from 'isomorphic-fetch';\nimport { serverHost } from '../defaults.js';\n\nexport const RECEIVE_CATEGORIES = 'RECEIVE_CATEGORIES'\n\n\nexport function receiveCategories(type, categories) {\n  return {\n    type: RECEIVE_CATEGORIES,\n    category_type: type,\n    categories: categories\n  }\n}\n\nexport function fetchOntologyCategories(type) {\n  return dispatch => {\n    const url = serverHost + '/categories/' + type + '/';\n    return fetch(url, { method: \"GET\" })\n      .then(response => response.json())\n      .then(json => {\n        dispatch(receiveCategories(type, json['categories']));\n        return json.categories;\n      });\n  }\n}\n","import { RECEIVE_CATEGORIES } from '../actions/ontologyActions.js';\n\nconst DEFAULT_CATEGORY_STATE = { categories: [], loaded: false }\n\nexport function ontology(state = { needs: DEFAULT_CATEGORY_STATE,\n                                   services: DEFAULT_CATEGORY_STATE,\n                                   languages: DEFAULT_CATEGORY_STATE },\n                         action) {\n  switch (action.type) {\n    case RECEIVE_CATEGORIES:\n      return {...state, [action.category_type]: { categories: action.categories.sort(), loaded: true } }\n    default:\n      return state\n  }\n}\n","import fetch from 'isomorphic-fetch';\nimport { serverHost, ACTION_SUCCESS, ACTION_ERROR } from '../defaults.js';\n\nimport { receiveClientNeeds } from './needActions'\n\nexport const REQUEST_CLIENT = 'REQUEST_CLIENT';\nexport const RECEIVE_CLIENT = 'RECEIVE_CLIENT';\nexport const REQUEST_CLIENTS = 'REQUEST_CLIENTS';\nexport const REMOVE_CLIENT = 'REMOVE_CLIENT';\nexport const RECEIVE_CLIENTS = 'RECEIVE_CLIENTS';\nexport const SEARCH_CLIENTS = 'SEARCH_CLIENTS';\n\n\nfunction requestClient(id) {\n  return {\n    type: REQUEST_CLIENT,\n    id: id\n  }\n}\n\nfunction receiveClient(id, json) {\n  return {\n    type: RECEIVE_CLIENT,\n    id: id,\n    client: json\n  }\n}\n\nfunction requestClients(json) {\n  return {\n    type: REQUEST_CLIENTS,\n    clients: json\n  }\n}\n\nfunction receiveClients(json) {\n  return {\n    type: RECEIVE_CLIENTS,\n    clients: json\n  }\n}\n\nfunction removeClient(id) {\n  return {\n    type: REMOVE_CLIENT,\n    id: id\n  }\n}\n\nexport function searchClients(searchValue, searchType, sortType) {\n  return {\n    type: SEARCH_CLIENTS,\n    searchValue: searchValue,\n    searchType: searchType,\n    sortType: sortType\n  };\n}\n\n\nexport function fetchClient(id) {\n  return dispatch => {\n    dispatch(requestClient(id))\n    const url = serverHost + '/client/' + id + '/';\n    return fetch(url, {\n        method: 'GET',\n        headers: {\n          'Authorization': `JWT ${localStorage.getItem('jwt_token')}`\n        },\n      }).then(response => response.json())\n      .then(json => {\n        dispatch(receiveClient(id, json));\n        dispatch(receiveClientNeeds(id, json['needs'], json['need_groups']));\n        return json;\n      });\n  }\n}\n\nexport function fetchClients() {\n  return dispatch => {\n    dispatch(requestClients())\n    let url = serverHost + '/clients/';\n\n    return fetch(url, {\n        method: 'GET',\n        headers: {\n          'Authorization': `JWT ${localStorage.getItem('jwt_token')}`\n        },\n      })\n      .then(async(response) => {\n        if (response.status === 200) {\n          return response.json()\n        }\n        else {\n          const error = await response.json()\n          throw new Error(JSON.stringify(error))\n        }\n      })\n      .then(json => {\n        dispatch(receiveClients(json));\n        return json;\n      })\n      .catch(err => {\n        return ACTION_ERROR;\n      })\n  }\n}\n\n\nexport function deleteClient(id, params) {\n  return dispatch => {\n    const url = serverHost + '/client/' + id + '/';\n    return fetch(url, {\n      method: 'DELETE',\n      body: JSON.stringify(params),\n      headers: {\n        'Authorization': `JWT ${localStorage.getItem('jwt_token')}`,\n        'Content-Type': 'application/json'\n      },\n    })\n    .then(response => {\n      if (response.status === 204) {\n        dispatch(removeClient(id));\n        return ACTION_SUCCESS;\n      }\n      else {\n        return ACTION_ERROR;\n      }\n    })\n  }\n}\n\nexport function createClient(params, callback) {\n  console.log(\"createClient params\", params);\n\n  return dispatch => {\n    const url = serverHost + '/clients/';\n    return fetch(url, {\n      method: 'POST',\n      body: JSON.stringify(params),\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `JWT ${localStorage.getItem('jwt_token')}`\n      }\n    })\n    .then(async(response) => {\n      console.log(\"createClient response.status\", response.status);\n      if (response.status === 201) {\n        return response.json()\n      }\n      else {\n        const error = await response.json()\n        throw new Error(JSON.stringify(error))\n      }\n    })\n    .then(client => {\n      dispatch(receiveClient(client.id, client))\n      callback(ACTION_SUCCESS, null, client.id);\n    }).catch(err => {\n      callback(ACTION_ERROR, err);\n    })\n  }\n}\n\nexport function createClients(file) {\n  const formData  = new FormData();\n  formData.append('file', file)\n\n  return dispatch => {\n    const url = serverHost + '/clients.csv';\n    return fetch(url, {\n      method: 'POST',\n      body: formData,\n      headers: {\n        'Authorization': `JWT ${localStorage.getItem('jwt_token')}`\n      }\n    })\n    .then(async(response) => {\n      if (response.status === 201) {\n        return response.json()\n      }\n      else {\n        const error = await response.json()\n        throw new Error(JSON.stringify(error))\n      }\n    })\n    .then(clients => {\n      dispatch(receiveClients(clients))\n      return ACTION_SUCCESS;\n    })\n    .catch(err => {\n      // dispatch(createFailure(err))\n      return ACTION_ERROR;\n    })\n  }\n}\n\nexport function updateClient(id, params, callback) {\n  console.log(\"updateClient id, params\", id, params);\n  return dispatch => {\n    const url = serverHost + '/client/' + id + '/';\n\n    return fetch(url, {\n      method: 'PUT',\n      body: JSON.stringify(params),\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `JWT ${localStorage.getItem('jwt_token')}`\n      }\n    })\n    .then(async(response) => {\n      if (response.status === 200) {\n        return response.json();\n      }\n      else {\n        const error = await response.json()\n        throw new Error(JSON.stringify(error))\n      }\n    })\n    .then(client => {\n      dispatch(receiveClient(client.id, client))\n      callback(ACTION_SUCCESS, null, client.id);\n    }).catch(err => {\n      callback(ACTION_ERROR, err);\n    })\n  }\n}\n","import fetch from 'isomorphic-fetch';\nimport { serverHost, ACTION_SUCCESS, ACTION_ERROR } from '../defaults.js';\n\nexport const REQUEST_SERVICE = 'REQUEST_SERVICE';\nexport const RECEIVE_SERVICE = 'RECEIVE_SERVICE';\nexport const REQUEST_SERVICES = 'REQUEST_SERVICES';\nexport const REMOVE_SERVICE = 'REMOVE_SERVICE';\nexport const RECEIVE_SERVICES = 'RECEIVE_SERVICES';\nexport const SEARCH_SERVICES = 'SEARCH_SERVICES';\n\n\nfunction requestService(id) {\n  return {\n    type: REQUEST_SERVICE,\n    id: id\n  }\n}\n\nfunction receiveService(id, json) {\n  return {\n    type: RECEIVE_SERVICE,\n    id: id,\n    service: json\n  }\n}\n\nfunction requestServices(json) {\n  return {\n    type: REQUEST_SERVICES,\n    services: json\n  }\n}\n\nfunction receiveServices(json) {\n  return {\n    type: RECEIVE_SERVICES,\n    services: json\n  }\n}\n\nfunction removeService(id) {\n  return {\n    type: REMOVE_SERVICE,\n    id: id\n  }\n}\n\nexport function searchServices(searchValue, searchType, sortType) {\n  return {\n    type: SEARCH_SERVICES,\n    searchValue: searchValue,\n    searchType: searchType,\n    sortType: sortType\n  };\n}\n\n\nexport function fetchService(id) {\n  return dispatch => {\n    dispatch(requestService(id))\n    const url = serverHost + '/service/' + id + '/';\n    return fetch(url, {\n        method: 'GET',\n        headers: {\n          'Authorization': `JWT ${localStorage.getItem('jwt_token')}`\n        },\n      }).then(response => response.json())\n      .then(json => {\n        dispatch(receiveService(id, json))\n      })\n  }\n}\n\nexport function fetchServices() {\n  return dispatch => {\n    dispatch(requestServices())\n    const url = serverHost + '/services/';\n\n    return fetch(url, {\n        method: 'GET',\n        headers: {\n          'Authorization': `JWT ${localStorage.getItem('jwt_token')}`\n        },\n      }).then(async(response) => {\n        if (response.status === 200) {\n          return response.json()\n        }\n        else {\n          const error = await response.json()\n          throw new Error(JSON.stringify(error))\n        }\n      })\n      .then(json => {\n        dispatch(receiveServices(json))\n        return json;\n      })\n      .catch(err => {\n        return ACTION_ERROR;\n      })\n  }\n\n}\n\nexport function deleteService(id, params, callback) {\n  return dispatch => {\n    const url = serverHost + '/service/' + id + '/';\n    return fetch(url, {\n      method: 'DELETE',\n      body: JSON.stringify(params),\n      headers: {\n        'Authorization': `JWT ${localStorage.getItem('jwt_token')}`,\n        'Content-Type': 'application/json'\n      },\n    }).then(response => {\n      if (response.status === 204) {\n        dispatch(removeService(id))\n        return ACTION_SUCCESS;\n      }\n      else {\n        return ACTION_ERROR;\n      }\n    })\n  }\n}\n\nexport function createService(params, callback) {\n  return dispatch => {\n    const url = serverHost + '/services/';\n    return fetch(url, {\n      method: 'POST',\n      body: JSON.stringify(params),\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `JWT ${localStorage.getItem('jwt_token')}`\n      }\n    })\n    .then(async(response) => {\n      if (response.status === 201) {\n        return response.json()\n      }\n      else {\n        const error = await response.json()\n        throw new Error(JSON.stringify(error))\n      }\n    })\n    .then(service => {\n      dispatch(receiveService(service.id, service))\n      callback(ACTION_SUCCESS, null, service.id);\n    }).catch(err => {\n      callback(ACTION_ERROR, err);\n    })\n  }\n}\n\nexport function createServices(file) {\n  const formData  = new FormData();\n  formData.append('file', file)\n\n  return dispatch => {\n    const url = serverHost + '/services.csv';\n    return fetch(url, {\n      method: 'POST',\n      body: formData,\n      headers: {\n        'Authorization': `JWT ${localStorage.getItem('jwt_token')}`\n      }\n    })\n    .then(async(response) => {\n      if (response.status === 201) {\n        return response.json()\n      }\n      else {\n        const error = await response.json()\n        throw new Error(JSON.stringify(error))\n      }\n    })\n    .then(services => {\n      dispatch(receiveServices(services))\n      return ACTION_SUCCESS\n    })\n    .catch(err => {\n      return ACTION_ERROR\n    })\n  }\n}\n\nexport function updateService(id, params, callback) {\n  return dispatch => {\n    const url = serverHost + '/service/' + id + '/';\n\n    return fetch(url, {\n      method: 'PUT',\n      body: JSON.stringify(params),\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `JWT ${localStorage.getItem('jwt_token')}`\n      }\n    })\n      .then(async(response) => {\n        if (response.status === 200) {\n          return response.json();\n        }\n        else {\n          const error = await response.json()\n          throw new Error(JSON.stringify(error))\n        }\n      })\n      .then(service => {\n        dispatch(receiveService(service.id, service))\n        callback(ACTION_SUCCESS, null, service.id);\n      }).catch(err => {\n        callback(ACTION_ERROR, err);\n      })\n  }\n}\n","import fetch from 'isomorphic-fetch';\nimport { serverHost, ACTION_SUCCESS, ACTION_ERROR } from '../defaults.js';\nimport { updateAuthOrganization } from './authAction.js'\n\nexport const REQUEST_PROVIDERS = 'REQUEST_PROVIDERS';\nexport const RECEIVE_PROVIDERS = 'RECEIVE_PROVIDERS';\nexport const REMOVE_PROVIDER = 'REMOVE_PROVIDER';\nexport const RECEIVE_PROVIDER = 'RECEIVE_PROVIDER';\nexport const REQUEST_PROVIDER = 'REQUEST_PROVIDER';\nexport const SEARCH_PROVIDERS = 'SEARCH_PROVIDERS';\n\n\nfunction requestProviders(json) {\n  return {\n    type: REQUEST_PROVIDERS,\n    providers: json\n  }\n}\n\nfunction requestProvider(id) {\n  console.log(\"requestProvider id\", id);\n  return {\n    type: REQUEST_PROVIDER,\n    id: id\n  }\n}\n\nfunction receiveProvider(id, json) {\n  console.log(\"receiveProvider json\", json);\n  return {\n    type: RECEIVE_PROVIDER,\n    provider: json,\n    id: id\n  }\n}\n\nfunction receiveProviders(json) {\n  console.log(\"receiveProviders json\", json);\n  return {\n    type: RECEIVE_PROVIDERS,\n    providers: json,\n    receivedAt: Date.now(),\n  }\n}\n\nfunction removeProvider(id) {\n  return {\n    type: REMOVE_PROVIDER,\n    id: id\n  }\n}\n\n\nexport function searchProviders(searchValue, searchType, searchProviderType, sortType) {\n  return {\n    type: SEARCH_PROVIDERS,\n    searchValue: searchValue,\n    searchType: searchType,\n    displayType: searchProviderType,\n    sortType: sortType\n  };\n}\n\n\nexport function fetchProvider(id) {\n  return dispatch => {\n    console.log(\"fetchProvider, id\", id);\n    dispatch(requestProvider(id))\n    const url = serverHost + '/provider/' + id + '/';\n\n    return fetch(url, {\n        method: 'GET',\n        headers: {\n          'Authorization': `JWT ${localStorage.getItem('jwt_token')}`\n        },\n      }).then(response => response.json())\n      .then(json => {\n        dispatch(receiveProvider(id, json))\n        return json;\n      })\n  }\n}\n\nexport function fetchProviders() {\n  return dispatch => {\n    dispatch(requestProviders())\n    const url = serverHost + '/providers/';\n\n    return fetch(url, {\n        method: 'get',\n        headers: {\n          'Authorization': `JWT ${localStorage.getItem('jwt_token')}`\n        },\n      })\n    //.then(response => response.json())\n      .then(async(response) => {\n        if (response.status === 200) {\n          return response.json()\n        }\n        else {\n          const error = await response.json()\n          throw new Error(JSON.stringify(error))\n        }\n      })\n      .then(json => {\n        dispatch(receiveProviders(json));\n        return json;\n      })\n      .catch(err => {\n        return ACTION_ERROR;\n      })\n  }\n}\n\nexport function createProvider(params, callback) {\n  return dispatch => {\n    const url = serverHost + '/providers/';\n    return fetch(url, {\n      method: \"POST\",\n      body: JSON.stringify(params),\n      headers: {\n        \"Content-Type\": \"application/json\",\n        'Authorization': `JWT ${localStorage.getItem('jwt_token')}`\n      }\n    })\n    .then(async(response) => {\n      if (response.status === 201) {\n        return response.json()\n      }\n      else {\n        const error = await response.json()\n        throw new Error(JSON.stringify(error))\n      }\n    })\n    .then(provider => {\n      dispatch(receiveProvider(provider.id, provider))\n      if (provider.status === 'Home Agency') {\n        dispatch(updateAuthOrganization(provider))\n      }\n      callback(ACTION_SUCCESS, null, provider.id);\n    }).catch(err => {\n      callback(ACTION_ERROR, err);\n    })\n  }\n}\n\nexport function createProviderWithCSV(file) {\n  const formData  = new FormData();\n  formData.append('file', file);\n\n  return dispatch => {\n    const url = serverHost + '/providers/new/upload';\n    return fetch(url, {\n      method: 'POST',\n      body: formData,\n      headers: {\n        'Authorization': `JWT ${localStorage.getItem('jwt_token')}`\n      }\n    })\n    .then(async(response) => {\n      if (response.status === 200) {\n        return response.json()\n      }\n      else {\n        const error = await response.json()\n        throw new Error(JSON.stringify(error))\n      }\n    })\n    .then(providers => {\n      dispatch(receiveProviders(providers))\n      return ACTION_SUCCESS;\n    })\n      .catch(err => {\n      return ACTION_ERROR;\n    })\n  }\n}\n\nexport function updateProvider(id, params, callback) {\n  console.log(\"updateProvider id, params\", id, params);\n  return dispatch => {\n    const url = serverHost + '/provider/' + id + '/';\n\n    return fetch(url, {\n      method: \"PUT\",\n      body: JSON.stringify(params),\n      headers: {\n        \"Content-Type\": \"application/json\",\n        'Authorization': `JWT ${localStorage.getItem('jwt_token')}`\n      }\n    })\n    .then(async(response) => {\n      if (response.status === 200) {\n        return await response.json();\n      }\n      else {\n        const error = await response.json()\n        throw new Error(JSON.stringify(error))\n      }\n    })\n      .then(provider => {\n        console.log(\"updateProvider provider.id, provider\", provider.id, provider);\n        dispatch(receiveProvider(provider.id, provider))\n /*       if (provider.status === 'Home Agency') {\n          dispatch(updateAuthOrganization(provider.id, provider))\n        } */\n        callback(ACTION_SUCCESS, null, provider.id);\n      }).catch(err => {\n        callback(ACTION_ERROR, err);\n    })\n  }\n}\n\n/*\n.then(client => {\n      dispatch(receiveClient(client.id, client))\n      callback(ACTION_SUCCESS, null, client.id);\n    }).catch(err => {\n      callback(ACTION_ERROR, err);\n\n*/\n\nexport function deleteProvider(id, params, callback) {\n  return dispatch => {\n    const url = serverHost + '/provider/' + id + '/';\n\n    return fetch(url, {\n      method: \"DELETE\",\n      body: JSON.stringify(params),\n      headers: {\n          'Authorization': `JWT ${localStorage.getItem('jwt_token')}`\n        },\n    }).then(response => {\n      if (response.status === 204) {\n        dispatch(removeProvider(id));\n        return ACTION_SUCCESS;\n      }\n      else {\n        return ACTION_ERROR;\n      }\n    })\n  }\n}\n\nexport function rateProvider(id, params) {\n  return dispatch => {\n    const url = serverHost + '/provider/' + id + '/rate';\n    return fetch(url, {\n      method: \"POST\",\n      body: JSON.stringify(params),\n      headers: {\n        \"Content-Type\": \"application/json\",\n        'Authorization': `JWT ${localStorage.getItem('jwt_token')}`\n      }\n    }).then(response => response.json())\n  }\n}\n","import fetch from 'isomorphic-fetch';\nimport { serverHost } from '../defaults.js';\n\nexport const REQUEST_GOOD = 'REQUEST_GOOD';\nexport const RECEIVE_GOOD = 'RECEIVE_GOOD';\nexport const REQUEST_GOODS = 'REQUEST_GOODS';\nexport const RECEIVE_ALL_GOODS = 'RECEIVE_ALL_GOODS';\nexport const REMOVE_GOOD = 'REMOVE_GOOD';\nexport const RECEIVE_GOODS = 'RECEIVE_GOODS';\nexport const GOOD_ERROR = 'GOOD_ERROR';\nexport const GOOD_SUCCESS = 'GOOD_SUCCESS';\nexport const SEARCH_GOODS = 'SEARCH_GOODS';\n\n\nfunction requestGood(id) {\n  return {\n    type: REQUEST_GOOD,\n    id: id\n  }\n}\n\nfunction receiveGood(id, json) {\n  return {\n    type: RECEIVE_GOOD,\n    id: id,\n    good: json\n  }\n}\n\nfunction requestGoods(json) {\n  return {\n    type: REQUEST_GOODS,\n    goods: json\n  }\n}\n\nfunction receiveGoods(json) {\n  return {\n    type: RECEIVE_GOODS,\n    goods: json\n  }\n}\n\nfunction removeGood(id) {\n  return {\n    type: REMOVE_GOOD,\n    id: id\n  }\n}\n\nexport function searchGoods(searchValue, searchType, sortType) {\n  return {\n    type: SEARCH_GOODS,\n    searchValue: searchValue,\n    searchType: searchType,\n    sortType: sortType\n  };\n}\n\n\nexport function fetchGood(id) {\n  return dispatch => {\n    dispatch(requestGood(id))\n    const url = serverHost + '/good/' + id + '/';\n    return fetch(url, {\n        method: 'GET',\n        headers: {\n          'Authorization': `JWT ${localStorage.getItem('jwt_token')}`\n        },\n      }).then(response => response.json())\n      .then(json => {\n        dispatch(receiveGood(id, json))\n      })\n  }\n}\n\nexport function fetchGoods() {\n  return dispatch => {\n    dispatch(requestGoods())\n    const url = serverHost + '/goods/';\n\n    return fetch(url, {\n        method: 'GET',\n        headers: {\n          'Authorization': `JWT ${localStorage.getItem('jwt_token')}`\n        },\n      }).then(response => response.json())\n      .then(json => {\n        dispatch(receiveGoods(json));\n        return json;\n      })\n  }\n}\n\nexport function deleteGood(id, params) {\n  return dispatch => {\n    const url = serverHost + '/good/' + id + '/';\n\n    return fetch(url, {\n      method: 'DELETE',\n      body: JSON.stringify(params),\n      headers: {\n        'Authorization': `JWT ${localStorage.getItem('jwt_token')}`,\n        'Content-Type': 'application/json'\n      },\n    })\n    .then(response => {\n      if (response.status === 204) {\n        dispatch(removeGood(id))\n        return GOOD_SUCCESS\n      }\n      else {\n        return GOOD_ERROR\n      }\n    });\n  }\n}\n\nexport function createGood(params, callback) {\n  return dispatch => {\n    const url = serverHost + '/goods/';\n    return fetch(url, {\n      method: 'POST',\n      body: JSON.stringify(params),\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `JWT ${localStorage.getItem('jwt_token')}`\n      }\n    }).then(async(response) => {\n      if (response.status === 201) {\n        return response.json()\n      }\n      else {\n        const error = await response.json()\n        throw new Error(JSON.stringify(error))\n      }\n    })\n    .then(good => {\n      dispatch(receiveGood(good.id, good))\n      callback(GOOD_SUCCESS, null, good.id);\n    }).catch(err => {\n      callback(GOOD_ERROR, err);\n    })\n  }\n}\n\nexport function createGoods(file) {\n  const formData  = new FormData();\n  formData.append('file', file)\n\n  return dispatch => {\n    const url = serverHost + '/goods.csv';\n    return fetch(url, {\n      method: 'POST',\n      body: formData,\n      headers: {\n        'Authorization': `JWT ${localStorage.getItem('jwt_token')}`\n      }\n    })\n    .then(async(response) => {\n      if (response.status === 201) {\n        return response.json()\n      }\n      else {\n        const error = await response.json()\n        throw new Error(JSON.stringify(error))\n      }\n    })\n    .then(goods => {\n      dispatch(receiveGoods(goods))\n      return GOOD_SUCCESS\n    })\n    .catch(err => {\n      return GOOD_ERROR\n    })\n  }\n}\n\nexport function updateGood(id, params, callback) {\n  return dispatch => {\n    const url = serverHost + '/good/' + id + '/';\n\n    return fetch(url, {\n      method: 'PUT',\n      body: JSON.stringify(params),\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `JWT ${localStorage.getItem('jwt_token')}`\n      }\n    })\n      .then(async(response) => {\n        if (response.status === 200) {\n          return response.json();\n        }\n        else {\n          const error = await response.json()\n          throw new Error(JSON.stringify(error))\n        }\n      })\n      .then(good => {\n        dispatch(receiveGood(good.id, good))\n        callback(GOOD_SUCCESS, null, good.id);\n      }).catch(err => {\n        callback(GOOD_ERROR, err);\n      })\n  }\n}\n","import { combineReducers } from 'redux'\nimport { needs } from './reducers/needReducers.js';\nimport { auth } from './reducers/authReducer.js';\nimport { ontology } from './reducers/ontologyReducers.js';\nimport { clients } from './reducers/clientReducer.js';\nimport { services } from './reducers/serviceReducer.js';\nimport { providers } from './reducers/providerReducers.js';\nimport { goods } from './reducers/goodReducer.js';\n\n\nconst appReducer = combineReducers({\n  services,\n  clients,\n  goods,\n  needs,\n  providers,\n  auth,\n  ontology,\n});\n\nconst initialState = appReducer({}, {});\n\nexport const rootReducer = (state, action) => {\n  if (action.type === 'LOGGED_OUT') {\n    state = initialState\n  }\n\n  return appReducer(state, action);\n};\n","import { REQUEST_SERVICES, RECEIVE_SERVICES, SEARCH_SERVICES, REMOVE_SERVICE,\n         REQUEST_SERVICE, RECEIVE_SERVICE } from '../actions/serviceActions.js';\nimport _ from 'lodash';\n\n\nexport function services(state = {index: [], filteredServices: [], servicesLoaded: false, byId: {} }, action) {\n  let nextById, sortedServices, services, nextIndex;\n  switch (action.type) {\n    case REQUEST_SERVICES:\n    // should be for fetching all serves in componentWillMount\n      return {...state, servicesLoaded: false }\n    case RECEIVE_SERVICES:\n      console.log(\"reducer check: \", action);\n    // should be for fetching all serves in componentWillMount\n      const newServicesById = _.keyBy(action.services, service => service.id);\n      nextById = { ...state.byId, ...newServicesById }\n      return {...state, byId: nextById, servicesLoaded: true, index: action.services, filteredServices:action.services }\n    case REMOVE_SERVICE:\n    // should be for delete function\n      nextIndex = _.clone(state.index);\n      _.remove(nextIndex, (n) => { return n.id === action.id });\n      return { ...state, index: nextIndex, filteredServices: nextIndex }\n    case REQUEST_SERVICE:\n    // for single servce viewing\n      nextById = { ...state.byId, [action.id]: { servicesLoaded: false } }\n      return {...state, byId: nextById }\n    case RECEIVE_SERVICE:\n    // same as above\n      nextById = {...state.byId, [action.id]: { ...action.service, servicesLoaded: true }}\n      return {...state, byId: nextById }\n\n    case SEARCH_SERVICES:\n    // for search bar\n      if (action.sortType === '' || action.sortType === \"name\") {\n        console.log(\"service reducer :\", [...state.index]);\n        sortedServices = [...state.index].sort((a, b) => (a.name ? a.name.toLowerCase(): \"\").localeCompare(b.name ? b.name.toLowerCase():\"\"));\n      }\n      else if (action.sortType === \"provider\") {\n        sortedServices = [...state.index].sort((a, b) => (a.provider.profile.first_name?a.provider.profile.first_name.toLowerCase():\"\").localeCompare(b.provider.profile.first_name?b.provider.profile.first_name.toLowerCase():\"\"));\n      }\n      else if (action.sortType === \"description\") {\n        sortedServices = [...state.index].sort((a, b) => (a.desc?a.desc:\"\").localeCompare(b.desc?b.desc:\"\"));\n      }\n      else if (action.sortType === \"category\") {\n        sortedServices = [...state.index].sort((a, b) => (a.category? a.category:\"\").localeCompare(b.category?b.category:\"\"));\n      }\n\n      if (action.searchValue === '') {\n        return {index: sortedServices, filteredServices: sortedServices, servicesLoaded: true}\n      }\n      else if (action.searchType === \"name\") {\n        services = sortedServices.filter((service) => ((service.name?service.name.toLowerCase():\"\").includes(action.searchValue) ));\n        console.log(\"service reducer return: \", {index: [...state.index], filteredServices: services, servicesLoaded: true});\n        return {index: [...state.index], filteredServices: services, servicesLoaded: true}\n      }\n      else if (action.searchType === \"provider\") {\n        services = sortedServices.filter((service) => (service.provider.company ? (service.provider.company).includes(action.searchValue) : \"\")\n        || ((service.provider.profile.first_name ? service.provider.profile.first_name.toLowerCase() : \"\")\n         + \" \" +\n         (service.provider.profile.last_name ? service.provider.profile.last_name.toLowerCase().includes(action.searchValue): \"\")));\n        return {index: [...state.index], filteredServices: services, servicesLoaded: true}\n      }\n      else if (action.searchType === \"description\") {\n        services = sortedServices.filter((service) => ((service.desc).includes(action.searchValue) ));\n        return {index: [...state.index], filteredServices: services, servicesLoaded: true}\n      }\n      else if (action.searchType === \"category\") {\n        services = sortedServices.filter((service) => ((service.category).includes(action.searchValue) ));\n        return {index: [...state.index], filteredServices: services, servicesLoaded: true}\n      }\n      break;\n    default:\n      return state\n  }\n}\n","import { REQUEST_CLIENTS, RECEIVE_CLIENTS, REMOVE_CLIENT, REQUEST_CLIENT,\n         RECEIVE_CLIENT, SEARCH_CLIENTS } from '../actions/clientActions.js';\nimport _ from 'lodash';\n\n\nexport function clients(state = {index: [], filteredClients: [], clientsLoaded: false, byId: {} }, action) {\n  let nextById, clients, nextIndex, sortedClients;\n  switch (action.type) {\n    case REQUEST_CLIENTS:\n      console.log()\n      return {...state, clientsLoaded: false }\n    case RECEIVE_CLIENTS:\n      console.log(RECEIVE_CLIENTS);\n      const newClientsById = _.keyBy(action.clients, client => client.id);\n      nextById = { ...state.byId, ...newClientsById }\n      return {...state, byId: nextById, clientsLoaded: true, index: action.clients, filteredClients: action.clients }\n    case REMOVE_CLIENT:\n      nextIndex = _.clone(state.index);\n      _.remove(nextIndex, (n) => { return n.id === action.id });\n      return { ...state, index: nextIndex, filteredClients: nextIndex }\n    case REQUEST_CLIENT:\n      nextById = { ...state.byId, [action.id]: { clientsLoaded: false } }\n      return {...state, byId: nextById }\n    case RECEIVE_CLIENT:\n      console.log(RECEIVE_CLIENT);\n      nextById = {...state.byId, [action.id]: { ...action.client, clientsLoaded: true }}\n      return {...state, byId: nextById }\n\n    case SEARCH_CLIENTS:\n    // for search bar\n      if (action.sortType === '' || action.sortType === \"first_name\") {\n        console.log(\"client reducer :\", [...state.index]);\n        sortedClients = [...state.index].sort((a, b) => (a.profile.first_name ? a.profile.first_name.toLowerCase(): \"\").localeCompare(b.profile.first_name ? b.profile.first_name.toLowerCase():\"\"));\n      }\n      else if (action.sortType === \"-first_name\") {\n        sortedClients = [...state.index].sort((a, b) => (a.profile.first_name ? a.profile.first_name.toLowerCase(): \"\").localeCompare(b.profile.first_name ? b.profile.first_name.toLowerCase():\"\"));\n        sortedClients = sortedClients.reverse();\n      }\n      else if (action.sortType === \"last_name\") {\n        sortedClients = [...state.index].sort((a, b) => (a.profile.last_name ? a.profile.last_name.toLowerCase(): \"\").localeCompare(b.profile.last_name ? b.profile.last_name.toLowerCase():\"\"));\n      }\n      else if (action.sortType === \"-last_name\") {\n        sortedClients = [...state.index].sort((a, b) => (a.profile.last_name ? a.profile.last_name.toLowerCase(): \"\").localeCompare(b.profile.last_name ? b.profile.last_name.toLowerCase():\"\"));\n        sortedClients = sortedClients.reverse();\n      }\n\n      if (action.searchValue === ''){\n        return {index: sortedClients, filteredClients: sortedClients, clientsLoaded: true}\n      }\n      else if (action.searchType === 'first_name') {\n        console.log(\"clients: \", sortedClients);\n        clients = sortedClients.filter((client) => ((client.profile.first_name?client.profile.first_name.toLowerCase():\"\").includes(action.searchValue)));\n        console.log(\"client reducer return: \", {index: [...state.index], filteredClients: clients, clientsLoaded: true});\n        return {index: [...state.index], filteredClients: clients, clientsLoaded: true}\n      }\n      else if (action.searchType === 'last_name') {\n        clients = sortedClients.filter((client) => ((client.profile.last_name?client.profile.last_name.toLowerCase():\"\").includes(action.searchValue)));\n        return {index: [...state.index], filteredClients: clients, clientsLoaded: true}\n      }\n      else if (action.searchType === 'address') {\n        clients = sortedClients.filter((client) => ((client.address?client.address.toLowerCase():\"\").includes(action.searchValue)));\n        return {index: [...state.index], filteredClients: clients, clientsLoaded: true}\n      }\n      break;\n\n    default:\n      return state\n\n  }\n}\n","import { REQUEST_GOODS, RECEIVE_GOODS, RECEIVE_ALL_GOODS, SEARCH_GOODS, REMOVE_GOOD,\n         REQUEST_GOOD, RECEIVE_GOOD } from '../actions/goodActions.js';\nimport _ from 'lodash';\n\n\nexport function goods(state = {index: [], filteredGoods: [], goodsLoaded: false, byId: {} }, action) {\n  let nextById, sortedGoods, goods;\n  switch (action.type) {\n    case REQUEST_GOODS:\n      return {...state, goodsLoaded: false }\n    case RECEIVE_GOODS:\n      const newGoodsById = _.keyBy(action.goods, good => good.id);\n      nextById = { ...state.byId, ...newGoodsById }\n      return {...state, byId: nextById, goodsLoaded: true, index: action.goods, filteredGoods:action.goods }\n    case RECEIVE_ALL_GOODS:\n      nextById = _.keyBy(action.goods, good => good.id);\n      return {...state, byId: nextById, goodsLoaded: true, index: action.goods, filteredGoods:action.goods }\n    case REMOVE_GOOD:\n      nextById = _.clone(state.byId);\n      delete nextById[action.id]\n      return { ...state, byId: nextById }\n    case REQUEST_GOOD:\n      nextById = { ...state.byId, [action.id]: { goodsLoaded: false } }\n      return {...state, byId: nextById }\n    case RECEIVE_GOOD:\n      nextById = {...state.byId, [action.id]: { ...action.good, goodsLoaded: true }}\n      return {...state, byId: nextById }\n    case SEARCH_GOODS:\n      if (action.sortType === '') {\n        sortedGoods = [...state.index];\n      }\n      else if (action.sortType === \"name\") {\n        sortedGoods = [...state.index].sort((a, b) => (a.name).localeCompare(b.name));\n      }\n      else if (action.sortType === \"provider\") {\n        sortedGoods = [...state.index].sort((a, b) => (a.provider.profile.first_name).localeCompare(b.provider.profile.first_name));\n      }\n      else if (action.sortType === \"description\") {\n        sortedGoods = [...state.index].sort((a, b) => (a.desc).localeCompare(b.desc));\n      }\n      else if (action.sortType === \"category\") {\n        sortedGoods = [...state.index].sort((a, b) => (a.category).localeCompare(b.category));\n      }\n\n      if (action.searchValue === '') {\n        return {index: sortedGoods, filteredGoods: sortedGoods, goodsLoaded: true}\n      }\n      else if (action.searchType === \"name\") {\n        goods = sortedGoods.filter((good) => ((good.name).includes(action.searchValue) ));\n        return {index: [...state.index], filteredGoods: goods, goodsLoaded: true}\n      }\n      else if (action.searchType === \"provider\") {\n        goods = sortedGoods.filter((good) => ((good.provider.company).includes(action.searchValue)) || ((good.provider.profile.first_name + \" \" + good.provider.profile.last_name).includes(action.searchValue)));\n        return {index: [...state.index], filteredGoods: goods, goodsLoaded: true}\n      }\n      else if (action.searchType === \"description\") {\n        goods = sortedGoods.filter((good) => ((good.desc).includes(action.searchValue) ));\n        return {index: [...state.index], filteredGoods: goods, goodsLoaded: true}\n      }\n      else if (action.searchType === \"category\") {\n        goods = sortedGoods.filter((good) => ((good.category).includes(action.searchValue) ));\n        return {index: [...state.index], filteredGoods: goods, goodsLoaded: true}\n      }\n      break;\n    default:\n      return state\n  }\n}\n","import { RECEIVE_CLIENT_NEEDS, RECEIVE_CLIENT_NEED, REQUEST_NEED, REQUEST_NEEDS, RECEIVE_NEEDS,\n         REMOVE_CLIENT_NEED, RECEIVE_CLIENT_NEED_GROUP, RECEIVE_CLIENT_NEED_INFO } from '../actions/needActions.js';\nimport _ from 'lodash';\n\nexport function needs(state = { byId: {}, needGroups: [], clientId: null, loaded: false, needs: [] }, action) {\n  let nextById, nextNeedGroup, needGroupIndex;\n  switch (action.type) {\n    case REQUEST_NEEDS:\n      return {...state, loaded: false }\n    case RECEIVE_NEEDS:\n      return {...state, needs: action.needs, loaded: true }\n    case RECEIVE_CLIENT_NEEDS:\n      if (action.needs){\n        nextById = _.keyBy(action.needs, need => need.id);\n        return {...state, byId: nextById, needGroups: action.needGroups, loaded: true, clientId: action.clientId}\n      } else {\n        return {...state, needGroups: action.needGroups, loaded: true, clientId: action.clientId}\n      }\n    case RECEIVE_CLIENT_NEED:\n      nextById = {...state.byId, [action.need.id]: { ...action.need, loaded: true }}\n      nextNeedGroup = _.clone(state.needGroups)\n      needGroupIndex = nextNeedGroup.map(needGroup => needGroup.id).indexOf(action.needGroup.id);\n      if (needGroupIndex >= 0) {\n        nextNeedGroup[needGroupIndex] = action.needGroup;\n      }\n      else {\n        nextNeedGroup = [...nextNeedGroup, action.needGroup]\n      }\n      return {...state, needGroups: nextNeedGroup, byId: nextById, clientId: action.clientId}\n    case RECEIVE_CLIENT_NEED_INFO:\n      nextById = {...state.byId, [action.needId]: { ...action.need, loaded: true }}\n      nextNeedGroup = _.clone(state.needGroups)\n      needGroupIndex = nextNeedGroup.map(needGroup => needGroup.id.toString()).indexOf(action.need.need_group_id);\n      if (needGroupIndex >= 0) {\n        const needIndex = nextNeedGroup[needGroupIndex].needs.map(need => need.id).indexOf(action.needId);\n        (nextNeedGroup[needGroupIndex].needs)[needIndex] = action.need;\n        return {...state, needGroups: nextNeedGroup, byId: nextById, clientId: action.clientId}\n      }\n      return {...state, byId: nextById, clientId: action.clientId}\n    case REMOVE_CLIENT_NEED:\n      const need = state.byId[action.needId];\n      nextById = _.clone(state.byId);\n      delete nextById[action.needId]\n\n      nextNeedGroup = _.clone(state.needGroups);\n      needGroupIndex = nextNeedGroup.map(needGroup => (needGroup.id).toString()).indexOf(need.need_group_id);\n      _.remove(nextNeedGroup[needGroupIndex].needs, (need) => {return need.id === action.needId });\n      if (nextNeedGroup[needGroupIndex].needs.length === 0) {\n        nextNeedGroup.splice(needGroupIndex, 1);\n      }\n      return { ...state, byId: nextById, needGroups: nextNeedGroup }\n    case REQUEST_NEED:\n      nextById = {...state.byId, [action.needId]: { ...action.need, loaded: false }}\n      return {...state, byId: nextById }\n    case RECEIVE_CLIENT_NEED_GROUP:\n      nextNeedGroup = _.clone(state.needGroups)\n      needGroupIndex = nextNeedGroup.map(needGroup => needGroup.id).indexOf(action.needGroup.id);\n      nextNeedGroup[needGroupIndex] = action.needGroup;\n      return {...state, needGroups: nextNeedGroup }\n    default:\n      return state\n  }\n}\n","import _ from 'lodash';\n\nimport { RECEIVE_PROVIDER, REQUEST_PROVIDER, REQUEST_PROVIDERS, RECEIVE_PROVIDERS,\n         SEARCH_PROVIDERS, REMOVE_PROVIDER } from '../actions/providerActions.js'\n\n\nexport function providers(state = {index: [], byId: {}, providerLoaded: false, value: '', filteredProviders: []}, action) {\n  let nextIndex, nextById, providers, sortedProviders, providersByType;\n\n  switch (action.type) {\n    case REQUEST_PROVIDERS:\n      return {...state, providerLoaded: false};\n    case RECEIVE_PROVIDERS:\n      const providersById = _.keyBy(action.providers, provider => provider.id);\n      nextById = {...state.byId, providersById}\n      return {...state, byId: nextById, index: action.providers, filteredProviders: action.providers, providerLoaded: true};\n    case REMOVE_PROVIDER:\n      nextIndex = _.clone(state.index);\n      _.remove(nextIndex, (n) => { return n.id === action.id });\n      return {...state, index: nextIndex, filteredProviders: nextIndex}\n    case RECEIVE_PROVIDER:\n      nextById = {...state.byId, [action.id]: { ...action.provider, providerLoaded: true }}\n      if (action.provider.provider) {\n        nextById.providersById = {...nextById.providersById, [action.id]: { ...action.provider.provider}}\n      }\n      console.log(\"ProviderReducer.js - RECEIVE_PROVIDER state\", state);\n      console.log(\"ProviderReducer.js - RECEIVE_PROVIDER nextById\", nextById);\n      return {...state, byId: nextById }\n    case REQUEST_PROVIDER:\n      nextById = { ...state.byId, [action.id]: { providerLoaded: false } }\n      return {...state, byId: nextById }\n    case SEARCH_PROVIDERS:\n      // for search bar\n      console.log(\"ProviderReducer.js  - index.providers: \", state.index.providers);\n      console.log(\"ProviderReducer.js  - action: \", action);\n\n\n      //action.sortType\n      if (action.sortType === '' || action.sortType === \"name\") {\n\n         console.log(\"ProviderReducer.js  - index.providers 2: \", state.index.providers);\n         console.log(\"ProviderReducer.js  - state: \", state);\n\n         sortedProviders = [...state.index].sort((a, b) => (a.profile.first_name ? a.profile.first_name.toLowerCase(): \"\").localeCompare(b.profile.first_name ? b.profile.first_name.toLowerCase():\"\"));\n      }\n      else if (action.sortType ==='type'){\n        sortedProviders = [...state.index].sort((a, b) => (a.type? a.type:\"\").localeCompare(b.type?b.type:\"\"));\n      }\n\n      console.log(\"ProviderReducer.js  - sortedProviders: \", sortedProviders);\n\n      //action.displayType\n      if (action.displayType === 'Individual' || action.displayType === 'Organization'){\n        providersByType = sortedProviders.filter((provider) => ((provider.type).includes(action.displayType)));\n      }\n      else {\n        providersByType = sortedProviders;\n      }\n\n      console.log(\"ProviderReducer.js  -  providersByType: \", providersByType);\n\n      //action.searchValue\n      if (action.searchValue === ''){\n        return {index: providersByType, filteredProviders: providersByType, providerLoaded: true}\n      }\n      else if (action.searchType === 'name') {\n\n        console.log(\"ProviderReducer.js  - state.index: \", state.index);\n        console.log(\"ProviderReducer.js  - providersByType: \", providersByType);\n\n        providers = providersByType.filter((provider) => (((provider.profile.first_name ? provider.profile.first_name.toLowerCase() : \"\")\n         + \" \" +\n         (provider.profile.last_name ? provider.profile.last_name.toLowerCase():\"\")).includes(action.searchValue)));\n        console.log(\"providersByType -  returned data : \", {index: [...state.index], filteredProviders: providers, providerLoaded: true});\n        return {index: [...state.index], filteredProviders: providers, providerLoaded: true}\n      }\n      else if (action.searchType === 'email') {\n        providers = providersByType.filter((providers) => ((providers.email?providers.email.toLowerCase():\"\").includes(action.searchValue)));\n        return {index: [...state.index], filteredProviders: providers, providerLoaded: true}\n      }\n      else if (action.searchType === 'phone'){\n        providers = providersByType.filter((providers) => ((providers.primary_phone_number?providers.primary_phone_number:\"\").includes(action.searchValue)));\n        return {index: [...state.index], filteredProviders: providers, providerLoaded: true}\n      }\n      break;\n    default:\n      return state\n  }\n}\n","import { createStore, applyMiddleware } from 'redux'\nimport { persistStore, persistReducer } from 'redux-persist'\nimport thunkMiddleware from 'redux-thunk'\nimport { rootReducer } from './store/reducers.js'\nimport storage from 'redux-persist/lib/storage' // defaults to localStorage for web\nimport { logout } from './store/actions/authAction.js';\n\n\nconst persistConfig = {\n  key: 'root',\n  storage,\n}\n\nconst persistedReducer = persistReducer(persistConfig, rootReducer)\nconst authMiddleware = store => next => action => {\n  const user = store.getState()['auth']['currentUser']\n  if (action.type !== 'LOGGED_OUT' && user && new Date() > user.expired_at) {\n    store.dispatch(logout(true))\n  }\n  return next(action);\n}\n\nexport default function configureStore(preloadedState) {\n  console.log(\"File: store.js - Function: configureStore  Parameters: preloadedState ->  \", preloadedState) \n  let store = createStore(\n    persistedReducer,\n    preloadedState,\n    applyMiddleware(thunkMiddleware, authMiddleware)\n  )\n  let persistor = persistStore(store)\n  return { store, persistor }\n}\n","/**\n * Use Google Maps in React without custom libraries.\n * Some of the ideas are from\n * https://cuneyt.aliustaoglu.biz/en/using-google-maps-in-react-without-custom-libraries/\n */\n\nimport React, { useEffect, useMemo, useState } from 'react';\nimport { Paper, Typography, Link } from \"@mui/material\";\nimport { render } from 'react-dom';\nimport { useHistory } from \"react-router-dom\";\n\nconst Google = window.google || {maps: {}};\nconst {Map, Marker, InfoWindow, Size} = Google.maps;\n\n// Mount a react component into uncontrolled component\nconst createInfoWindow = (map, markerElement, marker, history, idx) => {\n  const infoWindow = new InfoWindow({\n    content: `<div id=\"infoWindow-${idx}\" />`,\n    position: marker.position,\n    pixelOffset: new Size(0, -42),\n  });\n  infoWindow.addListener('domready', e => {\n    render(\n      <ReactInfoWindow history={history} marker={marker}/>,\n      document.getElementById(`infoWindow-${idx}`))\n  });\n  // 'clicked' and 'show' act as an instance variable.\n  let clicked = false, show = false;\n  document.querySelector(`infoWindow-${idx} button`);\n  markerElement.addListener('mouseover', e => {\n    infoWindow.open(map);\n    show = true;\n    markerElement.addListener('mouseout', e => {\n      show && !clicked && infoWindow.close();\n      if (show) show = false;\n    });\n    markerElement.addListener('click', e => {\n      clicked = true;\n      infoWindow.open(map);\n    });\n    window.google.maps.event.addListener(infoWindow, 'closeclick', e => {\n      clicked = false;\n    });\n  });\n  return infoWindow;\n};\n\nfunction ReactInfoWindow({marker, history}) {\n  const {title, link, content} = marker;\n  return (\n    <>\n      <Link style={{cursor: 'pointer'}} onClick={() => link ? history.push(link) : null}>\n        <Typography>\n          {title}\n        </Typography>\n      </Link>\n      <Typography color=\"textSecondary\">\n        {content}\n      </Typography>\n    </>\n  );\n}\n\nlet GoogleMap;\n\n// Export empty div if no network to load google maps.\nif (Map) {\n  // Google map in each pages, native Google API implementation\n  // (without any react wrapper, library)\n  GoogleMap = function (props) {\n    const history = useHistory();\n    const defaultCenter = useMemo(() => ({lat: 43.6870, lng: -79.4132}), []);\n    const {\n      zoom = 11,\n      center = defaultCenter, // Toronto\n      markers = [],\n    } = props;\n    const [map, setMap] = useState(null);\n\n    useEffect(() => {\n      setMap(new Map(document.getElementById('map'), {\n        center: center,\n        zoom: zoom\n      }));\n    }, [zoom, center]);\n\n    useEffect(() => {\n      for (let i = 0; i < markers.length; i++) {\n        const marker = markers[i];\n        const currMarker = new Marker({\n          position: marker.position,\n          map: map,\n          title: marker.title,\n        });\n        // Info window is opened when mouse over the marker.\n        // It also stays open after the marker is clicked.\n        createInfoWindow(map, currMarker, marker, history, i);\n      }\n    }, [markers, map, history]);\n\n    return useMemo(() =>\n        <Paper elevation={5} style={{width: '100%', height: '40vh', marginTop: 5}} id=\"map\"/>\n      , []);\n  }\n} else {\n  GoogleMap = function () {\n    console.info('Google maps javascript is not loaded. Are you offline?');\n    return <Paper elevation={5} style={{width: '100%', height: '40vh', marginTop: 5}}/>\n  }\n}\n\nexport default GoogleMap;\n","import React from 'react';\nimport { InputBase, Button, Dialog, DialogTitle, DialogContent, DialogActions } from \"@mui/material\";\n\nexport default function CSVUploadModal({show, onHide, submit}) {\n  return (\n    <Dialog\n      open={show}\n      onClose={onHide}\n    >\n      <DialogTitle id=\"form-dialog-title\">Upload CSV</DialogTitle>\n      <DialogContent>\n        <InputBase type=\"file\"/>\n      </DialogContent>\n      <DialogActions>\n        <Button color=\"primary\" onClick={submit}>Submit</Button>\n        <Button onClick={onHide}>Close</Button>\n      </DialogActions>\n    </Dialog>\n  );\n}\n","import React, { useState } from 'react';\nimport { TextField, Button, Dialog, DialogTitle, DialogContent, DialogActions } from \"@mui/material\";\n\nexport default function DeleteModal({show, onHide, title, objectId, ...props}) { // cannot use keyword \"delete\"\n  const [form, setForm] = useState({reason: ''});\n\n  return (\n    <Dialog\n      open={show}\n      onClose={onHide}\n      fullWidth\n    >\n      <DialogTitle>{title}</DialogTitle>\n      <DialogContent>\n        <TextField value={form.reason} label=\"Reason\" sx={{mt: 2}}\n                   onChange={e => setForm({reason: e.target.value})} fullWidth/>\n      </DialogContent>\n      <DialogActions>\n        <Button color=\"secondary\" onClick={() => props.delete(objectId, form)}>Confirm</Button>\n        <Button onClick={onHide}>Close</Button>\n      </DialogActions>\n    </Dialog>\n  );\n}\n","import React, { useState } from 'react';\nimport { useHistory } from \"react-router-dom\";\nimport { IconButton, Menu, MenuItem, ListItemIcon, Typography } from \"@mui/material\";\nimport { MoreVert as MoreVertIcon, Edit, Delete, OpenInBrowser } from '@mui/icons-material';\n\nconst ITEM_HEIGHT = 48;\n\nexport default function DropdownMenu({urlPrefix, objectId, handleDelete, hideViewOption}) {\n  const history = useHistory();\n  const [anchorEl, setAnchorEl] = useState(null);\n  const open = Boolean(anchorEl);\n\n  const handleClick = event => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const handleLink = link => () => {\n    history.push(link);\n  };\n\n  return (\n    <div>\n      <IconButton\n        onClick={handleClick}\n        size=\"small\"\n      >\n        <MoreVertIcon/>\n      </IconButton>\n      <Menu\n        id=\"long-menu\"\n        anchorEl={anchorEl}\n        keepMounted\n        open={open}\n        onClose={handleClose}\n        PaperProps={{\n          style: {\n            maxHeight: ITEM_HEIGHT * 4.5,\n            width: 150,\n          },\n        }}\n      >\n        {!hideViewOption &&\n        <MenuItem onClick={handleLink(`/${urlPrefix}/${objectId}`)}>\n          <ListItemIcon>\n            <OpenInBrowser fontSize=\"small\" color=\"primary\"/>\n          </ListItemIcon>\n          <Typography variant=\"inherit\">View</Typography>\n\n        </MenuItem>\n        }\n\n        <MenuItem onClick={handleLink(`/${urlPrefix}/${objectId}/edit`)}>\n          <ListItemIcon>\n            <Edit fontSize=\"small\" color=\"primary\"/>\n          </ListItemIcon>\n          Edit\n        </MenuItem>\n\n        <MenuItem onClick={() => {\n          handleClose();\n          handleDelete(objectId);\n        }}>\n          <ListItemIcon>\n            <Delete fontSize=\"small\" color=\"secondary\"/>\n          </ListItemIcon>\n          Delete\n        </MenuItem>\n\n      </Menu>\n    </div>\n  );\n}\n","import { useDispatch } from \"react-redux\";\nimport { useHistory } from \"react-router\";\nimport React, { useCallback, useEffect, useMemo, useState } from \"react\";\nimport { ACTION_ERROR } from \"../../store/defaults\";\nimport { CSVUploadModal, CustomToolbar, DeleteModal, DropdownMenu, GoogleMap, Loading, DataTable } from \"./index\";\nimport { Container, Fade } from \"@mui/material\";\n\n/**\n * Generate markers on google map.\n * @function GenerateMarkers\n * @param data: Array\n * @param pageNumber: Number\n * @param rowsPerPage: Number\n */\n\n/**\n * A generic page component for clients, services, goods, providers.\n * @param props {{fetchData, deleteItem, generateMarkers: GenerateMarkers, tableOptions?: {},\n * type: (\"clients\", \"services\", \"goods\", \"providers\"), nameFormatter, columnsWithoutOptions}}\n */\nexport default function GenericPage(props) {\n  const {\n    fetchData, deleteItem, generateMarkers, type,\n    nameFormatter, columnsWithoutOptions\n  } = props;\n  const title = type.charAt(0).toUpperCase() + type.slice(1);\n\n  // redux hooks\n  const dispatch = useDispatch();\n\n  // react hooks\n  const history = useHistory();\n  const [state, setState] = useState({\n    showUploadDialog: false,\n    showDeleteDialog: false,\n    deleteId: null,\n    deleteDialogTitle: '',\n    data: [], // providers\n    pageNumber: 1,\n    rowsPerPage: 10,\n    loading: true,\n  });\n\n  // useEffect with empty dependencies is something like componentWillMount\n  useEffect(() => {\n    fetchData().then(data => setState(state => ({...state, data, loading: false})));\n  }, [fetchData]);\n\n  const hideDialog = () => {\n    setState(state => ({\n      ...state,\n      showUploadDialog: false,\n      showDeleteDialog: false,\n    }));\n  };\n\n  const handleDelete = useCallback(async (id, form) => {\n    const res = await deleteItem(id, form);\n    if (!res.success) {\n      // do something\n    } else {\n      hideDialog();\n      setState(state => ({\n        ...state,\n        data: state.data.filter(item => item.id !== state.deleteId)\n      }));\n    }\n  }, [dispatch, deleteItem]);\n\n  const showDeleteDialog = useCallback((idx) => {\n    const item = state.data[idx];\n    setState(state => ({\n      ...state,\n      showDeleteDialog: true,\n      deleteId: item.id,\n      deleteDialogTitle: `Delete ${title} ` + nameFormatter(item),\n    }));\n  }, [state.data, nameFormatter, title]);\n\n  // TODO: implement upload CSV\n  const handleUpload = file => {\n\n  };\n\n  const columns = useMemo(() => {\n    return [\n      ...columnsWithoutOptions,\n      {\n        label: ' ',\n        body: ({id}) => (\n          <DropdownMenu urlPrefix={type} objectId={id} handleDelete={showDeleteDialog}/>\n        )\n      },\n    ]\n  }, [showDeleteDialog, columnsWithoutOptions, type]);\n\n  const tableOptions = {\n    customToolbar:\n      <CustomToolbar\n        type={type}\n        handleAdd={() => history.push(`/${type}/new`)}\n        handleUpload={() => setState(state => ({...state, showUploadDialog: true}))}\n      />,\n    onDelete: async (ids) => {\n      // TODO: Lester 8/30/2021\n      showDeleteDialog(ids);\n      return false;\n    },\n\n    // These listeners are required for displaying pin on Google Map\n    onChangePage: pageNumber => setState(state => ({...state, pageNumber})),\n    onChangeRowsPerPage: rowsPerPage => setState(state => ({...state, rowsPerPage})),\n    ...props.tableOptions,\n  };\n\n  // This also filters out providers without lat / lng.\n  const markers = useMemo(() => generateMarkers(state.data, state.pageNumber, state.rowsPerPage),\n    [generateMarkers, state.data, state.pageNumber, state.rowsPerPage]);\n\n  if (state.loading)\n    return <Loading message={`Loading ${title}...`}/>;\n\n  return (\n    <Fade in>\n      <Container>\n        <DataTable\n          columns={columns}\n          data={state.data}\n          title={title}\n          {...tableOptions}\n        />\n\n        <CSVUploadModal\n          show={state.showUploadDialog}\n          onHide={hideDialog}\n          submit={handleUpload}\n        />\n        <DeleteModal\n          contentType=\"Provider\"\n          objectId={state.deleteId}\n          title={state.deleteDialogTitle}\n          show={state.showDeleteDialog}\n          onHide={hideDialog}\n          delete={handleDelete}\n        />\n        <GoogleMap markers={markers}/>\n      </Container>\n    </Fade>\n  )\n}\n","import React from 'react';\nimport { Stepper, Step, StepButton, Button, Typography, Alert } from '@mui/material';\nimport { makeStyles } from \"@mui/styles\";\n\nconst useStyles = makeStyles(theme => ({\n  buttons: {\n    width: '80%',\n    margin: 'auto',\n    paddingTop: 20,\n    paddingBottom: 40,\n  },\n  button: {\n    marginRight: theme.spacing(1),\n  },\n  backButton: {\n    marginRight: theme.spacing(1),\n  },\n  alert: {\n    width: '80%',\n    margin: 'auto',\n  },\n  title: {\n    color: '#4b4b4b',\n    width: '80%',\n    margin: 'auto',\n  }\n}));\n\nexport default function FormStepper({stepNames, handleFinish, getStepContent, error, title}) {\n  const classes = useStyles();\n  const [activeStep, setActiveStep] = React.useState(0);\n\n  const handleStep = step => () => {\n    setActiveStep(step);\n  };\n\n  const handleBack = () => {\n    setActiveStep(prevActiveStep => prevActiveStep - 1);\n  };\n\n  const handleNext = () => {\n    if (activeStep === stepNames.length - 1) {\n      handleFinish();\n      return;\n    }\n    setActiveStep(prevActiveStep => prevActiveStep + 1);\n  };\n\n  return (\n    <div>\n      <Stepper alternativeLabel nonLinear activeStep={activeStep}>\n        {stepNames.map((label, index) => (\n          <Step key={label}>\n            <StepButton\n              onClick={handleStep(index)}\n            >\n              {label}\n            </StepButton>\n          </Step>\n        ))}\n      </Stepper>\n      <div>\n        {title && <Typography color=\"textSecondary\" variant=\"h6\" className={classes.title}>\n          {title}\n        </Typography>}\n        {error && error.map((err, index) =>\n          <Alert key={index} className={classes.alert} severity=\"error\">{err}</Alert>)}\n        {getStepContent(activeStep)}\n        <div className={classes.buttons}>\n          <Button\n            disabled={activeStep === 0}\n            onClick={handleBack}\n            className={classes.backButton}\n          >\n            Back\n          </Button>\n          <Button variant=\"contained\" color=\"primary\" onClick={handleNext}>\n            {activeStep === stepNames.length - 1 ? 'Finish' : 'Next'}\n          </Button>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { Paper, Typography } from \"@mui/material\";\nimport { makeStyles } from \"@mui/styles\";\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    paddingTop: 16,\n  },\n  paper: {\n    display: 'inline-block',\n    position: 'relative',\n    paddingLeft: 28,\n    paddingBottom: 20,\n    minWidth: 380,\n  }\n}));\n\nexport default function ({label, children}) {\n  const classes = useStyles();\n  return (\n    <div className={label && classes.root}>\n      {label && <Typography color=\"textSecondary\" variant=\"body1\" gutterBottom>\n        {label}\n      </Typography>}\n      <Paper variant=\"outlined\" className={classes.paper}>\n        {children}\n      </Paper>\n    </div>\n  )\n}\n","import React, { useCallback, useState } from 'react';\nimport { AdapterDateFns } from '@mui/x-date-pickers/AdapterDateFns';\nimport { format, parse } from 'date-fns';\nimport { TextField } from '@mui/material'\nimport {\n  LocalizationProvider,\n  TimePicker,\n  DatePicker,\n} from '@mui/x-date-pickers';\n\nexport const dateFormat = 'yyyy-MM-dd';\n\nexport default function GeneralField({type, onChange, value: defaultValue, ...props}) {\n  // duplicate the state, the drawback is much smaller than re-render all the form.\n  const [value, setValue] = useState(() => {\n    if (type === 'date') {\n      if (defaultValue)\n        return parse(defaultValue, dateFormat, new Date());\n      else\n        return null;\n    }\n    return defaultValue|| '';\n  });\n\n  const handleChange = useCallback(e => {\n    const val = e.target.value;\n    setValue(val);\n    onChange({target: {value: val}});\n  }, [onChange, type]);\n\n  const onChangeDate = date => {\n    setValue(date);\n  }\n\n  const onAcceptDate = date => {\n    setValue(date);\n    const formattedDate = format(date, dateFormat);\n    try {\n      onChange({target: {value: formattedDate}});\n    } catch (e) {\n    }\n  };\n\n  if (type === 'date')\n    return (\n      <div>\n        <LocalizationProvider dateAdapter={AdapterDateFns}>\n          <DatePicker\n            value={value}\n            onAccept={onAcceptDate}\n            onChange={onChangeDate}\n            renderInput={(params) =>\n              <TextField {...params}\n                         sx={{minWidth: 350}}\n                         margin=\"normal\"/>\n            }\n            {...props}\n          />\n        </LocalizationProvider>\n      </div>\n    );\n  else if (type === 'time')\n    return (\n      <div>\n        <LocalizationProvider dateAdapter={AdapterDateFns}>\n          <TimePicker\n            value={value}\n            onAccept={onAcceptDate}\n            onChange={onChangeDate}\n            renderInput={(params) =>\n              <TextField {...params}\n                         sx={{minWidth: 350}}\n                         margin=\"normal\"/>\n            }\n            {...props}\n          />\n        </LocalizationProvider>\n      </div>);\n  else\n    return (\n      <div>\n        <TextField\n          sx={{mt: '16px', minWidth: 350}}\n          type={type}\n          {...props}\n          onChange={handleChange}\n          value={value}\n        />\n      </div>\n    );\n}\n","import GeneralField from \"../components/shared/fields/GeneralField\";\n\nexport const UN_SET = 'UN_SET';\nexport const REQUIRED_HELPER_TEXT = 'This field is required';\n\nexport const defaultField = {\n  label: '',\n  type: 'text',\n  component: GeneralField,\n  validator: null,\n  required: false,\n};","import React, { useCallback, useEffect, useState } from 'react';\nimport { FormControl, InputLabel, Select, MenuItem, FormHelperText } from \"@mui/material\";\nimport { makeStyles } from \"@mui/styles\";\n\nimport { UN_SET } from '../../../constants';\n\nconst useStyles = makeStyles(theme => ({\n  formControl: {\n    margin: '16px 0 0',\n    minWidth: 350,\n  },\n}));\n\n/**\n *\n * @param label\n * @param InputLabelProps\n * @param className\n * @param options\n * @param noDefaultStyle\n * @param noEmpty\n * @param controlled {boolean=false} - Controlled by the parent component.\n *                                     Set it to true if you dynamically update options\n * @param defaultOptionTitle\n * @param onChange\n * @param formControlProps\n * @param helperText\n * @returns {*}\n * @constructor\n */\nexport default function SelectField({\n                                      label, InputLabelProps, className, options, noDefaultStyle, noEmpty, controlled,\n                                      defaultOptionTitle = 'Not Set', onChange, formControlProps, helperText, ...props\n                                    }) {\n  const classes = useStyles();\n  const [value, setValue] = useState(noEmpty ? '' : UN_SET);\n  const handleChange = useCallback(e => {\n    const val = e.target.value;\n    setValue(val);\n    onChange({target: {value: val === UN_SET ? undefined : val}});\n  }, [onChange]);\n\n  useEffect(() => {\n    setValue(props.value === undefined ? UN_SET : props.value);\n  }, [props.value]);\n\n  return (\n    <div>\n      <FormControl className={(noDefaultStyle || className) ? className : classes.formControl}\n                   error={props.error}\n                   required={props.required}\n                   {...formControlProps}>\n        {label && <InputLabel {...InputLabelProps}>{label}</InputLabel>}\n        <Select\n          margin=\"none\"\n          label={label}\n          {...props}\n          value={controlled ? props.value : value}\n          onChange={controlled ? onChange : handleChange}\n        >\n          {!noEmpty && <MenuItem key=\"key0\" value={UN_SET}>{defaultOptionTitle}</MenuItem>}\n          {Array.isArray(options)\n            ? options.map(option => <MenuItem key={option} value={option}>{option}</MenuItem>)\n            : Object.entries(options).map(([key, value]) => <MenuItem key={key} value={key}>{value}</MenuItem>)}\n        </Select>\n        {helperText && <FormHelperText>{helperText}</FormHelperText>}\n      </FormControl>\n    </div>\n  );\n}\n","import React from 'react';\nimport GeneralField from './fields/GeneralField';\nimport SelectField from './fields/SelectField';\nimport { provinceOptions } from '../../store/defaults';\n\nexport default function LocationFieldGroup({address, required, errMsg = {}}) {\n  const handleChange = name => e => address[name] = e.target.value;\n  return (\n    <div>\n      <GeneralField\n        label=\"Apt. #\"\n        type=\"text\"\n        value={address.apt_number}\n        onChange={handleChange('apt_number')}\n        error={!!errMsg['apt_number']}\n        helperText={errMsg['apt_number']}\n      />\n      <GeneralField\n        label=\"Street Address\"\n        type=\"text\"\n        value={address.street_address}\n        onChange={handleChange('street_address')}\n        required={required}\n        error={!!errMsg['street_address']}\n        helperText={errMsg['street_address']}\n      />\n      <GeneralField\n        label=\"City\"\n        type=\"text\"\n        value={address.city}\n        onChange={handleChange('city')}\n        required={required}\n        error={!!errMsg['city']}\n        helperText={errMsg['city']}\n      />\n      <SelectField\n        label=\"Province\"\n        value={address.province}\n        options={provinceOptions}\n        onChange={handleChange('province')}\n        required={required}\n        error={!!errMsg['province']}\n        helperText={errMsg['province']}\n      />\n      <GeneralField\n        label=\"Postal Code\"\n        type=\"text\"\n        value={address.postal_code}\n        onChange={handleChange('postal_code')}\n        required={required}\n        error={!!errMsg['postal_code']}\n        helperText={errMsg['postal_code']}\n      />\n    </div>\n  );\n}\n","import _ from 'lodash';\nimport React from 'react';\n\nexport const defaultTimeSlot = {'start_time': '', 'end_time': ''};\nexport const defaultOperationHour = {\n  'Monday': [{...defaultTimeSlot}],\n  'Tuesday': [{...defaultTimeSlot}],\n  'Wednesday': [{...defaultTimeSlot}],\n  'Thursday': [{...defaultTimeSlot}],\n  'Friday': [{...defaultTimeSlot}],\n  'Saturday': [{...defaultTimeSlot}],\n  'Sunday': [{...defaultTimeSlot}],\n};\n\nlet mapping = {};\nfor (let hour = 1; hour <= 12; hour++) {\n  const hourStringam = (hour / 10 < 1) ? '0' + hour : hour;\n  for (let minutes = 0; minutes <= 45; minutes += 30) {\n    const minuteString = (minutes === 0) ? '00' : minutes;\n    const timeSlot = hourStringam + ':' + minuteString\n    mapping[hour * 100 + minutes] = timeSlot + ' AM'\n  }\n}\n\nfor (let hour = 1; hour <= 12; hour++) {\n  for (let minutes = 0; minutes <= 45; minutes += 30) {\n    const hourStringpm = (hour / 10 < 1) ? '0' + hour : hour;\n    const minuteString = (minutes === 0) ? '00' : minutes;\n    const timeSlot = hourStringpm + ':' + minuteString;\n    mapping[(hour + 12) * 100 + minutes] = timeSlot + ' PM'\n  }\n}\n\nexport const operationHourMapping = mapping;\n\nexport function operationHourListToObject(operation_hour_list) {\n  let operation_hours = {}\n  _.each(operation_hour_list, operation_hour => {\n    const weekday = operation_hour['week_day']\n    if (!operation_hours[weekday]) {\n      operation_hours[weekday] = []\n    }\n    operation_hours[weekday].push({\n      start_time: operation_hour['start_time'],\n      end_time: operation_hour['end_time']\n    })\n  })\n  return operation_hours\n}\n\nexport function operationHourObjectToList(operation_hour_obj) {\n  let operation_hours = []\n  _.each(operation_hour_obj, (times, day) => {\n    _.each(times, time => {\n      operation_hours.push({\n        week_day: day,\n        start_time: time.start_time,\n        end_time: time.end_time\n      })\n    })\n  })\n  return operation_hours\n}\n\nexport function OperationHourTable({operationHourObj}) {\n  return (\n    <table className=\"operation-hour-table\">\n      <tbody>\n      {_.map(operationHourObj, (times, day) => {\n        return (\n          <tr key={day}>\n            <td>{day}</td>\n            <td>\n              {_.map(times, (time, _) => {\n                return (\n                  <div key={day + time.start_time}>\n                    {`${operationHourMapping[time.start_time]} -\n                        ${operationHourMapping[time.end_time]}`}\n                  </div>\n                )\n              })}\n            </td>\n          </tr>\n        )\n      })}\n      </tbody>\n    </table>\n  )\n}\n","export const titleCase = text => {\n  text = text.replace(/(^\\w|_\\w)/g, m => {\n    return m.toUpperCase().replace('_', ' ')\n  });\n  return text.replace('In', 'in').replace('Of', 'of');\n};\n\n/**\n * @param data {[{condition_clauses: [{field_name, clauses: [{left_operand, right_operand, operator}]}]}]}\n **/\nexport const transformToFrontendType = data => {\n  const val = [];\n\n  // return empty array when create a new service\n  if (!data) return val;\n\n  for (const {condition_clauses} of data) {\n    const condition = [];\n    val.push(condition);\n    for (const {field_name, clauses} of condition_clauses) {\n      for (const {left_operand, right_operand, operator} of clauses) {\n        condition.push([left_operand, operator, right_operand]);\n      }\n    }\n  }\n  return val;\n};\n\n/**\n * @param data {[[]]}\n */\nexport const transformToBackendType = data => {\n  const val = [];\n  for (const condition of data) {\n    const conditionClauses = [];\n    val.push({condition_clauses: conditionClauses});\n\n    for (const [left_operand, operator, right_operand] of condition) {\n      // search for existing field_name\n      const idx = conditionClauses.findIndex(conditionClause => conditionClause.field_name === left_operand);\n      if (idx !== -1) {\n        conditionClauses[idx].clauses.push({left_operand, right_operand, operator});\n      } else {\n        conditionClauses.push({\n          field_name: left_operand,\n          clauses: [{left_operand, right_operand, operator}]\n        })\n      }\n    }\n  }\n  return val;\n};\n\n/**\n *\n * @param string {string}\n * @returns {*}\n */\nexport function escapeString(string) {\n  return '\"' + string.replace(/[\\\\\"]/g, '\\\\$&') + '\"'; // $& means the whole matched string\n}\n\n/**\n *\n * @param string {string}\n * @returns {*}\n */\nexport function unescapeString(string) {\n  return string.slice(1, -1).replace(/\\\\([\\\\\"])/g, '$1');\n}\n\nexport function escapeList(list) {\n  return JSON.stringify(list);\n}\n\nexport function unescapeList(string) {\n  try {\n    const array = JSON.parse(string);\n    return Array.isArray(array) ? array : [];\n  } catch (e) {\n    return [];\n  }\n}\n","import {titleCase} from './formulaHelpers';\nexport {titleCase}\n/**\n * Flip object key value pairs\n * @param obj\n * @returns {{}}\n */\nexport const objectFlip = (obj) => {\n  const ret = {};\n  Object.keys(obj).forEach(key => {\n    ret[obj[key]] = key;\n  });\n  return ret;\n};\n\n/**\n * Recursively assign obj to target.\n * Similar to Object.assign(obj1, obj2), or {...obj1, ...obj2} but also assign nested objects.\n * @param target\n * @param obj\n * @returns {*}\n */\nexport const recursiveAssign = (target, obj) => {\n  Object.entries(obj).forEach(([key, value]) => {\n    if (typeof value === 'object' && value != null && target[key])\n      return recursiveAssign(target[key], value);\n    else if (value != null)\n      target[key] = value;\n  });\n  return target;\n};\n\n/**\n * return true if the field is empty\n * @param field\n * @returns {boolean}\n */\n\nexport function isFieldEmpty(field) {\n  if (field == null) {\n    return true;\n  } else {\n    return field.length === 0;\n  }\n}\n\n/**\n * return true if the field availability is empty\n * @param availability\n * @returns {boolean}\n */\n\nexport function isAvailabilityEmpty(availability) {\n  if (availability == null) {\n    return true;\n  } else {\n    for (const day of Object.keys(availability)) {\n      for (const time_slot of availability[day]) {\n        if (time_slot['start_time'].length > 0 && time_slot['end_time'].length > 0) {\n          //time slot is filled in\n          return false;\n        }\n      }\n    }\n    return true;\n  }\n}\n\n/**\n * Verify the address fields and set the given result.\n * @param location {{apt_number, }}\n * @param result\n */\nexport function verifyAddressField(location, result) {\n  for (const [fieldName, value] of Object.entries(location)) {\n    // apartment number is not required\n    if (fieldName === 'apt_number')\n      continue;\n    if (isFieldEmpty(value))\n      result[fieldName] = 'This field is required'\n  }\n}\n\n/**\n * Verify the other address fields and set the corresponding errors if there are any.\n * @param location []\n * @param result\n */\nexport function verifyOtherAddressesFields(location, result) {\n  let i = 0;\n  for (const address of location) {\n    result[i] = {};\n    verifyAddressField(address, result[i]);\n    if (Object.entries(result[i]).length === 0) {\n      delete result[i];\n    }\n    i++;\n  }\n}\n\n/**\n * Validate postal code in parentField, put error message in errsContainer if there is one.\n * @param field\n * @param errsContainer\n * @param parentField\n */\nexport function validateAddressPostalCode(field, errsContainer, parentField) {\n  if (field) {\n    const postal_code_regex = /^[A-Za-z]\\d[A-Za-z][ -]?\\d[A-Za-z]\\d$/;\n    const is_postal_code_valid = postal_code_regex.test(field);\n    if (!is_postal_code_valid) {\n      errsContainer[parentField] = {\n        ...errsContainer[parentField],\n        'postal_code': \"Invalid postal code! They are in the format A1A 1A1, \" +\n          \"where A is a letter and 1 is a digit\"\n      };\n    }\n  }\n}\n\nexport function verifyEmail(field, fieldName, errsContainer){\n  const email_regex = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n  if (!email_regex.test(field)) {\n    errsContainer[fieldName] = \"Invalid email! \".concat(\"They are in the format of jsmith@example.com\");\n  }\n}\n\nexport function verifyPhoneNumber(field, fieldName, errsContainer){\n  const phone_number_regex = /^(\\+\\d{1,2}\\s)?\\(?\\d{3}\\)?[\\s.-]?\\d{3}[\\s.-]?\\d{4}$/;\n  if (field && !phone_number_regex.test(field)){\n    errsContainer[fieldName] = \"Invalid phone number! They are in the format of NPA-NXX-XXXX \".concat(\n      \"where NPA is the three digit area code and NXX-XXXX is the seven digit subscriber number\"\n    )\n  }\n}\nexport function validateContactFormat(profile, errsContainer) {\n  // Verify email\n  if (profile.email) {\n    verifyEmail(profile.email,'email', errsContainer)\n  }\n  // Verify Phone number\n  if (profile.primary_phone_number || profile.alt_phone_number) {\n    verifyPhoneNumber(profile.primary_phone_number, 'primary_phone_number', errsContainer);\n    verifyPhoneNumber(profile.alt_phone_number, 'alt_phone_number', errsContainer);\n  }\n}\n\n/**\n * Verify the family fields and set the corresponding errors if there are any.\n * @param families []\n * @param result\n */\nexport function verifyFamilyFields(families, result) {\n  let i = 0;\n  for (const family of families) {\n    result[i] = {};\n    if (isFieldEmpty(family['relationship'])) {\n      result[i]['relationship'] = \"This field is required\";\n    }\n    for (const [field, value] of Object.entries(family['person'])) {\n      if (isFieldEmpty(value)) {\n        result[i][field] = \"This field is required\";\n      }\n    }\n    if (Object.entries(result[i]).length === 0) {\n      delete result[i];\n    }\n    i++;\n  }\n}\n\nconst emailRegex = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\nconst phoneNumberRegex = /^(\\+\\d{1,2}\\s)?\\(?\\d{3}\\)?[\\s.-]?\\d{3}[\\s.-]?\\d{4}$/;\nconst passwordRegex = /^.*(?=.{8,})((?=.*[!@#$%^&*()\\-_=+{};:,<.>]){1})(?=.*\\d)((?=.*[a-z]){1})((?=.*[A-Z]){1}).*$/;\nconst postalCodeRegex = /^[A-Za-z]\\d[A-Za-z][ -]?\\d[A-Za-z]\\d$/;\n\nconst EMAIL_ERR_MSG = \"Invalid email! They are in the format of jsmith@example.com\";\nconst PHONE_ERR_MSH = \"Invalid phone number! They are in the format of NPA-NXX-XXXX \" +\n  \"where NPA is the three digit area code and NXX-XXXX is the seven digit subscriber number\";\nconst PASSWORD_ERR_MSG = \"Please enter a secure and strong password\";\nconst POSTAL_CODE_ERR_MSG = \"Invalid postal code! They are in the format A1A 1A1, \" +\n  \"where A is a letter and 1 is a digit\";\n\nexport const Validator = {\n  /**\n   * @param email\n   * @returns {string|void} Return string iff fails. Otherwise return undefined.\n   */\n  email: email => {\n    if (!emailRegex.test(email)) {\n      return EMAIL_ERR_MSG;\n    }\n  },\n\n  phone: phone => {\n    if (!phoneNumberRegex.test(phone))\n      return PHONE_ERR_MSH;\n  },\n\n  password: password => {\n    if (!passwordRegex.test(password))\n      return PASSWORD_ERR_MSG;\n  },\n\n  postalCode: postalCode => {\n    if (!postalCodeRegex.test(postalCode))\n    return POSTAL_CODE_ERR_MSG;\n  }\n};\n","import { genderOptions } from '../store/defaults.js';\nimport { objectFlip } from '../helpers';\n\n// const providerTypeOptions = ['Individual', 'Organization']\n// const IndividualProviderOptions = ['Volunteer', 'Goods Donor', 'Professional Service Provider']\nexport const providerFormTypes = {\n  'organization': 'Organization',\n  'volunteer': 'Volunteer',\n  'goods_donor': 'Goods Donor',\n  'professional_service_provider': 'Professional Service Provider',\n};\n\nexport const allForms = {\n  client: 'Client',\n  ...providerFormTypes\n};\n\nexport const providerCategoryValue2Key = objectFlip(providerFormTypes);\n// const phoneTypes = ['Home', 'Cell', 'Work']\nconst providerStatus = ['External', 'Internal', 'Home Agency']\nconst commitmentOptions = ['Short term', 'Six months', 'One year']\n\nexport const providerFields = {\n  alt_phone_number: {component: 'GeneralField', type: 'tel', label: 'Alternative phone number'},\n  availability: {label: 'Availability'},\n  commitment: {component: 'SelectField', label: 'Commitment length', options: commitmentOptions},\n  company: {component: 'GeneralField', type: 'text', label: 'Company/Organization Name'},\n  email: {component: 'GeneralField', type: 'email', label: 'Email'},\n  first_name: {component: 'GeneralField', type: 'text', label: 'First Name'},\n  gender: {component: 'SelectField', label: 'Gender', options: genderOptions},\n  languages: {component: 'MultiSelectField', label: 'Languages'},\n  last_name: {component: 'GeneralField', type: 'text', label: 'Last Name'},\n  main_address: {label: 'Address'},\n  notes: {component: 'GeneralField', type: 'text', label: 'Additional notes '},\n  other_addresses: {label: 'Other Addresses'},\n  own_car: {component: 'RadioField', label: 'Own a car?', options: {'Yes': true, 'No': false}},\n  primary_contact: {label: 'Primary Contact'},\n  primary_phone_number: {component: 'GeneralField', type: 'tel', label: 'Primary phone number'},\n  reference1_email: {component: 'GeneralField', type: 'text', label: 'Reference 1 Email'},\n  reference1_name: {component: 'GeneralField', type: 'text', label: 'Reference 1 Name'},\n  reference1_phone: {component: 'GeneralField', type: 'text', label: 'Reference 1 phone'},\n  reference2_email: {component: 'GeneralField', type: 'text', label: 'Reference 2 Email'},\n  reference2_name: {component: 'GeneralField', type: 'text', label: 'Reference 2 Name'},\n  reference2_phone: {component: 'GeneralField', type: 'text', label: 'Reference 2 phone'},\n  referrer: {component: 'GeneralField', type: 'text', label: 'Referrer'},\n  secondary_contact: {label: 'Secondary Contact'},\n  skills: {component: 'GeneralField', type: 'text', label: 'Skills'},\n  start_date: {component: 'GeneralField', type: 'date', label: 'Start date for availability'},\n  status: {component: 'SelectField', label: 'Status', options: providerStatus},\n  visibility: {\n    component: 'RadioField',\n    label: 'Allow other agencies to see this provider?',\n    options: {'Yes': true, 'No': false}\n  },\n  sponsor: {component: 'GeneralField', type: 'text', label: 'Sponsor'}\n}\n","import { defaultOperationHour, operationHourListToObject } from \"../helpers/operation_hour_helpers\";\nimport { recursiveAssign } from \"../helpers\";\nimport { providerFormTypes } from \"./provider_fields\";\n\nexport const defaultProfileFields = {\n  first_name: '',\n  middle_name: '',\n  last_name: '',\n  preferred_name: '',\n  gender: '',\n  birth_date: null,\n  email: '',\n  primary_phone_number: '',\n  alt_phone_number: '',\n};\n\nexport const defaultContactFields = {\n  first_name: '',\n  last_name: '',\n  email: '',\n  primary_phone_number: '',\n  alt_phone_number: '',\n};\n\nexport const defaultLocationFields = {\n  street_address: '',\n  apt_number: '',\n  city: '',\n  province: '',\n  postal_code: ''\n};\n\nexport const defaultUserFields = {\n  first_name: '',\n  last_name: '',\n  username: '',\n  email: '',\n  is_superuser: false,\n  primary_phone_number: '',\n  alt_phone_number: '',\n  password: ''\n};\n\n/**\n * @typedef SNMClient {{address: {street_address, province, city, apt_number, postal_code},\n * num_of_dependants: string, has_children: boolean, immigration_doc_number: string,\n * country_of_last_residence: string, profile: {primary_phone_number, gender,\n * alt_phone_number, birth_date, last_name, middle_name, first_name, preferred_name,\n * email}, other_languages: Array, income_source: string, country_of_origin: string,\n * completed_education_level: string, landing_date: string, marital_status: string,\n * eligibilities: Array, current_education_level: string, first_language: string,\n * file_id: string, num_of_children: string, pr_number: string, family: {members: Array},\n * arrival_date: string, status_in_canada: string}}\n *\n */\n\n/**\n *\n * @param client\n * @returns SNMClient\n */\nexport const generateClientField = (client) => {\n  const fields = {\n    profile: {...defaultProfileFields},\n    address: {...defaultLocationFields},\n    family: {members: []},\n    marital_status: '',\n    has_children: false,\n    num_of_children: '',\n    country_of_origin: '',\n    country_of_last_residence: '',\n    first_language: '',\n    other_languages: [],\n    pr_number: '',\n    immigration_doc_number: '',\n    landing_date: null, // make sure date and time has default null or new Date()\n    arrival_date: null,\n    status_in_canada: '',\n    income_source: '',\n    current_education_level: '',\n    completed_education_level: '',\n    num_of_dependants: '',\n    file_id: '',\n    ngo_conditions: [],\n  };\n\n  if (client) {\n    return recursiveAssign(fields, client);\n  }\n\n  return fields;\n};\n\nexport const generateProviderFields = (providerType, providerCategory, provider) => {\n  // operationHourListToObject(provider.operation_hours)\n  const fields = {\n    type: providerType,\n    category: providerFormTypes[providerCategory] || '',\n    languages: [],\n    company: '',\n    email: '',\n    primary_phone_number: '',\n    alt_phone_number: '',\n    primary_contact: {profile: {...defaultContactFields}},\n    secondary_contact: {profile: {...defaultContactFields}},\n    main_address: {...defaultLocationFields},\n    other_addresses: [],\n    operation_hours: {...defaultOperationHour},\n    operation_dates: [{start_date: null, end_date: null}],\n    profile: {...defaultProfileFields},\n    referrer: '',\n    own_car: false,\n    skills: '',\n    visibility: false,\n    status: '',\n    notes: '',\n    commitment: '',\n    start_date: '',\n    reference1_name: '',\n    reference1_phone: '',\n    reference1_email: '',\n    reference2_name: '',\n    reference2_phone: '',\n    reference2_email: '',\n    responses: []\n  };\n  if (provider) {\n    const data = {...recursiveAssign(fields, provider)};\n    data.operation_hours = {...defaultOperationHour, ...operationHourListToObject(provider.operation_hours)};\n    // const responses = {};\n    // data.responses.forEach(({}) => {});\n    // data.responses = data\n    console.log(data);\n    return data;\n  }\n  return fields;\n};\n","import React, { useState } from 'react';\nimport { Button, FormLabel, Alert } from \"@mui/material\";\nimport { makeStyles } from \"@mui/styles\";\nimport { FieldsWrapper } from \"./index\";\nimport LocationFieldGroup from \"./LocationFieldGroup\";\nimport { defaultLocationFields } from \"../../constants/default_fields\";\n\nconst useStyles = makeStyles(theme => ({\n  button: {\n    margin: '10px 0',\n  }\n}));\n\nfunction LocationFields({index, location, handleRemove, required, errMsg = {}}) {\n  // A way to achieve forceUpdate()\n  const [state, update] = useState(true);\n  const forceUpdate = () => update(!state);\n\n  const handleChange = name => e => {\n    location[name] = e.target.value;\n  };\n\n  return (\n    <div style={{paddingBottom: 10}}>\n      <FormLabel component=\"legend\">\n        Other address #{index + 1 + '  '}\n        <Button\n          onClick={e => {\n            handleRemove(index);\n            forceUpdate();\n          }}\n          color=\"secondary\"\n        >\n          Remove\n        </Button>\n      </FormLabel>\n      <FieldsWrapper key=\"main_address\">\n        <LocationFieldGroup\n          address={location}\n          handleChange={handleChange}\n          required={required}\n          errMsg={errMsg}\n        />\n      </FieldsWrapper>\n    </div>\n  )\n}\n\nexport default function OtherLocationsFields({otherLocations, clientId, required, errMsg = {}}) {\n  const classes = useStyles();\n  // A way to achieve forceUpdate()\n  const [state, update] = useState(otherLocations);\n  const forceUpdate = () => update(!state);\n\n  const handleAdd = () => {\n    otherLocations.push({...defaultLocationFields});\n    forceUpdate();\n  };\n\n  const handleRemove = (index) => {\n    console.log('remove', index, otherLocations[index])\n    otherLocations.splice(index, 1);\n    forceUpdate();\n  };\n\n  return (\n    <div>\n      {errMsg && typeof errMsg === 'string' &&\n        <Alert severity=\"error\">{errMsg}</Alert>}\n      {otherLocations.map((location, index) => {\n        return (\n          <LocationFields\n            key={index}\n            index={index}\n            location={location}\n            clientId={clientId}\n            handleRemove={handleRemove}\n            required={required}\n            size={otherLocations.length}\n            errMsg={errMsg[index]}\n          />\n        )\n      })}\n      <Button className={classes.button} onClick={handleAdd} variant=\"outlined\">\n        Add other address\n      </Button>\n\n    </div>\n  );\n}\n","import { Checkbox, TableCell, TableHead, TableRow, TableSortLabel } from \"@mui/material\";\nimport PropTypes from \"prop-types\";\nimport React from \"react\";\n\nexport function EnhancedTableHead(props) {\n  const {\n    classes, onSelectAllClick, order, orderBy, numSelected,\n    rowCount, onRequestSort, columns\n  } = props;\n  const createSortHandler = (getFieldValueFn) => (event) => {\n    onRequestSort(event, getFieldValueFn);\n  };\n\n  return (\n    <TableHead>\n      <TableRow>\n        <TableCell padding=\"checkbox\" key={0}>\n          <Checkbox\n            color=\"primary\"\n            indeterminate={numSelected > 0 && numSelected < rowCount}\n            checked={rowCount > 0 && numSelected === rowCount}\n            onChange={onSelectAllClick}\n            inputProps={{\n              'aria-label': 'select all desserts',\n            }}\n          />\n        </TableCell>\n        {columns.map((headCell, idx) => (\n          <TableCell\n            key={idx + 1}\n            style={headCell.style}\n            sortDirection={orderBy === (headCell.sortBy || headCell.body) ? order : false}\n          >\n            <TableSortLabel\n              active={orderBy === (headCell.sortBy || headCell.body)}\n              direction={orderBy === (headCell.sortBy || headCell.body) ? order : 'asc'}\n              onClick={createSortHandler(headCell.sortBy || headCell.body)}\n            >\n              {headCell.label}\n              {orderBy === headCell.label ? (\n                <span className={classes.sortSpan}>\n                  {order === 'desc' ? 'sorted descending' : 'sorted ascending'}\n                </span>\n              ) : null}\n            </TableSortLabel>\n          </TableCell>\n        ))}\n      </TableRow>\n    </TableHead>\n  );\n}\n\nEnhancedTableHead.propTypes = {\n  classes: PropTypes.object.isRequired,\n  numSelected: PropTypes.number.isRequired,\n  onRequestSort: PropTypes.func.isRequired,\n  onSelectAllClick: PropTypes.func.isRequired,\n  order: PropTypes.oneOf(['asc', 'desc']).isRequired,\n  orderBy: PropTypes.func.isRequired,\n  rowCount: PropTypes.number.isRequired,\n};\n","import { IconButton, lighten, Toolbar, Tooltip, Typography } from \"@mui/material\";\nimport { makeStyles } from \"@mui/styles\";\nimport clsx from \"clsx\";\nimport DeleteIcon from \"@mui/icons-material/Delete\";\nimport SearchIcon from \"@mui/icons-material/Search\";\nimport PropTypes from \"prop-types\";\nimport React from \"react\";\n\nconst useToolbarStyles = makeStyles((theme) => ({\n  root: {\n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(1),\n  },\n  highlight:\n    theme.palette.mode === 'light'\n      ? {\n        color: theme.palette.primary.main,\n        backgroundColor: lighten(theme.palette.primary.light, 0.85),\n      }\n      : {\n        color: theme.palette.text.primary,\n        backgroundColor: theme.palette.secondary.dark,\n      },\n  title: {\n    flex: '1 1 100%',\n  },\n}));\n\nexport const EnhancedTableToolbar = (props) => {\n  const classes = useToolbarStyles();\n  const {numSelected, title, onDelete, customToolbar} = props;\n\n  return (\n    <Toolbar\n      className={clsx(classes.root, {\n        [classes.highlight]: numSelected > 0,\n      })}\n    >\n      {numSelected > 0 ? (\n        <Typography\n          className={classes.title}\n          color=\"inherit\"\n          variant=\"subtitle1\"\n          component=\"div\"\n        >\n          {numSelected} selected\n        </Typography>\n      ) : (\n        <Typography\n          className={classes.title}\n          variant=\"h6\"\n          id=\"tableTitle\"\n          component=\"div\"\n        >\n          {title}\n        </Typography>\n      )}\n\n      {numSelected > 0 && (\n        <Tooltip title=\"Delete\">\n          <IconButton aria-label=\"delete\" onClick={onDelete} size=\"large\">\n            <DeleteIcon/>\n          </IconButton>\n        </Tooltip>\n      )}\n\n      <Tooltip title=\"Search\">\n        <IconButton aria-label=\"search list\" size=\"large\">\n          <SearchIcon/>\n        </IconButton>\n      </Tooltip>\n      {customToolbar}\n    </Toolbar>\n  );\n};\n\nEnhancedTableToolbar.propTypes = {\n  numSelected: PropTypes.number.isRequired,\n  title: PropTypes.string.isRequired,\n  onDelete: PropTypes.func,\n};\n","import React from \"react\";\nimport {\n  Checkbox,\n  lighten,\n  Paper,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TablePagination,\n  TableRow\n} from \"@mui/material\";\nimport { makeStyles } from \"@mui/styles\";\nimport { visuallyHidden } from \"@mui/utils\";\nimport { EnhancedTableHead } from \"./EnhancedTableHead\";\nimport { EnhancedTableToolbar } from \"./EnhancedTableToolbar\";\n\nfunction descendingComparator(a, b, getValue, extraData) {\n  b = getValue(b, extraData) || '';\n  a = getValue(a, extraData) || '';\n  if (b < a) {\n    return -1;\n  }\n  if (b > a) {\n    return 1;\n  }\n  return 0;\n}\n\nfunction getComparator(order, orderBy, extraData) {\n  return order === 'desc'\n    ? (a, b) => descendingComparator(a, b, orderBy, extraData)\n    : (a, b) => -descendingComparator(a, b, orderBy, extraData);\n}\n\nfunction stableSort(array, comparator) {\n  const stabilizedThis = array.map((el, index) => [el, index]);\n  stabilizedThis.sort((a, b) => {\n    const order = comparator(a[0], b[0]);\n    if (order !== 0) return order;\n    return a[1] - b[1];\n  });\n  return stabilizedThis.map((el) => el[0]);\n}\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    width: '100%',\n  },\n  table: {\n    minWidth: 750,\n  },\n  // TODO fix #20379.\n  sortSpan: visuallyHidden,\n  tableRow: {\n    '&.Mui-selected': {\n      backgroundColor: lighten(theme.palette.primary.light, 0.85),\n    },\n    '&.Mui-selected:hover': {\n      backgroundColor: lighten(theme.palette.primary.light, 0.80),\n    }\n  }\n}));\n\nexport function EnhancedTable({data, title, columns, height, ...props}) {\n  const {\n    rowsPerPageOptions = [10, 25, 100],\n    idField = '_id',\n    defaultOrderBy = columns[0].sortBy || columns[0].body,\n    extraData = {},\n    rowStyle,\n    onDelete,\n    onChangePage, onChangeRowsPerPage,\n    customToolbar\n  } = props;\n  const classes = useStyles();\n  const [order, setOrder] = React.useState('asc');\n  const [orderBy, setOrderBy] = React.useState(() => defaultOrderBy);\n  const [selected, setSelected] = React.useState([]);\n  const [page, setPage] = React.useState(0);\n  const [rowsPerPage, setRowsPerPage] = React.useState(rowsPerPageOptions[0]);\n\n  const handleRequestSort = (event, getFieldValueFn) => {\n    const isAsc = orderBy === getFieldValueFn && order === 'asc';\n    setOrder(isAsc ? 'desc' : 'asc');\n    setOrderBy(() => getFieldValueFn);\n  };\n\n  const handleSelectAllClick = (event) => {\n    if (event.target.checked) {\n      setSelected(data.map(item => item[idField]));\n      return;\n    }\n    setSelected([]);\n  };\n\n  const handleClick = (event, id) => {\n    const selectedIndex = selected.indexOf(id);\n    let newSelected = [];\n\n    if (selectedIndex === -1) {\n      newSelected = newSelected.concat(selected, id);\n    } else if (selectedIndex === 0) {\n      newSelected = newSelected.concat(selected.slice(1));\n    } else if (selectedIndex === selected.length - 1) {\n      newSelected = newSelected.concat(selected.slice(0, -1));\n    } else if (selectedIndex > 0) {\n      newSelected = newSelected.concat(\n        selected.slice(0, selectedIndex),\n        selected.slice(selectedIndex + 1),\n      );\n    }\n\n    setSelected(newSelected);\n  };\n\n  const handleChangePage = (event, newPage) => {\n    setPage(newPage);\n\n    // Invoke listeners\n    if (onChangePage)\n      onChangePage(newPage);\n  };\n\n  const handleChangeRowsPerPage = (event) => {\n    const rowsPerPage = parseInt(event.target.value, 10);\n    setRowsPerPage(rowsPerPage);\n    setPage(0);\n\n    // Invoke listeners\n    if (onChangePage)\n      onChangePage(0);\n    if (onChangeRowsPerPage)\n      onChangeRowsPerPage(rowsPerPage)\n  };\n\n  const isSelected = (id) => selected.indexOf(id) !== -1;\n\n  const handleDelete = async () => {\n    // TODO: Show delete progressively.\n    if (onDelete) {\n      await onDelete(selected);\n      for (const id of selected) {\n        data.splice(data.findIndex(item => item._id === id), 1);\n      }\n      setSelected([]);\n    }\n  }\n\n  // Avoid a layout jump when reaching the last page with empty rows.\n  const emptyRows =\n    page > 0 ? Math.max(0, (1 + page) * rowsPerPage - data.length) : 0;\n\n  return (\n    <Paper elevation={5} className={classes.paper}>\n      <EnhancedTableToolbar title={title} numSelected={selected.length} onDelete={handleDelete}\n                            customToolbar={customToolbar}/>\n      <TableContainer style={{maxHeight: height || 'calc(100vh - 228px)'}}>\n        <Table\n          stickyHeader\n          className={classes.table}\n          size=\"medium\"\n        >\n          <EnhancedTableHead\n            classes={classes}\n            numSelected={selected.length}\n            order={order}\n            orderBy={orderBy}\n            onSelectAllClick={handleSelectAllClick}\n            onRequestSort={handleRequestSort}\n            rowCount={data.length}\n            columns={columns}\n          />\n          <TableBody>\n            {stableSort(data, getComparator(order, orderBy, extraData))\n              .slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\n              .map((row) => {\n                const id = row[idField];\n                const isItemSelected = isSelected(id);\n                return (\n                  <TableRow\n                    className={classes.tableRow}\n                    hover\n                    role=\"checkbox\"\n                    aria-checked={isItemSelected}\n                    tabIndex={-1}\n                    key={id}\n                    selected={isItemSelected}\n                    style={rowStyle && rowStyle(row)}\n                  >\n                    <TableCell padding=\"checkbox\" key={0}>\n                      <Checkbox\n                        color=\"primary\"\n                        onClick={(event) => handleClick(event, id)}\n                        checked={isItemSelected}\n                      />\n                    </TableCell>\n                    {columns.map((cell, idx) => <TableCell style={cell.style}\n                                                           key={idx + 1}>{cell.body(row, extraData)}</TableCell>)}\n                  </TableRow>\n                );\n              })}\n            {emptyRows > 0 && (\n              <TableRow\n                style={{\n                  height: 53 * emptyRows,\n                }}\n              >\n                <TableCell colSpan={6}/>\n              </TableRow>\n            )}\n          </TableBody>\n        </Table>\n      </TableContainer>\n      <TablePagination\n        rowsPerPageOptions={rowsPerPageOptions}\n        component=\"div\"\n        count={data.length}\n        rowsPerPage={rowsPerPage}\n        page={page}\n        onPageChange={handleChangePage}\n        onRowsPerPageChange={handleChangeRowsPerPage}\n      />\n    </Paper>\n  );\n}\n","import React, { useState } from 'react';\nimport { Menu, MenuItem, CircularProgress, Typography, Chip } from '@mui/material';\nimport { makeStyles } from \"@mui/styles\";\nimport { Link as DomLink, useHistory } from 'react-router-dom';\nimport { Add as AddIcon, CloudUpload as UploadIcon } from '@mui/icons-material';\nimport GoogleMap from './GoogleMap';\nimport CSVUploadModal from './CSVUploadModal';\nimport DeleteModal from './DeleteModal';\nimport DropdownMenu from './DropdownMenu';\nimport GenericPage from './GenericPage';\nimport FormStepper from './FormStepper';\nimport FieldsWrapper from \"./FieldsWrapper\";\nimport OtherLocationsFields from \"./OtherLocationsFields\";\n\nimport { providerFormTypes } from '../../constants/provider_fields.js'\n\nconst useStyles = makeStyles((theme) => ({\n  link: {\n    color: 'inherit',\n    textDecorationLine: 'none',\n  },\n  linkWithHover: {\n    fontWeight: 500,\n    color: 'inherit',\n    // textDecorationLine: 'none',\n    '&:hover': {\n      textDecorationLine: 'underline',\n      color: '#2f5ac7'\n    }\n  },\n  progress: {\n    margin: theme.spacing(2),\n    marginTop: 50,\n  },\n  chipButton: {\n    paddingLeft: 6,\n    marginLeft: 6,\n  }\n}));\n\nexport function Link({className = '', color, ...props}) {\n  const classes = useStyles();\n  return <DomLink {...props} className={color ? classes.linkWithHover : classes.link + ' ' + className}/>\n}\n\n/**\n * Used by DataTable. Add \"add button\" and \"upload by CSV button\"\n * @param onClick\n * @returns {*}\n * @constructor\n */\nexport function CustomToolbar({handleAdd, handleUpload, type}) {\n  const history = useHistory();\n  const classes = useStyles();\n\n  const [anchorEl, setAnchorEl] = useState(null);\n  const open = Boolean(anchorEl);\n\n  const handleClick = event => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const handleLink = link => () => {\n    history.push(link);\n  };\n\n  return (\n    <>\n      <Chip onClick={handleUpload}\n            color=\"default\"\n            icon={<UploadIcon/>}\n            label=\"Upload\"\n            variant=\"outlined\"\n            className={classes.chipButton}\n      />\n      <Chip onClick={type === 'providers' ? handleClick : handleAdd}\n            color=\"primary\"\n            icon={<AddIcon/>}\n            label=\"Add\"\n            variant=\"outlined\"\n            className={classes.chipButton}\n      />\n\n      {/*For Providers */}\n      {type === 'providers' &&\n      <Menu\n        id=\"long-menu\"\n        anchorEl={anchorEl}\n        keepMounted\n        open={open}\n        onClose={handleClose}\n      >\n        {Object.entries(providerFormTypes).map(([value, formType]) =>\n          <MenuItem key={formType} onClick={handleLink(`/providers/${value}/new`)}>\n            {formType}\n          </MenuItem>)\n        }\n      </Menu>\n      }\n    </>\n  );\n}\n\nexport function Loading({message = 'Loading Components...'}) {\n  const classes = useStyles();\n  return (\n    <div style={{textAlign: 'center'}}>\n      <CircularProgress className={classes.progress}/>\n      <Typography variant=\"subtitle2\" color={\"textSecondary\"}>\n        {message}\n      </Typography>\n    </div>\n  );\n}\n\n\nexport {\n  GoogleMap, CSVUploadModal, DeleteModal, DropdownMenu, GenericPage, FormStepper, FieldsWrapper,\n  OtherLocationsFields\n}\nexport {EnhancedTable as DataTable} from './Table';\n","import React, { useEffect, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\n\nimport { AppBar, Toolbar, Typography, Button, Tabs, Tab, Box } from '@mui/material';\nimport { Link } from \"../shared\";\n\n// redux\nimport { useDispatch, useSelector } from 'react-redux';\nimport { logout } from '../../store/actions/authAction.js';\nimport styled from \"@emotion/styled\";\n\nconst StyledTabs = styled(Tabs)({\n  '& .MuiTabs-indicator': {\n    display: 'flex',\n    justifyContent: 'center',\n    backgroundColor: '#ccc',\n    transition: 'none',\n  },\n});\n\nconst StyledTab = styled(Tab)(({theme}) => ({\n  textTransform: 'none',\n  fontWeight: theme.typography.fontWeightRegular,\n  fontSize: theme.typography.pxToRem(15),\n  marginRight: theme.spacing(1),\n  minWidth: 60,\n  color: 'rgba(255, 255, 255, 0.8)',\n  '&.Mui-selected': {\n    color: '#fff',\n    fontWeight: 500,\n    backgroundColor: '#cccccc26',\n  },\n}));\n\nfunction NavTab(props) {\n  const history = useHistory();\n  return <StyledTab {...props} onClick={() => history.push(props.value)}/>\n}\n\nfunction TopNavBar() {\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const {isLoggedin} = useSelector(state => state.auth);\n  const tabNames = ['/clients', '/services', '/goods', '/providers', '/reporting'];\n  const [value, setValue] = useState(\n    tabNames.indexOf(history.location.pathname) !== -1 ? history.location.pathname : false,\n  );\n\n  useEffect(() => {\n    setValue(tabNames.indexOf(history.location.pathname) !== -1 ? history.location.pathname : false);\n  }, [history.location.pathname, tabNames]);\n\n  const tabOnChange = (e, newValue) => {\n    setValue(newValue);\n    history.push(newValue);\n  };\n\n  return (\n    <AppBar position=\"fixed\" sx={{backgroundColor: 'rgb(39, 44, 52)'}}>\n      <Toolbar variant=\"dense\">\n        {isLoggedin ? (\n          <StyledTabs sx={{flexGrow: 2}} value={value} onChange={tabOnChange} variant=\"scrollable\"\n                      indicatorColor='secondary'>\n            <NavTab label=\"Clients\" value=\"/clients\"/>\n            <NavTab label=\"Services\" value=\"/services\"/>\n            <NavTab label=\"Goods\" value=\"/goods\"/>\n            <NavTab label=\"Providers\" value=\"/providers\"/>\n            <NavTab label=\"Reporting\" value=\"/reporting\"/>\n            <Tab sx={{display: 'none'}} label=\"\" value=\"none\"/>\n          </StyledTabs>\n        ) : null}\n\n        {isLoggedin && (\n          <Box sx={{\n            paddingRight: '20px',\n            whiteSpace: 'pre',\n            textDecorationLine: 'none',\n          }}>\n            <Link to={\"/dashboard\"} onClick={() => setValue('none')}>\n              <Typography>\n                Dashboard\n              </Typography>\n            </Link>\n          </Box>\n        )}\n\n        <Button color=\"inherit\" onClick={() => isLoggedin ? dispatch(logout()) : history.push('/login')}\n                sx={{\n                  marginLeft: 'auto',\n                  textDecorationLine: 'none',\n                  whiteSpace: 'pre'\n                }}>\n          {isLoggedin ? 'Log out' : 'Login'}\n        </Button>\n\n      </Toolbar>\n    </AppBar>\n  )\n}\n\nexport default TopNavBar;\n","import React from 'react';\nimport { Typography, Link, Box } from \"@mui/material\";\n\nexport default function () {\n  return (\n    <Box sx={{\n      position: 'fixed',\n      left: '0',\n      bottom: '0',\n      width: '100%',\n      backgroundColor: '#222',\n      color: '#aaa',\n      textAlign: 'center',\n      borderRadius: '2px 2px 0 0',\n      alignContent: 'center',\n      padding: '4px',\n      '@media print': {\n        display: 'none'\n      }\n    }}>\n      <Typography variant=\"caption\">\n        <Link href=\"https://csse.utoronto.ca/\" target=\"_blank\" sx={{color: \"#ababab\", textDecoration: 'none'}}>\n          Centre for Social Services Engineering\n        </Link>, University of Toronto\n      </Typography>\n    </Box>\n  );\n};\n","import React, { Component } from 'react'\n\nclass Landing extends Component {\n  render() {\n    return(\n      <div className=\"landing\">\n        <div className=\"container\">\n          <div className=\"intro-placeholder\">\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Landing;\n","import React from 'react'\nimport { Typography, Button, Container, Grid } from \"@mui/material\";\nimport { makeStyles } from \"@mui/styles\";\nimport { Link } from './shared';\n\nconst useStyles = makeStyles(() => ({\n  container: {\n    paddingTop: 80,\n    maxWidth: '500px',\n  },\n  button: {\n    width: 300,\n  },\n}));\n\nfunction Login() {\n  const classes = useStyles();\n  return (\n    <Container className={classes.container}>\n      <Grid container direction=\"column\" spacing={3} alignItems=\"center\">\n        <Grid item>\n          <Typography variant=\"h5\">\n            Log in to your Dashboard\n          </Typography>\n        </Grid>\n        <Grid item>\n          <Link to={`/login-pane`}>\n            <Button variant=\"outlined\" className={classes.button}>\n              Sign in with SNM account\n            </Button>\n          </Link>\n        </Grid>\n        <Grid item>\n          <Link to={`/login-pane`}>\n            <Button color=\"primary\" variant=\"outlined\" className={classes.button}>\n              Facebook\n            </Button>\n          </Link>\n        </Grid>\n        <Grid item>\n          <Link to={`/login-pane`}>\n            <Button color=\"secondary\" variant=\"outlined\" className={classes.button}>\n              Google\n            </Button>\n          </Link>\n        </Grid>\n      </Grid>\n    </Container>\n  );\n}\n\nexport default Login;\n","import React, { useState } from 'react'\nimport { useHistory } from \"react-router\";\n\nimport { TextField, Container, Paper, Typography, Button, Divider } from \"@mui/material\";\nimport { makeStyles } from \"@mui/styles\";\nimport { Link } from './shared';\n\nimport { login, LOGIN_SUCCESS } from '../store/actions/authAction';\nimport { useDispatch } from \"react-redux\";\n\nconst useStyles = makeStyles(() => ({\n  container: {\n    paddingTop: 80,\n    maxWidth: '500px'\n  },\n  paper: {\n    padding: 30,\n  },\n  item: {\n    marginTop: 20,\n  },\n  button: {\n    marginTop: 30,\n    marginBottom: 20,\n  },\n  link: {\n    marginTop: 10,\n    color: '#007dff',\n  }\n}));\n\nfunction LoginPane() {\n  const classes = useStyles();\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const [form, setForm] = useState({username: '', password: '', alert: ''});\n\n  const onChange = name => e => {\n    const value = e.target.value;\n    setForm(prev => ({...prev, [name]: value}));\n  };\n\n  const submit = async () => {\n    const {status, message} = await dispatch(login(form));\n    if (status === LOGIN_SUCCESS) {\n      history.push('/dashboard');\n    } else {\n      setForm(prev => ({...prev, alert: message}));\n    }\n  };\n\n  const onKeyPress = event => {\n    if (event.key === \"Enter\") {\n      submit();\n    }\n  };\n\n  return (\n    <Container className={classes.container} onKeyPress={onKeyPress}>\n      <Paper elevation={5} className={classes.paper}>\n        <Typography variant=\"h6\">\n          Sign in\n        </Typography>\n        <TextField\n          fullWidth\n          variant=\"outlined\"\n          label=\"Username\"\n          type=\"text\"\n          value={form.username}\n          onChange={onChange('username')}\n          className={classes.item}\n        />\n        <br/>\n        <TextField\n          fullWidth\n          variant=\"outlined\"\n          label=\"Password\"\n          type=\"password\"\n          value={form.password}\n          onChange={onChange('password')}\n          className={classes.item}\n        />\n        <br/>\n        <Typography variant=\"caption\">\n          <span style={{color: 'red'}}>{form.alert}</span>\n        </Typography>\n        <br/>\n        <Button variant=\"outlined\" color=\"primary\" className={classes.button} onClick={submit}> Log in</Button>\n        <Divider/>\n        <Link to={'/login-pane'}>\n          <Typography variant=\"body2\" className={classes.link}>\n            Don't have an account?\n          </Typography>\n        </Link>\n\n        <Link to={'/login-pane'}>\n          <Typography variant=\"body2\" className={classes.link}>\n            Forget password?\n          </Typography>\n        </Link>\n      </Paper>\n    </Container>\n  );\n}\n\nexport default LoginPane;\n","import React from 'react';\nimport { Link } from './shared'\n\n// redux\nimport { useSelector } from 'react-redux';\n\nimport { Container, Button } from \"@mui/material\";\nimport { Edit, Create, People, ViewHeadline as Log, CheckCircleOutline as Criteria} from \"@mui/icons-material\";\n\nfunction NavButton({to, text, icon}) {\n  return (\n    <Link to={to}>\n      <Button\n        sx={{\n          width: 300,\n          height: 100,\n          textTransform: 'none',\n          margin: 1,\n          color: '#535353'\n        }}\n        color=\"inherit\"\n        variant=\"outlined\"\n        startIcon={icon}\n        size=\"large\">\n        {text}\n      </Button>\n    </Link>\n  );\n}\n\nfunction Dashboard() {\n  const {isLoggedin, currentUser, organization} = useSelector(state => state.auth);\n  if (!isLoggedin || !currentUser.is_admin)\n    return <span>\"You don't have the permission to view this page.\"</span>;\n\n  return (\n    <Container maxWidth=\"md\" sx={{\n      paddingTop: 8,\n      textAlign: 'center',\n    }}>\n\n      {!organization.id &&\n      <NavButton to={{pathname: '/providers/organization/new', state: {status: 'Home Agency'}}}\n                 text=\"Create Organization Profile for Home Agency\" icon={<Create/>}/>}\n\n      {organization.id &&\n      <NavButton to={`/provider/${organization.id}/edit/organization`} icon={<Edit/>}\n                 text=\"Edit Organization Profile for Home Agency\"/>}\n\n      <NavButton to={`/users`} icon={<People/>}\n                 text=\"Manage Users\"/>\n\n      <NavButton to={`/admin-logs`} icon={<Log/>}\n                 text=\"Admin Logs\"/>\n\n      <NavButton to={`/eligibility-criteria`} icon={<Criteria/>}\n                 text=\"Manage Eligibility Criteria\"/>\n\n      <NavButton to={'/settings/manage-fields'} icon={<Edit/>}\n                 text=\"Manage Client/Provider Fields\"/>\n\n      <NavButton to={'/questions'} icon={<Edit/>}\n                 text=\"Manage Questions\"/>\n\n    </Container>\n  )\n}\n\nexport default Dashboard;\n","export class BrowserStore {\n  constructor(name, defaultValue) {\n    this.name = name;\n    const rawData = localStorage.getItem(this.name);\n    this.store = rawData && JSON.parse(rawData) || defaultValue;\n  }\n\n  get value() {\n    console.log('GET ', this.name, this.store);\n    return this.store;\n  }\n\n  set value(newValue) {\n    console.log('SET ', this.name, newValue);\n    this.store = newValue;\n    localStorage.setItem(this.name, JSON.stringify(newValue));\n  }\n\n  save() {\n    localStorage.setItem(this.name, JSON.stringify(this.store));\n  }\n}\n\nexport class BrowserCounterStore {\n  constructor(name, startNumber = 0) {\n    this.name = name + '-cnt';\n    this.store = Number(localStorage.getItem(this.name)) || (startNumber - 1);\n  }\n\n  get nextCnt() {\n    this.store++;\n    localStorage.setItem(this.name, this.store);\n    return this.store;\n  }\n}\n","import fetch from 'isomorphic-fetch';\nimport { serverHost } from '../store/defaults.js';\nimport { resolve } from \"chart.js/helpers\";\n\nexport const ACTION_SUCCESS = 'ACTION_SUCCESS';\nexport const ACTION_ERROR = 'ACTION_ERROR';\n\nexport const headers = {\n  Authorization: `JWT ${localStorage.getItem('jwt_token')}`\n};\n\nconst normalizeError = (err) => {\n  for (const [key, value] of Object.entries(err)) {\n    if (value != null && typeof value === 'object' && !Array.isArray(value)) {\n      err[key] = normalizeError(value);\n    } else {\n      err[key] = value[0];\n    }\n  }\n  return err;\n};\n\nexport async function getJson(url) {\n  url = serverHost + url;\n  const response = await fetch(url, {\n    method: 'GET',\n    headers: {\n      'Content-Type': 'application/json',\n      'Authorization': `JWT ${localStorage.getItem('jwt_token')}`\n    },\n  });\n  if (response.status >= 400 && response.status < 600) {\n    const e = new Error(\"Bad response from server: \" + response.status);\n    e.json = normalizeError(await response.json());\n    throw e;\n  }\n  return response.json();\n}\n\nasync function sendJson(url, body, method, rawResponse = false) {\n  url = serverHost + url;\n  const response = await fetch(url, {\n    method,\n    body: JSON.stringify(body),\n    headers: {\n      'Content-Type': 'application/json',\n      'Authorization': `JWT ${localStorage.getItem('jwt_token')}`\n    },\n  });\n  if (response.status >= 400 && response.status < 600) {\n    const e = new Error(\"Bad response from server: \" + response.status);\n    e.json = normalizeError(await response.json());\n    throw e;\n  }\n  if (rawResponse)\n    return response;\n  return response.json();\n}\n\nexport async function postJson(url, body) {\n  return sendJson(url, body, 'POST');\n}\n\nexport async function putJson(url, body) {\n  return sendJson(url, body, 'PUT');\n}\n\n// return raw response\nexport async function deleteJson(url, body) {\n  return sendJson(url, body, 'DELETE', true);\n}\n\nexport function sleep(milliseconds) {\n  return new Promise((resolve) => {\n    setTimeout(() => {\n      resolve();\n    }, milliseconds)\n  })\n}","import { BrowserStore, BrowserCounterStore } from './browserStore';\nimport { sleep } from \"../index\";\n\nconst clientsStore = new BrowserStore('clients', []);\nconst clientCnt = new BrowserCounterStore('client');\n\nexport async function fetchClients() {\n  await sleep(200);\n  // ugly deep copy\n  return JSON.parse(JSON.stringify(clientsStore.value));\n}\n\nexport async function fetchClient(id) {\n  await sleep(200);\n  // ugly deep copy\n  return JSON.parse(JSON.stringify(clientsStore.value.find(client => client.id === Number(id))));\n}\n\n\nexport async function createClient(newClientData) {\n  await sleep(200);\n  const newClient = {\n    id: clientCnt.nextCnt,\n    need_groups: [],\n    appointments: [],\n    ...newClientData\n  };\n  clientsStore.value = [...clientsStore.value, newClient];\n  return {success: true, clientId: newClient.id};\n  // return {success: false, error: 'error message here'}\n}\n\nexport async function updateClient(id, updatedClient) {\n  await sleep(200);\n  Object.assign(clientsStore.value.find(client => client.id === Number(id)), updatedClient);\n  clientsStore.save();\n  return {success: true, clientId: id};\n  // return {success: false, error: 'error message here'}\n}\n\n\nexport async function deleteClient(updatedClient) {\n  await sleep(200);\n  const idx = clientsStore.value.findIndex(client => client.id === updatedClient.id);\n  clientsStore.value.splice(idx, 1)\n  clientsStore.save();\n  return {success: true}\n}\n","export function formatLocation(location) {\n  if (Object.keys(location).length === 1) {\n    return \"Not Provided\"\n  }\n\n  let format_location = ''\n  if (location.apt_number !== undefined){\n    format_location += `${location.apt_number}-`\n  }\n  if (location.street_address !== undefined){\n    format_location += `${location.street_address}, `\n  }\n  if (location.city !== undefined)\n    format_location += `${location.city}, `\n  if (location.province !== undefined)\n    format_location += `${location.province}, `\n  if (location.postal_code !== undefined)\n    format_location += `${location.postal_code}`\n  return format_location\n}\n","export function formatPhoneNumber(number) {\n  try {\n    const codes = number.match(/^(\\d{3})(\\d{3})(\\d{4})$/);\n    return \"(\" + codes[1] + \") \" + codes[2] + \"-\" + codes[3];\n  } catch (e) {\n    return number;\n  }\n}\n","import React from 'react';\n\n// TODO: createClients  (CSV Upload)\nimport { fetchClients, deleteClient } from '../api/mockedApi/clients'\n\nimport { formatLocation } from '../helpers/location_helpers'\nimport { formatPhoneNumber } from '../helpers/phone_number_helpers'\n\nimport { GenericPage, Link } from \"./shared\";\n\nconst TYPE = 'clients';\n\n// mui-table column configurations\n// TODO: Add custom print function for address\nconst columnsWithoutOptions = [\n  {\n    label: 'First Name',\n    body: ({id, profile}) => {\n      return <Link color to={`/${TYPE}/${id}`}>{profile.first_name}</Link>\n    }\n  },\n  {\n    label: 'Last Name',\n    body: ({profile}) => {\n      return profile.last_name;\n    }\n  },\n  {\n    name: 'profile.primary_phone_number',\n    label: 'Phone Number',\n    body: ({profile}) => {\n      if (profile.primary_phone_number)\n        return formatPhoneNumber(profile.primary_phone_number);\n      return 'Not Provided';\n    },\n  },\n  {\n    label: 'Email',\n    body: ({profile}) => {\n      return profile.email;\n    }\n  },\n  {\n    label: 'Address',\n    body: ({profile}) => {\n      if (profile.address)\n        return formatLocation(profile.address);\n      return 'Not Provided';\n    }\n  },\n];\n\nexport default function Clients() {\n\n  const nameFormatter = (client) => {\n    return client.profile.first_name + ' ' + client.profile.last_name;\n  };\n\n  const generateMarkers = (clients, pageNumber, rowsPerPage) => {\n    // TODO: verify this works as expected\n    const currPageClients = clients.slice((pageNumber - 1) * rowsPerPage, pageNumber * rowsPerPage);\n    return currPageClients.map(client => ({\n      position: {lat: Number(client.address.lat), lng: Number(client.address.lng)},\n      title: nameFormatter(client),\n      link: `/${TYPE}/${client.id}`,\n      content: client.address && formatLocation(client.address),\n    })).filter(client => client.position.lat && client.position.lng);\n  };\n\n  return (\n    <GenericPage\n      type={TYPE}\n      columnsWithoutOptions={columnsWithoutOptions}\n      fetchData={fetchClients}\n      deleteItem={deleteClient}\n      generateMarkers={generateMarkers}\n      nameFormatter={nameFormatter}\n      tableOptions={{\n        idField: 'id'\n      }}\n    />\n  )\n}\n","import React, { useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport {\n  Button, Box, Accordion, AccordionSummary, AccordionDetails, Typography, Paper, Grid\n} from \"@mui/material\";\nimport { makeStyles } from \"@mui/styles\";\nimport { Link } from '../shared'\nimport { updateClientNeedGroup } from \"../../store/actions/needActions\";\n\n//icons\nimport { Edit, PriorityHigh, Delete, Alarm, ExpandMoreOutlined } from \"@mui/icons-material\";\n\n\nexport default function NeedGroupPanel(props) {\n  const {\n    needGroupCategory, needs, needGroupId, status,\n    clientId, handleShow\n  } = props;\n  const dispatch = useDispatch();\n\n\n  const [state, setState] = useState({\n    status: status,\n    hasUrgentNeed: anyUrgentNeed(needs)\n  })\n  const changeNeedGroupCategoryStatus = () => {\n    const need_group = {\n      category: needGroupCategory,\n      status: (state.status === \"Unmet\") ? \"Met\" : \"Unmet\",\n      client_id: clientId,\n      id: needGroupId\n    }\n    setState(state => ({...state, status: need_group.status}))\n    dispatch(updateClientNeedGroup(clientId, need_group.id, need_group));\n\n  }\n\n  const classes = useStyles();\n\n  const needsUnderCat = needs.map(need =>\n    <Paper key={need.id}\n           variant={\"outlined\"}\n    >\n      <Grid container spacing={3} className={classes.innerBox}>\n        <Grid item xs>\n          <Typography color={'primary'}>{need.type}</Typography>\n        </Grid>\n        <Grid item xs>\n        </Grid>\n        {need.is_urgent && (\n          <Grid item xs>\n            <Box display=\"flex\" flexDirection={\"row\"}>\n              <Alarm className={classes.highPriority}></Alarm>\n              <Typography className={classes.highPriority}>Urgent</Typography>\n            </Box>\n          </Grid>\n        )}\n      </Grid>\n\n      <Box className={classes.innerBox}>\n        <Link color to={`/needs/${need.id}`}>\n          Find Services/Goods\n        </Link>\n        <p>{need.description}</p>\n      </Box>\n\n      <Box display='flex' className={classes.innerBox}>\n        <Box>\n          <Link to={`/needs/${need.id}/edit`}>\n            <Button\n              startIcon={<Edit/>}>\n              Edit\n            </Button>\n          </Link>\n        </Box>\n\n        <Box>\n          <Button\n            startIcon={<Delete/>}\n            onClick={() => handleShow(need.id)}\n          >\n            Delete\n          </Button>\n        </Box>\n\n        <Box>\n          <Button\n            color={\"secondary\"}\n            onClick={() => changeNeedGroupCategoryStatus()}>\n            {state.status}\n          </Button>\n        </Box>\n      </Box>\n\n    </Paper>\n  )\n\n  return (\n    <div>\n      <Accordion className={classes.panel}>\n        <AccordionSummary\n          expandIcon={<ExpandMoreOutlined/>}\n          aria-controls={needGroupCategory + \"-content\"}\n          id={needGroupCategory + \"-header\"}\n        >\n          <Box display=\"flex\" flexDirection={\"row\"} className={classes.column}>\n            <Typography className={classes.heading}>{needGroupCategory}</Typography>\n            {state.hasUrgentNeed && <PriorityHigh className={classes.highPriority}></PriorityHigh>}\n          </Box>\n          <div className={classes.column}>\n            <Typography className={classes.secondaryHeading}>{needs.length} need(s) inside </Typography>\n          </div>\n        </AccordionSummary>\n        <AccordionDetails className={classes.panelDetail}>\n          <Box className={classes.outerBox}>\n            {needsUnderCat}\n          </Box>\n        </AccordionDetails>\n      </Accordion>\n    </div>\n  )\n}\n\nconst useStyles = makeStyles(theme => ({\n  heading: {\n    fontSize: theme.typography.pxToRem(15),\n    fontWeight: theme.typography.fontWeightRegular,\n  },\n  secondaryHeading: {\n    fontSize: theme.typography.pxToRem(12),\n    color: theme.palette.text.secondary,\n  },\n  column: {\n    flexBasis: '50%',\n  },\n  panel: {\n    width: '35%',\n  },\n  panelDetail: {\n    padding: 0\n  },\n  outerBox: {\n    width: '100%'\n  },\n  innerBox: {\n    padding: \"10px\"\n  },\n  highPriority: {\n    color: \"#f44336\"\n  },\n\n\n}));\n\nfunction anyUrgentNeed(needs) {\n  for (let need of needs) {\n    if (need.is_urgent) {\n      return true;\n    }\n  }\n  return false;\n}","import React, { useState} from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { deleteClientNeed, ERROR } from \"../store/actions/needActions\";\nimport DeleteModal from \"./shared/DeleteModal\";\nimport NeedGroupPanel from \"./client_needs/NeedGroupPanel\";\n\nexport default function ClientNeeds(props) {\n  const {clientId, needGroups} = props;\n  const dispatch = useDispatch();\n\n  const [state, setState] = useState({\n    show: false,\n    selectedId: null,\n    needGroupData: needGroups,\n  });\n\n  const handleHide = () => {\n    setState( state => ({\n        ...state,\n        showDeletedDiaglog: false\n      }));\n  }\n\n  const handleShow = (id) => {\n    setState(state => ({\n        ...state,\n        showDeletedDiaglog:true,\n        selectedId:id\n      })\n    )\n  }\n\n  const needsByNeedGroup = state.needGroupData.map(need_group =>\n    <NeedGroupPanel\n      key={need_group.id}\n      needGroupCategory={need_group.category}\n      needs={need_group.needs}\n      needGroupId={need_group.id}\n      status={need_group.status}\n      clientId={clientId}\n      handleShow={handleShow}\n    />\n  );\n\n\n  const handleDelete = (id, form) => {\n    dispatch(deleteClientNeed(clientId, id, form)).then((status) => {\n      if (status === ERROR) {\n        // this.setState({ displayError: true });\n      } else {\n        setState( state => ({\n          ...state,\n          showDeletedDiaglog: false,\n          needGroupData: deleteNeedInData(state.selectedId)\n        }));\n      }\n    });\n  }\n\n  const deleteNeedInData = (id) => {\n    let copy = [...state.needGroupData]\n    for (const need_cat of copy){\n      for (const need of need_cat.needs){\n        if(need.id === state.selectedId){\n          //Delete need corresponding to selectedId\n          const idx = need_cat.needs.indexOf(need);\n          if (idx > -1){\n            need_cat.needs.splice(idx,1);\n          }\n        }\n      }\n      if (need_cat.needs.length === 0){\n        //If there are no needs under this category, delete the category as well.\n        const idx = copy.indexOf(need_cat);\n        if (idx > -1){\n          copy.splice(idx,1);\n        }\n      }\n    }\n    return copy;\n  }\n\n  if (state) {\n    return (\n      <div>\n          {needsByNeedGroup}\n        <DeleteModal\n          contentType='Need'\n          objectId={state.selectedId}\n          show={state.showDeletedDiaglog}\n          onHide={handleHide}\n          delete={handleDelete}\n          title = {\"Delete this need?\"}\n        />\n      </div>\n      )\n\n  } else {\n    return '';\n  }\n}\n","import React from 'react';\nimport TableCell from '@mui/material/TableCell';\nimport TableRow from '@mui/material/TableRow';\n\n\nexport default function TR({ title, value }) {\n  if (value) {\n    return (\n      <TableRow key={title}>\n        <TableCell component=\"th\" scope=\"row\">\n          {title}\n        </TableCell>\n        <TableCell align=\"left\">{value}</TableCell>\n      </TableRow>\n    );\n  } else {\n    return null;\n  }\n}\n","import { makeStyles } from \"@mui/styles\";\n\nconst useProfileTableStyles = makeStyles({\n  table: {\n    marginTop: 20,\n    marginBottom: 40,\n    width: '80%'\n  },\n  title: {\n    backgroundColor: '#ececec',\n    width: '30%'\n  },\n\n  title2: {\n    backgroundColor: '#ececec',\n    width: '70%'\n  },\n\n});\n\nexport default useProfileTableStyles;\n","import React from 'react';\nimport _ from 'lodash';\n\nimport TR from '../../shared/TR';\n\nimport { formatLocation } from '../../../helpers/location_helpers';\nimport { formatPhoneNumber } from '../../../helpers/phone_number_helpers';\n\nimport { Table, TableBody, TableCell, TableContainer, TableHead, TableRow, Paper } from \"@mui/material\"\n\nimport useProfileTableStyles from '../../../stylesheets/profile-table'\n\nexport default function ClientInfoTable({ step, client, infoFields, clientFields }) {\n\n  let rowTitle, rowValue;\n  const infoRows = _.map(infoFields, infoField => {\n\n\n    rowTitle = clientFields[infoField].label;\n    // console.log(\"%%%%%%%%% clientFields[infoField].label\", clientFields[infoField].label);\n\n    switch(infoField) {\n        case 'first_name':\n        if (client.profile === undefined){\n        // console.log(\"@@@@@@@@@@@@@@@@@@@@@@@@@@\");\n        }\n        else{\n        rowValue = client.profile[infoField];\n        // console.log(\"$$$$$$ infoField, rowValue, client.profile  $$ \",infoField, rowValue,  client.profile);\n        }\n        break;\n      case 'middle_name':\n        if (client.profile === undefined){\n        // console.log(\"@@@@@@@@@@@@@@@@@@@@@@@@@@\");\n        }\n        else{\n        // console.log(\"$$$$$$ infoField, client.profile  $$  \", infoField,  client.profile);\n        rowValue = client.profile[infoField];\n        }\n        break;\n      case 'last_name':\n      if (client.profile === undefined){\n        // console.log(\"@@@@@@@@@@@@@@@@@@@@@@@@@@\");\n        }\n        else{\n        // console.log(\"$$$$$$ infoField, client.profile   $$  \",infoField,  client.profile);\n        rowValue = client.profile[infoField];\n        }\n        break;\n      case 'preferred_name':\n      if (client.profile === undefined){\n        // console.log(\"@@@@@@@@@@@@@@@@@@@@@@@@@@\");\n        }\n        else{\n        // console.log(\"$$$$$$ infoField, client.profile   $$  \",infoField,  client.profile);\n        rowValue = client.profile[infoField];\n        }\n        break;\n      case 'gender':\n      if (client.profile === undefined){\n        // console.log(\"@@@@@@@@@@@@@@@@@@@@@@@@@@\");\n        }\n        else{\n        // console.log(\"$$$$$$ infoField, client.profile   $$  \",infoField,  client.profile);\n        rowValue = client.profile[infoField];\n        }\n        break;\n      case 'birth_date':\n        if (client.profile === undefined){\n        // console.log(\"@@@@@@@@@@@@@@@@@@@@@@@@@@\");\n        }\n        else{\n        // console.log(\"$$$$$$ infoField, client.profile   $$  \",infoField,  client.profile);\n        rowValue = client.profile[infoField];\n        }\n        break;\n      case 'email':\n        if (client.profile === undefined){\n        // console.log(\"@@@@@@@@@@@@@@@@@@@@@@@@@@\");\n        }\n        else{\n        // console.log(\"$$$$$$ infoField, client.profile   $$  \",infoField,  client.profile);\n        rowValue = client.profile[infoField];\n        }\n        break;\n      case 'primary_phone_number':\n        if (client.profile === undefined){\n        // console.log(\"@@@@@@@@@@@@@@@@@@@@@@@@@@\");\n        }\n        else{\n        rowValue = client.profile[infoField];\n        // console.log(\"$$$$$$ infoField, client.profile   $$  \",infoField,  client.profile);\n        }\n        break;\n      case 'alt_phone_number':\n        if (client.profile === undefined){\n        // console.log(\"@@@@@@@@@@@@@@@@@@@@@@@@@@\");\n        }\n        else{\n        rowValue = client.profile[infoField] ? formatPhoneNumber(client.profile[infoField]) : 'None provided';\n        }\n        break;\n      case \"address\":\n      if (client.profile === undefined){\n        // console.log(\"@@@@@@@@@@@@@@@@@@@@@@@@@@\");\n        }\n        else{\n        rowValue = client[infoField] ? formatLocation(client[infoField]) : \"None provided\";\n        }\n        break;\n\n      case \"has_children\":\n        if (client.profile === undefined){\n        // console.log(\"@@@@@@@@@@@@@@@@@@@@@@@@@@\");\n        }\n        else{\n        rowValue = client[infoField] ? 'Yes' : 'No';\n        }\n        break;\n      case \"other_languages\":\n      if (client.profile === undefined){\n        // console.log(\"@@@@@@@@@@@@@@@@@@@@@@@@@@\");\n        }\n        else{\n        // console.log(\"$$$$$$ infoField, client.profile\",infoField,  client.profile);\n        }\n        rowValue = client.profile[infoField];\n        break;\n      case \"eligibilities\":\n      if (client.profile === undefined){\n        // console.log(\"@@@@@@@@@@@@@@@@@@@@@@@@@@\");\n        }\n        else{\n        rowValue = (client[infoField] || []).join(', ')\n        }\n        break;\n      default:\n        rowValue = client[infoField];\n    }\n    return (\n      <TR\n        key={infoField}\n        title={rowTitle}\n        value={rowValue}\n      />\n    );\n  })\n\n  const classes = useProfileTableStyles()\n  return (\n    <TableContainer className={classes.table} component={Paper}>\n      <Table aria-label=\"Profile table\">\n        <TableHead>\n          <TableRow >\n            <TableCell className={classes.title}>{step}</TableCell>\n            <TableCell className={classes.title2}></TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {infoRows}\n        </TableBody>\n      </Table>\n    </TableContainer>\n  )\n}\n","import React, { Component } from 'react';\nimport { TableCell, TableRow } from \"@mui/material\";\n\n\nexport default class AppointmentRow extends Component {\n  render() {\n    const appointment = this.props.appointment;\n\n    return (\n      <TableRow>\n        {/*<td>*/}\n        {/*  <Label>{appointment.type}</Label>{' '}*/}\n        {/*  {appointment.category}*/}\n        {/*</td>*/}\n        <TableCell component=\"th\" scope=\"row\">\n          {appointment.category}\n        </TableCell>\n        <TableCell align=\"left\">{appointment.date}</TableCell>\n        <TableCell align=\"left\">{`${appointment.start_time} - ${appointment.end_time}`}</TableCell>\n        <TableCell align=\"left\">{appointment.description}</TableCell>\n      </TableRow>\n    )\n  }\n}\n","import { BrowserStore } from './browserStore';\nimport { sleep } from \"../index\";\n\nconst defaultClientFields = {\n  \"steps_order\": [\n    \"info\"\n  ],\n  \"form_structure\": {\n    \"info\": {\n      \"first_name\": false,\n      \"last_name\": false,\n      \"gender\": false,\n      \"first_language\": false,\n      \"birth_date\": false,\n      \"ngo_conditions\": false,\n      \"status_in_canada\": false,\n      \"country_of_origin\": false,\n      \"has_children\": false\n    }\n  }\n};\n\nconst clientFieldsStore = new BrowserStore('client-fields', defaultClientFields);\nexport async function fetchClientFields() {\n  await sleep(200);\n  // ugly deep copy\n  return JSON.parse(JSON.stringify(clientFieldsStore.value));\n}\n\nexport async function updateClientFields(updatedClientFields) {\n  await sleep(200);\n  clientFieldsStore.value = updatedClientFields;\n}\n","import { maritalStatusOptions, statusInCanadaOptions, educationLevelOptions, genderOptions,\n         incomeSourceOptions } from '../store/defaults.js';\n\nexport const clientFields = {\n  address: { label: 'Address' },\n  alt_phone_number: { component: 'GeneralField', type: 'tel', label: 'Alternative Phone Number' },\n  arrival_date: { component: 'GeneralField', type: 'date', label: 'Arrival Date (if different from landing_date)' },\n  birth_date: { component: 'GeneralField', type: 'date', label: 'Date of Birth' },\n  completed_education_level: { component: 'SelectField', label: 'Completed Education Level', options: educationLevelOptions },\n  country_of_last_residence: { component: 'GeneralField', type: 'text', label: 'Country of Last Residence' },\n  country_of_origin: { component: 'GeneralField', type: 'text', label: 'Country of Origin' },\n  current_education_level: { component: 'SelectField', label: 'Current Education Level', options: educationLevelOptions },\n  ngo_conditions: { component: 'CheckboxField', label: 'NGO Conditions' },\n  email: { component: 'GeneralField', type: 'email', label: 'Email' },\n  family: { label: 'Family' },\n  file_id: { component: 'GeneralField', type: 'text', label: 'File ID' },\n  first_language: { component: 'SelectField', label: 'First Language' },\n  first_name: { component: 'GeneralField', type: 'text', label: 'First Name' },\n  gender: { component: 'SelectField', label: 'Gender', options: genderOptions },\n  has_children: { component: 'RadioField', label: 'Do you have children?', options: { 'Yes': true, 'No': false } },\n  immigration_doc_number: { component: 'GeneralField', type: 'text', label: 'Immigration Document Number (if different from PR card)' },\n  income_source: { component: 'SelectField', label: 'Income Source', options: incomeSourceOptions },\n  landing_date: { component: 'GeneralField', type: 'date', label: 'Landing Date' },\n  last_name: { component: 'GeneralField', type: 'text', label: 'Last Name' },\n  marital_status: { component: 'SelectField', label: 'Marital Status', options: maritalStatusOptions },\n  middle_name: { component: 'GeneralField', type: 'text', label: 'Middle Name' },\n  num_of_children: { component: 'GeneralField', type: 'number', label: 'Number of Children' },\n  num_of_dependants: { component: 'GeneralField', type: 'number', label: 'Number of Dependants' },\n  other_languages: { component: 'MultiSelectField', label: 'Other languages' },\n  preferred_name: { component: 'GeneralField', type: 'text', label: 'Preferred Name' },\n  primary_phone_number: { component: 'GeneralField', type: 'tel', label: 'Telephone' },\n  pr_number: { component: 'GeneralField', type: 'text', label: 'Permanent Residence Card Number (PR card)' },\n  status_in_canada: { component: 'SelectField', label: 'Status in Canada', options: statusInCanadaOptions }\n}\n","import { postJson, putJson, getJson, deleteJson } from \"./index\";\n\nexport function createEligibility(params) {\n  return postJson('/eligibility_criteria/', params);\n}\n\nexport function updateEligibility(id, params) {\n  return putJson('/eligibility_criteria/' + id + '/', params);\n}\n\nexport function fetchEligibility(id) {\n  return getJson('/eligibility_criteria/' + id + '/');\n}\n\nexport function fetchEligibilities() {\n  return getJson('/eligibility_criteria/');\n}\n\nexport async function deleteEligibility(id, params) {\n  const response = await deleteJson('/eligibility_criteria/' + id + '/', params);\n  if (response.status !== 204)\n    throw Error('Server does not return correct code.');\n}\n","import React, { useState } from 'react';\nimport GeneralField from '../../shared/fields/GeneralField'\nimport SelectField from '../../shared/fields/SelectField'\nimport { genderOptions, familyRelationshipOptions } from '../../../store/defaults.js';\nimport { Paper, Button, FormLabel, Alert } from '@mui/material';\nimport { makeStyles } from \"@mui/styles\";\n\nconst useStyles = makeStyles(theme => ({\n  root: {},\n  paper: {\n    position: 'relative',\n    paddingLeft: 28,\n    paddingBottom: 20,\n    marginBottom: 20,\n    width: 380,\n  }\n}));\n\nfunction FamilyMemberFields({index, clientId, member, handleRemoveFamily, errMsg = {}}) {\n  const classes = useStyles();\n\n  const handleChangeMember = name => e => {\n    member.person[name] = e.target.value;\n  };\n\n  // What does this mean?\n  const disabled = clientId && member.person.id === clientId;\n  return (\n    <div className={classes.root}>\n      <FormLabel component=\"legend\">\n        Family Member #{index + 1 + '  '}\n        <Button\n          disabled={disabled}\n          onClick={e => handleRemoveFamily(index)}\n          color=\"secondary\"\n        >\n          Remove\n        </Button>\n      </FormLabel>\n      <Paper variant=\"outlined\" className={classes.paper}>\n        <GeneralField\n          type=\"text\"\n          onChange={handleChangeMember('first_name')}\n          value={member.person.first_name}\n          label=\"First name\"\n          disabled={disabled}\n          error={!!errMsg['first_name']}\n          helperText={errMsg['first_name']}\n        />\n        <GeneralField\n          type=\"text\"\n          value={member.person.last_name}\n          onChange={handleChangeMember('last_name')}\n          label=\"Last name\"\n          disabled={disabled}\n          error={!!errMsg['last_name']}\n          helperText={errMsg['last_name']}\n        />\n        <GeneralField\n          type=\"date\"\n          value={member.person.birth_date}\n          onChange={handleChangeMember('birth_date')}\n          label=\"Birth date\"\n          disabled={disabled}\n          error={!!errMsg['birth_date']}\n          helperText={errMsg['birth_date']}\n        />\n        <SelectField\n          options={genderOptions}\n          value={member.person.gender}\n          onChange={handleChangeMember('gender')}\n          label=\"Gender\"\n          disabled={disabled}\n          error={!!errMsg['gender']}\n          helperText={errMsg['gender']}\n        />\n        <SelectField\n          options={familyRelationshipOptions}\n          value={member.relationship}\n          onChange={e => member.relationship = e.target.value}\n          label={(clientId && member.person.id === clientId) ? 'Self' : 'Relationship'}\n          disabled={disabled}\n          error={!!errMsg['relationship']}\n          helperText={errMsg['relationship']}\n        />\n      </Paper>\n    </div>\n  )\n}\n\nexport default function FamilyFields({family, clientId, errMsg = {}}) {\n  // A way to achieve forceUpdate()\n  const [state, update] = useState(true);\n  const forceUpdate = () => update(!state);\n\n  const handleAddFamily = () => {\n    family.members.push({\n      person: {\n        first_name: '',\n        last_name: '',\n        birth_date: null,\n        gender: ''\n      },\n      relationship: ''\n    });\n    forceUpdate();\n  };\n\n  const handleRemoveFamily = (index) => {\n    family.members.splice(index, 1);\n    forceUpdate();\n  };\n\n  return (\n    <div>\n      {errMsg && typeof errMsg === 'string' &&\n        <Alert severity=\"error\">{errMsg}</Alert>}\n      {family.members.map((member, index) => {\n        return (\n          <FamilyMemberFields\n            key={index}\n            index={index}\n            member={member}\n            clientId={clientId}\n            handleRemoveFamily={handleRemoveFamily}\n            errMsg = {errMsg[index]}\n          />\n        )\n      })}\n      <Button onClick={handleAddFamily} variant=\"outlined\">\n        Add Family Member\n      </Button>\n    </div>\n  );\n}\n","import React, { useCallback, useState } from 'react';\nimport { RadioGroup, Radio, FormControlLabel, FormControl, FormLabel, FormHelperText } from \"@mui/material\"\nimport { makeStyles } from \"@mui/styles\";\nimport { UN_SET } from '../../../constants';\n\nconst useStyles = makeStyles(theme => ({\n  formControl: {\n    position: 'relative',\n    top: 16,\n  },\n  formControlRow: {\n    position: 'relative',\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  labelRow: {\n    width: 200,\n    marginRight: 20,\n  }\n}));\n\nconst tryCastBool = val => val === 'true' ? true : (val === 'false' ? false : val);\n\nexport default function RadioField({row, noStar, label, required, options, onChange, value: parentValue = UN_SET, helperText, ...props}) {\n  const classes = useStyles();\n  const [value, setValue] = useState(parentValue);\n\n  const handleChange = useCallback(e => {\n    const val = tryCastBool(e.target.value);\n    setValue(val);\n    onChange({target: {value: val === UN_SET ? null : val}});\n  }, [onChange]);\n\n  return (\n    <FormControl className={row ? classes.formControlRow : classes.formControl}  error={props.error}>\n      <FormLabel className={row && classes.labelRow} required={required && !noStar} component=\"legend\">{label}</FormLabel>\n      <RadioGroup value={value} onChange={handleChange} row>\n        {/*{!required && <FormControlLabel*/}\n        {/*  key={UN_SET}*/}\n        {/*  value={UN_SET}*/}\n        {/*  control={<Radio color=\"primary\"/>}*/}\n        {/*  label={'N/A'}*/}\n        {/*  labelPlacement=\"end\"*/}\n        {/*/>}*/}\n        {Object.entries(options).map((([label, value]) =>\n            <FormControlLabel\n              key={value}\n              value={value}\n              control={<Radio color=\"primary\"/>}\n              label={label}\n              labelPlacement=\"end\"\n            />\n        ))}\n      </RadioGroup>\n      {helperText && <FormHelperText>{helperText}</FormHelperText>}\n    </FormControl>\n  );\n}\n","import React, { useCallback, useMemo, useState } from 'react';\nimport { FormLabel, FormControl, FormGroup, FormControlLabel, Checkbox, FormHelperText } from \"@mui/material\";\nimport { makeStyles } from \"@mui/styles\";\n\nconst useStyles = makeStyles(theme => ({\n  formControl: {\n    // position: 'relative',\n    marginTop: 16,\n    // marginBottom: 8,\n  },\n}));\n\nexport default function CheckboxField({label, required, options, onChange, helperText, ...props}) {\n  const optionsArray = useMemo(() =>\n    Array.isArray(options) ? options : Object.values(options), [options]);\n\n  const [value, setValue] = useState(() => {\n    const data = {};\n    optionsArray.forEach(option => {\n      data[option] = props.value.includes(option);\n    });\n    return data;\n  });\n\n  const handleChange = useCallback(name => e => {\n    const checked = e.target.checked;\n    const newValue = {\n      ...value,\n      [name]: checked\n    };\n    setValue(newValue);\n    const parentValue = [];\n    Object.entries(newValue).forEach(([name, checked]) => {\n      if (checked) parentValue.push(name);\n    });\n    onChange({target: {value: parentValue}});\n  }, [onChange, value]);\n\n  const classes = useStyles();\n  return (\n    <FormControl component=\"fieldset\" className={classes.formControl} error={props.error}>\n      <FormLabel required={required} component=\"legend\">{label}</FormLabel>\n      <FormGroup row>\n        {optionsArray.map(name =>\n          <FormControlLabel\n            key={name}\n            label={name}\n            control={<Checkbox color=\"primary\" checked={value[name]} onChange={handleChange(name)}/>}\n          />\n        )}\n      </FormGroup>\n      {helperText && <FormHelperText>{helperText}</FormHelperText>}\n    </FormControl>\n  );\n}\n","import React, { useCallback} from \"react\";\nimport { Autocomplete, TextField } from \"@mui/material\";\n\nexport default function Dropdown(props) {\n  // options is [value1, value2, ...]\n  const {options, label, value, onChange, helperText} = props;\n\n  const handleChange = useCallback((e, value) => {\n    onChange({target: {value}});\n  }, [onChange]);\n\n  return (\n    <Autocomplete\n      sx={{mt: '16px'}}\n      multiple\n      options={options}\n      onChange={handleChange}\n      getOptionLabel={option => option}\n      defaultValue={value}\n      renderInput={(params) => (\n        <TextField\n          {...params}\n          label={label}\n          sx={{minWidth: 350}}\n          fullWidth={false}\n          helperText={helperText}\n        />\n      )}\n    />\n  )\n}\n","import React from 'react';\n\nimport GeneralField from './fields/GeneralField';\nimport SelectField from './fields/SelectField';\nimport RadioField from './fields/RadioField';\nimport CheckboxField from './fields/CheckboxField';\nimport MultiSelectField from './fields/MultiSelectField';\n\nexport default function FieldGroup({ component, options, value, ...props }) {\n  if (component === 'GeneralField') {\n    return (\n      <GeneralField\n        {...props}\n        value={value}\n      />\n    );\n  }\n  else if (component === 'SelectField') {\n    return (\n      <SelectField\n        options={options}\n        {...props}\n        value={value}\n      />\n    );\n  }\n  else if (component === 'MultiSelectField') {\n    return (\n      <MultiSelectField\n        options={options}\n        value={value}\n        {...props}\n      />\n    );\n  }\n  else if (component === 'RadioField') {\n    return (\n      <RadioField\n        options={options}\n        value={value}\n        {...props}\n      />\n    );\n  }\n  // return null;\n  else if (component === 'CheckboxField') {\n    return (\n      <CheckboxField\n        options={options}\n        value={value}\n        {...props}\n      />\n    );\n  }\n  return <div>Unknown field {component}</div>;\n}\n","import {\n  recursiveAssign,\n  isFieldEmpty,\n  verifyAddressField,\n  validateAddressPostalCode,\n  validateContactFormat,\n  verifyFamilyFields,\n} from \"./index\";\n\n// Verify the params filled in client form\nexport function client_verify_form(form, steps) {\n  const format_messages = verifyFormFormat(form);\n  const required_field_msg = verifyRequiredField(form, steps);\n  return recursiveAssign(required_field_msg, format_messages);\n}\n\n/**\n * verify if every required field is filled in\n * @returns a result obj {} with error messages added in corresponding key\n */\nfunction verifyRequiredField(form, steps) {\n  let result = {};\n  for (const step_page_fields of steps) {\n    // traverse each step page in steps\n    for (const [field, required] of Object.entries(step_page_fields)) {\n      if (required) {\n        if (field in form && isFieldEmpty(form[field])) {\n          //  key in form\n          result[field] = 'This field is required';\n        } else if (field in form.profile && isFieldEmpty(form.profile[field])) {\n          result[field] = 'This field is required';\n        } else if (field === 'family' && field in form) {\n          if (form[field].length === 0){\n            result['family'] = \"Please add at least one family member!\";\n          } else{\n            // Some fields in family are not filled in\n            result[field] = {}\n            verifyFamilyFields(form[field]['members'], result[field])\n            if (Object.entries(result[field]).length === 0) {\n              delete result[field];\n            }\n          }\n\n        } else if (field === 'address') {\n          result[field] = {};\n          verifyAddressField(form[field], result[field]);\n          if(Object.entries(result[field]).length === 0){\n            delete result[field];\n          }\n        }\n      }\n    }\n  }\n  return result\n}\n\n/**\n * verify format for various field\n * @param form\n * @returns a result obj {} with error messages added in corresponding key\n */\nfunction verifyFormFormat(form) {\n  let result = {}\n  // Verify postal code\n  validateAddressPostalCode(form.address.postal_code, result, 'address')\n\n  // verify profile\n  if(form.profile){\n    validateContactFormat(form.profile, result)\n  }\n  return result;\n}\n","import React, { useEffect, useState, useMemo, useCallback } from 'react';\nimport { useParams, useHistory } from 'react-router';\nimport { ACTION_SUCCESS } from '../../store/defaults.js';\nimport { clientFields } from '../../constants/client_fields.js'\nimport { defaultProfileFields, generateClientField } from '../../constants/default_fields.js'\n\n// redux\nimport { useDispatch } from 'react-redux';\nimport { fetchOntologyCategories } from '../../store/actions/ontologyActions.js';\nimport { createClient, updateClient, fetchClient } from '../../api/mockedApi/clients';\nimport { fetchEligibilities } from '../../api/eligibilityApi';\nimport { fetchClientFields } from '../../api/mockedApi/clientFields';\n\n// components\nimport LocationFieldGroup from '../shared/LocationFieldGroup';\nimport FamilyFields from './client_form/FamilyFields';\nimport FieldGroup from '../shared/FieldGroup';\n\nimport { Container } from '@mui/material';\nimport { makeStyles } from \"@mui/styles\";\nimport { Loading, FormStepper } from \"../shared\";\nimport { client_verify_form } from '../../helpers/client_verify_form.js';\n\nconst useStyles = makeStyles(theme => ({\n  content: {\n    width: '80%',\n    margin: 'auto',\n    paddingBottom: 10,\n  }\n}));\n\nexport default function ClientForm() {\n  const classes = useStyles();\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const {id} = useParams();\n  const mode = id ? 'edit' : 'new';\n  const [state, setState] = useState({\n    loading: true,\n    languageOptions: [],\n    all_ngo_conditions: [],\n    stepNames: [],\n    steps: [],\n    client: null,\n    dispatchErrorMsg: [],\n    fieldErrorMsg: {},\n  });\n\n  // DO NOT store form as state, it degrades the performance as all form got rendered every time user type anything.\n  // Instead, for large form like this page, store the form as a variable and pass it to child components (input)\n  const form = useMemo(() => generateClientField(state.client), [state.client]);\n\n  // const [form, setForm] = useState(generateClientField());\n\n  useEffect(() => {\n    const promises = [];\n    promises.push(dispatch(fetchOntologyCategories('languages'))\n      .then(data => setState(state => ({...state, languageOptions: data}))));\n    promises.push(fetchEligibilities()\n      .then(data => {\n        setState(state => ({...state, all_ngo_conditions: data.map(data => data.title)}))\n      }));\n    promises.push(fetchClientFields()\n      .then(data => {\n        if (data == null || data.steps_order.length === 0\n          || Object.values(data.form_structure).length === 0) {\n          setState(state => ({...state, loading: true, dispatchErrorMsg: ['No fields are available.']}));\n        } else {\n          setState(state => ({\n            ...state,\n            stepNames: data.steps_order,\n            steps: Object.values(data.form_structure)\n          }));\n        }\n      }));\n    id && promises.push(fetchClient(id)\n      .then(data => setState(state => ({...state, client: data}))));\n    Promise.all(promises).then(() => setState(state => ({...state, loading: false})));\n  }, [dispatch, id]);\n\n  const handleFinish = async () => {\n    // TODO: pretty error message\n    const fieldErrorMsg = client_verify_form(form, state.steps);\n    if (Object.keys(fieldErrorMsg).length !== 0) {\n      setState(state => ({...state, fieldErrorMsg}));\n      return;\n    }\n    if (mode === 'edit') {\n      const res = await updateClient(id, form);\n      if (res.success) {\n        history.push(`/clients/${res.clientId}`);\n      } else {\n        setState(state => ({...state, dispatchErrorMsg: [res.error]}));\n      }\n    } else {\n      const res = await createClient(form);\n      if (res.success) {\n        history.push(`/clients/${res.clientId}`);\n      } else {\n        setState(state => ({...state, dispatchErrorMsg: [res.error]}));\n      }\n    }\n  };\n\n  /**\n   * Handle changes in form\n   * @param name {string}\n   * @returns {Function}\n   */\n  const handleChange = useCallback(name => e => {\n    const {value} = e.target;\n    const splits = name.split('.');\n    if (splits.length === 1) {\n      form[name] = value;\n    } else {\n      let parent = form;\n      for (let i = 0; i < splits.length - 1; i++) {\n        parent = parent[splits[i]];\n      }\n      parent[splits[splits.length - 1]] = value || '';\n    }\n  }, [form]);\n\n  const getStepContent = idx => {\n    const step = state.steps[idx];\n    return <div className={classes.content}>\n      {Object.entries(step).map(([field, required]) => {\n        let options;\n        // console.log(field)\n        let errMsg = state.fieldErrorMsg[field];\n        if (field === 'first_language') {\n          options = state.languageOptions;\n        } else if (field === 'other_languages') {\n          options = state.languageOptions.filter(\n            category => category !== form.first_language)\n        } else if (field === 'ngo_conditions') {\n          options = state.all_ngo_conditions;\n        }\n\n        if (field === 'address') {\n          return (\n            <LocationFieldGroup\n              key=\"address\"\n              address={form.address}\n              required={required}\n              errMsg={errMsg}\n            />\n          );\n        } else if (field === 'family') {\n          return (\n            <FamilyFields\n              key=\"family\"\n              family={form.family}\n              clientId={id}\n              required={required}\n              errMsg={errMsg}\n            />\n          );\n        } else {\n          const isProfile = Object.keys(defaultProfileFields).includes(field);\n          return (\n            <FieldGroup\n              key={field}\n              label={clientFields[field].label}\n              type={clientFields[field].type}\n              component={clientFields[field].component}\n              value={isProfile ? form.profile[field] : form[field]}\n              onChange={handleChange(isProfile ? 'profile.' + field : field)}\n              required={required}\n              options={clientFields[field].options || options}\n              error={errMsg != null}\n              helperText={errMsg}\n            />\n          );\n        }\n      })}\n    </div>\n  };\n\n  if (state.loading)\n    return <Loading message={`Loading...`}/>;\n\n  return (\n    <Container>\n      <FormStepper\n        getStepContent={getStepContent}\n        handleFinish={handleFinish}\n        stepNames={state.stepNames}\n        error={state.dispatchErrorMsg}\n      />\n    </Container>\n  );\n}\n","import { deleteJson, getJson, postJson, putJson } from \"./index\";\n\nexport function createUser(params) {\n  return postJson('/users/', params);\n}\n\nexport function createUsers(params) {\n  // TODO: implement backend?\n  return postJson('/users/', {csv: params});\n}\n\nexport function updateUser(id, params) {\n  return putJson('/user/' + id + '/', params);\n}\n\nexport function fetchUser(id) {\n  return getJson('/user/' + id + '/');\n}\n\nexport function fetchUsers() {\n  return getJson('/users/');\n}\n\nexport function deleteUser(id, params, callback) {\n  const response = deleteJson('/user/' + id + '/');\n  if (response.status !== 204)\n    throw Error('Server does not return correct code.');\n}\n","import RadioField from \"../components/shared/fields/RadioField\";\nimport { Validator } from \"../helpers\";\nimport { defaultField } from \"./index\";\n\nexport const userFormFields = {\n  is_superuser: {\n    ...defaultField,\n    label: 'Admin?',\n    component: RadioField,\n    options: {Yes: true, No: false},\n    required: true,\n  },\n  username: {\n    ...defaultField,\n    label: 'Username',\n    required: true,\n  },\n  password: {\n    ...defaultField,\n    label: 'Password',\n    type: 'password',\n    required: true,\n    validator: Validator.password\n  },\n  first_name: {\n    ...defaultField,\n    label: 'First name',\n  },\n  last_name: {\n    ...defaultField,\n    label: 'Last name',\n  },\n  email: {\n    ...defaultField,\n    label: 'Email',\n    type: 'email',\n    validator: Validator.email,\n  },\n  primary_phone_number: {\n    ...defaultField,\n    label: 'Telephone',\n    validator: Validator.phone\n  },\n  alt_phone_number: {\n    ...defaultField,\n    label: 'Alternate phone number',\n    validator: Validator.phone\n  }\n};","import React, { useEffect, useState } from 'react';\nimport { useHistory, useParams } from \"react-router\";\n\nimport { defaultUserFields } from \"../../constants/default_fields\";\nimport { Button, Container, Typography } from \"@mui/material\";\nimport { makeStyles } from \"@mui/styles\";\nimport { userFormFields } from \"../../constants/userFields\";\nimport { fetchUser, updateUser, createUser } from \"../../api/userApi\";\nimport { Loading } from \"../shared\"\nimport { isFieldEmpty } from \"../../helpers\";\nimport { REQUIRED_HELPER_TEXT } from \"../../constants\";\n\nconst useStyles = makeStyles(() => ({\n  root: {\n    width: '80%'\n  },\n  button: {\n    marginTop: 12,\n    marginBottom: 12,\n  }\n}));\n\nexport default function UserForm() {\n  const classes = useStyles();\n  const history = useHistory();\n  const {id} = useParams();\n  const mode = id == null ? 'new' : 'edit';\n  const [state, setState] = useState({\n    form: {\n      ...defaultUserFields\n    },\n    errors: {},\n    loading: true,\n  });\n\n  useEffect(() => {\n    if (mode === 'edit') {\n      fetchUser(id).then(user => {\n        setState(state => ({\n          ...state,\n          form: {\n            ...state.form,\n            ...user\n          },\n          loading: false,\n        }))\n      })\n    } else\n      setState(state => ({...state, loading: false}));\n  }, [mode, id]);\n\n  /**\n   * @returns {boolean} true if valid.\n   */\n  const validate = () => {\n    const errors = {};\n    for (const [field, option] of Object.entries(userFormFields)) {\n      const isEmpty = isFieldEmpty(state.form[field]);\n      if (option.required && isEmpty) {\n        errors[field] = REQUIRED_HELPER_TEXT;\n      }\n      let msg;\n      if (!isEmpty && option.validator && (msg = option.validator(state.form[field]))) {\n        errors[field] = msg;\n      }\n    }\n    if (Object.keys(errors).length !== 0) {\n      setState(state => ({...state, errors}));\n      return false\n    }\n    return true;\n  };\n\n  const handleSubmit = async () => {\n    if (validate()) {\n      try {\n        if (mode === 'new') {\n          await createUser(state.form);\n          history.push('/users/');\n        } else {\n          await updateUser(id, state.form);\n          history.push('/users/' + id);\n        }\n      } catch (e) {\n        if (e.json) {\n          setState(state => ({...state, errors: e.json}));\n        }\n      }\n    }\n  };\n\n  if (state.loading)\n    return <Loading message={`Loading user form...`}/>;\n\n  return (\n    <Container className={classes.root}>\n      <Typography variant=\"h5\">\n        {mode === 'new' ? 'Create new user' : 'Edit user'}\n      </Typography>\n      {Object.entries(userFormFields).map(([field, option]) => {\n        return (\n          <option.component\n            key={field}\n            label={option.label}\n            type={option.type}\n            options={option.options}\n            value={state.form[field]}\n            required={option.required}\n            onChange={e => state.form[field] = e.target.value}\n            error={!!state.errors[field]}\n            helperText={state.errors[field]}\n          />\n        )\n      })}\n      <Button variant=\"contained\" color=\"primary\" className={classes.button} onClick={handleSubmit}>\n        Submit\n      </Button>\n    </Container>\n  )\n}","import React, { Component } from 'react';\nimport { withRouter } from 'react-router';\nimport GeneralField from '../shared/fields/GeneralField'\nimport SelectField from '../shared/fields/SelectField'\nimport MultiSelectField from '../shared/fields/MultiSelectField';\nimport { newMultiSelectFieldValue } from '../../helpers/select_field_helpers';\n\n// redux\nimport { connect } from 'react-redux'\nimport { fetchOntologyCategories } from '../../store/actions/ontologyActions.js';\nimport { createClientNeed, updateClientNeed } from '../../store/actions/needActions.js'\n\nimport { Button, Form, FormGroup, FormLabel, Col, Row } from 'react-bootstrap';\n\nclass NeedForm extends Component {\n  constructor(props) {\n    super(props);\n    let need = {};\n\n    if (this.props.match.params.need_id) {\n      need = this.props.needsById[this.props.match.params.need_id]\n    }\n\n    this.state = {\n      needId: need.id,\n      mode: (need.id) ? 'edit' : 'new',\n      form: {\n        type: need.type || undefined,\n        category: need.category || '',\n        description: need.description || '',\n        needed_by: need.needed_by || '',\n        condition: need.condition || '',\n        status: need.status || '',\n        is_urgent: need.is_urgent || false,\n        languages: need.languages || []\n      }\n    }\n\n    this.formValChange = this.formValChange.bind(this);\n    this.submit = this.submit.bind(this);\n    this.handleMultiSelectChange = this.handleMultiSelectChange.bind(this);\n  }\n\n  componentWillMount() {\n    this.props.dispatch(fetchOntologyCategories('needs'));\n  }\n\n  formValChange(e, id=e.target.id, value=e.target.value) {\n    let nextForm = {...this.state.form, [id]: value};\n    this.setState({ form: nextForm });\n  }\n\n  handleMultiSelectChange(id, selectedOption, actionMeta) {\n    const preValue = this.state.form[id]\n    const newValue = newMultiSelectFieldValue(preValue, selectedOption, actionMeta)\n\n    this.setState({\n      form: {\n        ...this.state.form,\n        [id]: newValue\n      }\n    });\n  }\n\n  submit() {\n    if (this.state.mode === 'edit') {\n      this.props.dispatch(updateClientNeed(this.props.clientId, this.state.needId, this.state.form));\n    } else {\n      this.props.dispatch(createClientNeed(this.props.clientId, this.state.form));\n    }\n    this.props.history.push(`/clients/${this.props.clientId}`)\n  }\n\n  render() {\n    const p = this.props;\n    const formTitle = (this.state.mode === 'edit') ? 'Edit Need' : 'Create Need'\n\n    if (this.state.form.type === undefined) {\n      return (\n        <div className=\"outer\">\n          <div className=\"middle\">\n            <div className=\"need-type-buttons\">\n              <Button onClick={e => this.formValChange(e, 'type', 'Good')}>\n                Goods\n              </Button>\n              <Button onClick={e => this.formValChange(e, 'type', 'Service')}>\n                Service\n              </Button>\n            </div>\n          </div>\n        </div>\n      )\n    } else {\n      return (\n        <Row className=\"content\">\n          <Col sm={12}>\n            <h3>{formTitle}</h3>\n            <hr />\n          </Col>\n          <Col sm={12}>\n            <Form horizontal>\n              <FormGroup controlId=\"type\">\n                <Col componentClass={FormLabel} sm={3}>\n                  Type\n                </Col>\n                <Col sm={9}>\n                  <div className=\"need-type\">\n                    {this.state.form.type}\n                  </div>\n                </Col>\n              </FormGroup>\n              <FormGroup controlId=\"is_urgent\">\n                <Col componentClass={FormLabel} sm={3}>\n                  Urgent?\n                </Col>\n                <Col sm={9}>\n                  <Form.Check\n                    name=\"radioGroup\"\n                    value=\"1\"\n                    onChange={e => this.formValChange(e, 'is_urgent')}\n                    defaultChecked={this.state.form.is_urgent === true}\n                    type=\"radio\"\n                    inline\n                  >\n                    Yes\n                  </Form.Check>{' '}\n                  <Form.Check\n                    name=\"radioGroup\"\n                    value=\"0\"\n                    onChange={e => this.formValChange(e, 'is_urgent')}\n                    defaultChecked={this.state.form.is_urgent === false}\n                    type=\"radio\"\n                    inline\n                  >\n                    No{this.state.form.is_urgent === false}\n                  </Form.Check>{' '}\n                </Col>\n              </FormGroup>\n              <SelectField\n                label=\"Category\"\n                options={p.needsCategories}\n                value={this.state.form.category}\n                onChange={e => this.formValChange(e, 'category')}\n                required = {true}\n              />\n              <GeneralField\n                label=\"Needed By\"\n                type=\"date\"\n                value={this.state.form.needed_by}\n                onChange={e => this.formValChange(e, 'needed_by')}\n              />\n              <MultiSelectField\n                label=\"Languages\"\n                options={p.languagesCategories}\n                value={this.state.form.languages}\n                onChange={e => this.handleMultiSelectChange(e, null, null)}\n              />\n              <GeneralField\n                label=\"Description\"\n                value={this.state.form.description}\n                onChange={e => this.formValChange(e, 'description')}\n                required={true}\n                multiline = {true}\n                fullWidth = {true}\n              />\n              {this.state.form.type === 'Good' &&\n                <GeneralField\n                  label=\"Condition\"\n                  type=\"textarea\"\n                  value={this.state.form.condition}\n                  onChange={e => this.formValChange(e, 'condition')}\n                />\n              }\n              <FormGroup>\n                <Col smOffset={3} sm={9}>\n                  <Button onClick={this.submit}>\n                    Submit\n                  </Button>\n                </Col>\n              </FormGroup>\n            </Form>\n          </Col>\n        </Row>\n      );\n    }\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    needsById: state.needs.byId,\n    clientId: state.needs.clientId,\n    needsCategories: state.ontology.needs.categories,\n    languagesCategories: state.ontology.languages.categories,\n    categoriesLoaded: state.ontology.needs.loaded\n  }\n}\n\nexport default connect(\n  mapStateToProps\n)(withRouter(NeedForm));\n","import _ from 'lodash';\n\nexport function newMultiSelectFieldValue(preValue,\n                                         selectedOption,\n                                         actionMeta) {\n  let newValue;\n  switch (actionMeta.action) {\n    case 'pop-value':\n    case 'remove-value':\n       _.remove(preValue, (value) => {\n        return value === actionMeta.removedValue.value\n      });\n      newValue = preValue\n      break;\n    case 'clear':\n      newValue = []\n      break;\n    default:\n      preValue.push(actionMeta.option.value)\n      newValue = preValue\n  }\n  return newValue;\n}\n","import React, { Component } from 'react';\nimport { Modal, Button, Form } from 'react-bootstrap';\nimport GeneralField from '../shared/fields/GeneralField';\nimport SelectField from '../shared/fields/SelectField';\n\n// redux\nimport { connect } from 'react-redux'\nimport { createAppointment } from '../../store/actions/appointmentActions.js'\n\nclass AppointmentModal extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      form: {\n        'type': '',\n        'category': '',\n        'status': '',\n        'description': '',\n        'date': '',\n        'start_time': '',\n        'end_time': '',\n        'reminder_type': '',\n        'reminder_frequency': '',\n      }\n    };\n\n    this.formValChange = this.formValChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleSubmit() {\n    let form = Object.assign({}, this.state.form);\n    form['service_id'] = this.props.serviceId;\n    form['client_id'] = this.props.clientId;\n\n    this.props.dispatch(\n      createAppointment(form, (status, err, appointment) => {\n        this.props.onHide()\n      })\n    );\n  }\n\n  formValChange(e, id=e.target.id) {\n    let nextForm = { ...this.state.form, [id]: e.target.value };\n    this.setState({ form: nextForm });\n  }\n\n  render() {\n    return (\n      <Modal\n        show={this.props.show}\n        onHide={this.props.onHide}\n        bsSize=\"large\"\n        aria-labelledby=\"contained-modal-title-sm\"\n      >\n        <Modal.Header closeButton>\n          <Modal.Title id=\"contained-modal-title-sm\">\n            Appointment\n            {this.state.form.service_id}\n            {this.state.form.provider_id}\n          </Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          <Form horizontal>\n            <SelectField\n              id=\"type\"\n              label=\"Type\"\n              options={['External', 'Internal']}\n              componentClass=\"select\"\n              value={this.state.form.type}\n              onChange={this.formValChange}\n              required\n            />\n            <GeneralField\n              id=\"category\"\n              label=\"Category\"\n              type=\"text\"\n              value={this.state.form.category}\n              onChange={this.formValChange}\n            />\n            <GeneralField\n              id=\"status\"\n              label=\"Status\"\n              type=\"text\"\n              value={this.state.form.status}\n              onChange={this.formValChange}\n            />\n            <GeneralField\n              id=\"description\"\n              label=\"Description\"\n              type=\"text\"\n              value={this.state.form.description}\n              onChange={this.formValChange}\n            />\n            <GeneralField\n              id=\"date\"\n              label=\"Date\"\n              type=\"date\"\n              value={this.state.form.date}\n              onChange={this.formValChange}\n              required\n            />\n            <GeneralField\n              id=\"start_time\"\n              label=\"Start Time\"\n              type=\"time\"\n              value={this.state.form.start_time}\n              onChange={this.formValChange}\n              required\n            />\n            <GeneralField\n              id=\"end_time\"\n              label=\"End Time\"\n              type=\"time\"\n              value={this.state.form.end_time}\n              onChange={this.formValChange}\n              required\n            />\n            <SelectField\n              id=\"reminder_type\"\n              label=\"Reminder Type\"\n              options={['Email', 'Text', 'Phone']}\n              componentClass=\"select\"\n              value={this.state.form.reminder_type}\n              onChange={this.formValChange}\n            />\n            <GeneralField\n              id=\"reminder_frequency\"\n              label=\"Reminder Frequecy\"\n              type=\"text\"\n              value={this.state.form.reminder_frequency}\n              onChange={this.formValChange}\n            />\n          </Form>\n        </Modal.Body>\n        <Modal.Footer>\n          <Button onClick={this.handleSubmit}>\n            Submit\n          </Button>\n        </Modal.Footer>\n      </Modal>\n    );\n  }\n}\n\nexport default connect()(AppointmentModal);\n","import fetch from 'isomorphic-fetch';\nimport { serverHost, ACTION_SUCCESS, ACTION_ERROR } from '../defaults.js';\n\n\nexport function createAppointment(params, callback) {\n  return dispatch => {\n    const url = serverHost + '/appointments/';\n    return fetch(url, {\n      method: 'POST',\n      body: JSON.stringify(params),\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `JWT ${localStorage.getItem('jwt_token')}`\n      }\n    })\n    .then(async(response) => {\n      if (response.status === 201) {\n        return response.json()\n      }\n      else {\n        const error = await response.json()\n        throw new Error(JSON.stringify(error))\n      }\n    })\n    .then(appointment => {\n      callback(ACTION_SUCCESS, null, appointment);\n    }).catch(err => {\n      callback(ACTION_ERROR, err);\n    })\n  }\n}\n","import _ from 'lodash';\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux'\nimport { withRouter } from 'react-router';\nimport { Link } from 'react-router-dom';\n\nimport AppointmentModal from '../appointments/AppointmentModal';\nimport { matchStatusOptions } from '../../store/defaults.js';\nimport { updateMatchStatus, createMatchNote } from '../../store/actions/needActions.js'\n\nimport { Col, Accordion, Card, Form, FormGroup, FormLabel,\n  FormControl, Button } from 'react-bootstrap';\n\nclass MatchedServices extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      activeKey: null,\n      matchStatusForm: {},\n      noteForm: {},\n      modalShow: false,\n      appointmentServiceId: null\n    }\n\n    this.handleSelect = this.handleSelect.bind(this);\n\n    this.matchStatusChange = this.matchStatusChange.bind(this);\n    this.textAreaChange = this.textAreaChange.bind(this);\n    this.submitMatchStatus = this.submitMatchStatus.bind(this);\n    this.submitNote = this.submitNote.bind(this);\n\n    this.handleModalHide = this.handleModalHide.bind(this);\n    this.handleModalShow = this.handleModalShow.bind(this);\n  }\n\n  submitMatchStatus(matchId) {\n    this.props.dispatch(updateMatchStatus(matchId, this.state.matchStatusForm[matchId]));\n  }\n\n  submitNote(matchId) {\n    let form = {...this.state.noteForm[matchId], object_id: matchId, model: 'match' }\n    this.props.dispatch(createMatchNote(form));\n  }\n\n  matchStatusChange(e, matchId) {\n    const nextForm = { ...this.state.matchStatusForm, [matchId]: { status: e.target.value }}\n    this.setState({\n      matchStatusForm: nextForm\n    });\n  }\n\n  textAreaChange(e, matchId) {\n    const nextForm = { ...this.state.noteForm, [matchId]: { text: e.target.value }}\n    this.setState({\n      noteForm: nextForm\n    });\n  }\n\n  handleModalHide() {\n    this.setState({ modalshow: false });\n  }\n\n  handleModalShow(serviceId) {\n    this.setState({\n      modalshow: true,\n      appointmentServiceId: serviceId\n    })\n  }\n\n  handleSelect(activeKey) {\n    this.setState({\n      activeKey: activeKey,\n    });\n  }\n\n  render() {\n    const matches = this.props.matches;\n    return (\n      <div>\n        <Col sm={12}>\n          <h3>Matched Services</h3>\n        </Col>\n        <Col sm={12}>\n          <Accordion\n            id=\"accordion\"\n            activeKey={this.state.activeKey}\n          >\n            {\n              _.map(matches, (match, index) => {\n                return (\n                  <Card key={match.id} eventKey={match.id} bsStyle=\"info\">\n                    <Card.Header onClick={() => this.handleSelect(index)}>\n                      <Col sm={11}>\n                        <Card.Title toggle>\n                          {index+1}. {match.service.name}\n                          {' '}\n                        </Card.Title>\n                      </Col>\n                      <Form.Label bsStyle=\"primary\">\n                        {match.status}\n                      </Form.Label>\n                    </Card.Header>\n                    <Accordion.Collapse eventKey={index}>\n                      <Card.Body collapsible>\n                        <Col sm={8}>\n                          <FormGroup controlId=\"match_status\">\n                            <Col componentClass={FormLabel} sm={3}>\n                              Status\n                            </Col>\n                            <Col sm={6}>\n                              <FormControl\n                                componentClass=\"select\"\n                                placeholder=\"select\"\n                                defaultValue={match.status}\n                                onChange={e => this.matchStatusChange(e, match.id)}\n                              >\n                                <option value=\"select\">--- Not Set ---</option>\n                                {matchStatusOptions.map(status =>\n                                  <option key={status} value={status}>{status}</option>\n                                )}\n                              </FormControl>\n                            </Col>\n                            <Col sm={3}>\n                              <Button\n                                disabled={this.state.activeKey !== match.id || !this.state.matchStatusForm[match.id]}\n                                onClick={e => this.submitMatchStatus(match.id)}\n                              >\n                                Update Status\n                              </Button>\n                            </Col>\n                          </FormGroup>\n                          <Form.Label className='note-form'>\n                            <FormGroup controlId=\"notes\">\n                              <Col componentClass={FormLabel} sm={3}>\n                                Notes\n                              </Col>\n                              <Col sm={9}>\n                                {\n                                  _.map(match.notes, (note, index) => {\n                                    return (\n                                      <div key={index}>\n                                        {note}\n                                      </div>\n                                    )\n                                  })\n                                }\n                                <FormControl\n                                  componentClass=\"textarea\"\n                                  onChange={e => this.textAreaChange(e, match.id)}\n                                />\n                              </Col>\n                            </FormGroup>\n                            <FormGroup>\n                              <Col smOffset={3} sm={9}>\n                                <Button\n                                  disabled={this.state.activeKey !== match.id || !this.state.noteForm[match.id]}\n                                  onClick={e => this.submitNote(match.id)}\n                                >\n                                  Add Note\n                                </Button>\n                              </Col>\n                            </FormGroup>\n                          </Form.Label>\n                          <Button bsStyle=\"default\"  onClick={e => this.handleModalShow(match.service.id)}>\n                            Add appointment\n                          </Button>\n                        </Col>\n                        <Col sm={4}>\n                          <Link to={`/service/${match.service.id}`} target=\"_blank\">\n                            <h5>View Service Detail</h5>\n                          </Link>\n                          <Link to={`/provider/${match.service.provider.id}`} target=\"_blank\">\n                            <h5>View Provider Detail</h5>\n                          </Link>\n                        </Col>\n                      </Card.Body>\n                    </Accordion.Collapse>\n                  </Card>\n                )\n              })\n            }\n          </Accordion>\n        </Col>\n        <AppointmentModal\n          clientId={this.props.clientId}\n          serviceId={this.state.appointmentServiceId}\n          show={this.state.modalshow}\n          onHide={this.handleModalHide}\n        />\n      </div>\n    )\n  }\n}\n\nexport default connect()(withRouter(MatchedServices));\n","import React, { Component } from 'react';\nimport { withRouter } from 'react-router';\nimport { Link } from 'react-router-dom';\nimport { formatLocation } from '../../helpers/location_helpers'\n\nimport { connect } from 'react-redux'\nimport { ListGroupItem, Row, Col, Button } from 'react-bootstrap';\nimport { matchClientNeed } from '../../store/actions/needActions.js'\nimport { Typography } from \"@mui/material\";\n\nclass ServiceListItem extends Component {\n  constructor(props) {\n    super(props);\n    this.submit = this.submit.bind(this);\n  }\n\n  submit(needId, serviceId) {\n    const form = {\n      service_id: serviceId\n    }\n    this.props.dispatch(\n      matchClientNeed(needId, form)\n    );\n  }\n\n  render() {\n    const service = this.props.service,\n          needId = this.props.needId,\n          label = this.props.label;\n\n    return (\n      <ListGroupItem className=\"recommended-service\">\n        <Row>\n          <Col sm={8}>\n            <h5>{label}.</h5>\n            <Link to={`/service/${service.id}`}>\n              <h5>{service.name}</h5>\n            </Link>\n            <Typography>{service.category}</Typography>\n            {' '}\n            <Typography>{Math.round(service.distance * 100) / 100} km</Typography>\n            <p>{service.desc}</p>\n            <p>{formatLocation(service.location)}</p>\n          </Col>\n          <Col sm={4}>\n            <h5>Provider</h5>\n            <Typography color=\"primary\">{service.provider.type}</Typography>\n            <Link to={`/provider/${service.provider.id}`}>\n              { (service.provider.type === \"Individual\") ? (\n                  <p>{`${service.provider.profile.first_name} ${service.provider.profile.last_name}`}</p>\n                ) : (\n                  <p>{service.provider.company}</p>\n                )\n              }\n            </Link>\n          </Col>\n          <Col sm={12}>\n            <Button bsStyle=\"default\" onClick={e => this.submit(needId, service.id)}>\n              Select\n            </Button>\n          </Col>\n        </Row>\n      </ListGroupItem>\n    )\n  }\n}\n\nexport default connect()(withRouter(ServiceListItem));\n","import React from 'react';\nimport _ from 'lodash';\n\nimport { withGoogleMap, GoogleMap, Marker } from 'react-google-maps';\nimport ServiceListItem from './ServiceListItem';\n\nimport { Row, Col } from 'react-bootstrap';\n\n\nconst GMap = withGoogleMap(props => (\n  <GoogleMap\n    zoom={10}\n    center={props.latlng}>\n    {_.map(props.services, (service, index) => {\n      return (\n        <Marker\n          key={service.id}\n          label={(index+1).toString()}\n          position={{ lat: parseFloat(service.location.lat), lng: parseFloat(service.location.lng)}}\n        />\n      )\n    })}\n  </GoogleMap>\n));\n\nexport default function ServiceList({ need, services, latlng }) {\n  return (\n    <Row>\n      <Col sm={8}>\n        {_.map(services, (service, index) => {\n          return (\n            <ServiceListItem\n              key={service.id}\n              needId={need.id}\n              label={index+1}\n              service={service}\n            />\n          )\n        })}\n      </Col>\n      <Col sm={4}>\n        <div style={{ width: '100%', height: '400px' }}>\n          <GMap\n            containerElement={\n              <div style={{ height: `100%` }} />\n            }\n            mapElement={\n              <div style={{ height: `100%` }} />\n            }\n            latlng={latlng}\n            services={services}\n          />\n        </div>\n      </Col>\n    </Row>\n  )\n}\n","import React, { Component } from 'react';\n\nimport { Col, Form, FormGroup, InputGroup, Button, FormControl } from 'react-bootstrap';\n\n\nexport default class ServiceSearchBar  extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      queryTerm: '',\n      location: props.location.street_address\n    }\n\n    this.handleFormValChange = this.handleFormValChange.bind(this);\n  }\n\n  handleFormValChange(e, id=e.target.id) {\n    this.setState({ [id] : e.target.value });\n  }\n\n  render() {\n    return (\n      <Form horizontal>\n        <FormGroup>\n          <Col sm={12}>\n            <InputGroup>\n              {this.props.enableQueryTerm &&\n                <InputGroup.Addon>Find</InputGroup.Addon>\n              }\n              {this.props.enableQueryTerm &&\n                <FormControl\n                  type=\"text\"\n                  value={this.state.queryTerm}\n                  onChange={e => this.handleFormValChange(e, 'queryTerm')}\n                  placeholder=\"Dental service, language class...\"\n                />\n              }\n              <InputGroup.Addon>Near</InputGroup.Addon>\n              <FormControl\n                type=\"text\"\n                value={this.state.location}\n                onChange={e => this.handleFormValChange(e, 'location')}\n              />\n              <InputGroup.Button>\n                {this.props.enableQueryTerm ? (\n                  <Button\n                    onClick={e => this.props.search(this.state.queryTerm, this.state.location)}\n                  >\n                    Search\n                  </Button>\n                ) : (\n                  <Button\n                    onClick={e => this.props.search(this.state.location, this.props.needId)}\n                  >\n                    Search\n                  </Button>\n                )}\n              </InputGroup.Button>\n            </InputGroup>\n          </Col>\n        </FormGroup>\n      </Form>\n    );\n  }\n};\n","import React, { Component } from 'react';\nimport TR from '../shared/TR';\n\nimport { torontoCoordinates, serverHost } from '../../store/defaults.js';\n\nimport MatchedServices from './MatchedServices';\nimport ServiceList from './ServiceList';\nimport ServiceSearchBar from './ServiceSearchBar';\n\n// redux\nimport { connect } from 'react-redux'\nimport { fetchNeed } from '../../store/actions/needActions.js'\n\nimport { Container, Row, Col, Table, Tabs, Tab } from 'react-bootstrap';\n// import { Grid, Table, Tabs, Tab } from \"@mui/material\";\n// import { Col, Label, Row} from 'react-bootstrap';\n// import SearchTabs from './NeedSearchTabs'\n\n// import PropTypes from 'prop-types';\n// import { makeStyles } from '@material-ui/core/styles';\n// import AppBar from '@material-ui/core/AppBar';\n// import { Typography } from '@material-ui/core';\n// import Box from '@material-ui/core/Box';\n\n\nclass Need extends Component {\n  constructor(props) {\n    super(props);\n\n    const need = props.needsById[props.match.params.need_id];\n    this.state = {\n      searchResult: [],\n      location: props.client.address ? { lat: parseFloat(props.client.address.lat), lng: parseFloat(props.client.address.lng) }: torontoCoordinates,\n      recommendedServices: (need && need.recommended_services) || []\n    }\n\n    this.handleSearchService = this.handleSearchService.bind(this);\n    this.handleSearchRecommendedServices = this.handleSearchRecommendedServices.bind(this);\n  }\n\n  componentWillMount() {\n    const id = this.props.match.params.need_id\n    this.props.dispatch(fetchNeed(id, need => {\n      this.setState({ recommendedServices: need.recommended_services })\n    }));\n  }\n\n  handleSearchService(queryTerm, location) {\n    const url = serverHost + '/services/search?query_term=' + queryTerm + '&location=' + location;\n    fetch(url, {\n        method: 'get',\n        headers: new Headers({\n          'Authorization': `JWT ${localStorage.getItem('jwt_token')}`\n        }),\n      })\n      .then(response => response.json())\n      .then(json => {\n        this.setState({ searchResult: json.data, location: json.location })\n      }\n    );\n  }\n\n  handleSearchRecommendedServices(location, needId) {\n    const url = serverHost + '/needs/' + needId + '/recommended_services?location=' + location;\n    fetch(url, {\n        method: 'get',\n        headers: new Headers({\n          'Authorization': `JWT ${localStorage.getItem('jwt_token')}`\n        }),\n      })\n      .then(response => response.json())\n      .then(json => {\n        this.setState({ recommendedServices: json.data, location: json.location })\n      }\n    );\n  }\n\n  render() {\n    const p = this.props,\n          id = p.match.params.need_id,\n          need = p.needsById[id],\n          client = p.client\n\n    function DeletedLabel({ is_deleted }) {\n      if (is_deleted) {\n        return (\n          <h4>\n            <div style={{color: 'rgb(213,87,79)'}}>Deleted</div>\n          </h4>\n        );\n      } else {\n        return null;\n      }\n    }\n\n    function UrgentLabel({ is_urgent }) {\n      if (is_urgent) {\n        return (\n          <h4>\n            <div style={{color: 'rgb(213,87,79)'}}>Urgent</div>\n          </h4>\n        );\n      } else {\n        return null;\n      }\n    }\n\n    // function TabPanel(props) {\n    //   const { children, value, index, ...other } = props;\n    \n    //   return (\n    //     <div\n    //       role=\"tabpanel\"\n    //       hidden={value !== index}\n    //       id={`simple-tabpanel-${index}`}\n    //       aria-labelledby={`simple-tab-${index}`}\n    //       {...other}\n    //     >\n    //       {value === index && (\n    //         <Box p={3}>\n    //           <Typography>{children}</Typography>\n    //         </Box>\n    //       )}\n    //     </div>\n    //   );\n    // }\n    \n    // TabPanel.propTypes = {\n    //   children: PropTypes.node,\n    //   index: PropTypes.any.isRequired,\n    //   value: PropTypes.any.isRequired,\n    // };\n    \n    // function a11yProps(index) {\n    //   return {\n    //     id: `simple-tab-${index}`,\n    //     'aria-controls': `simple-tabpanel-${index}`,\n    //   };\n    // }\n    \n    // const useStyles = makeStyles((theme) => ({\n    //   root: {\n    //     flexGrow: 1,\n    //     backgroundColor: theme.palette.background.paper,\n    //   },\n    // }));\n    \n    // function SearchTabs() {\n    //   const classes = useStyles();\n    //   const [value, setValue] = React.useState(0);\n    \n    //   const handleChange = (event, newValue) => {\n    //     setValue(newValue);\n    //   };\n    \n    //   return (\n    //     <div className={classes.root}>\n    //       <AppBar position=\"static\">\n    //         <Tabs value={value} onChange={handleChange} aria-label=\"simple tabs example\">\n    //           <Tab label=\"Recommended Services\" {...a11yProps(0)} />\n    //           <Tab label=\"Search for Services\" {...a11yProps(1)} />\n    //         </Tabs>\n    //       </AppBar>\n    //       <TabPanel value={value} index={0}>\n    //         recommended_services\n    //       </TabPanel>\n    //       <TabPanel value={value} index={1}>\n    //         Search for Services content\n    //       </TabPanel>\n    //     </div>\n    //   );\n    // }\n\n    // return (\n      \n    //   <Grid className=\"content\">\n    //     { need && need.loaded &&\n    //     <React.Fragment>\n    //       <Grid container>\n    //         <DeletedLabel is_deleted={need.is_deleted} />\n    //         <UrgentLabel is_urgent={need.is_urgent} />\n    //         <Table striped bordered condensed hover>\n    //           <tbody>\n    //             <TR\n    //               title=\"Type\"\n    //               value={need.type + need.matches.length}\n    //             />\n    //             <TR\n    //               title=\"Category\"\n    //               value={need.category}\n    //             />\n    //             <TR\n    //               title=\"Needed By\"\n    //               value={need.needed_by}\n    //             />\n    //             <TR\n    //               title=\"Description\"\n    //               value={need.description}\n    //             />\n    //             <TR\n    //               title=\"Condition\"\n    //               value={need.condition}\n    //             />\n    //             <TR\n    //               title=\"Status\"\n    //               value={need.status}\n    //             />\n    //             <TR\n    //               title=\"Languages\"\n    //               value={(need.languages || []).join(', ')}\n    //             />\n    //           </tbody>\n    //         </Table>\n    //       </Grid>\n    //       <div>\n    //       {(need.matches.length > 0) &&\n    //         <MatchedServices\n    //           clientId={client.id}\n    //           matches={need.matches}\n    //         />\n    //       }\n    //       </div>\n    //       <Grid container>\n    //         <SearchTabs />\n    //       </Grid>\n    //     </React.Fragment>\n    //     }\n    //   </Grid>\n    // )\n\n    return (\n      <Container className=\"content\">\n        { need && need.loaded &&\n          <Row>\n            <Col sm={12}>\n              <h3>Need</h3>\n            </Col>\n            <Col sm={12}>\n              <DeletedLabel is_deleted={need.is_deleted} />\n              <UrgentLabel is_urgent={need.is_urgent} />\n              <Table striped bordered condensed hover>\n                <tbody>\n                  <TR\n                    title=\"Type\"\n                    value={need.type}\n                  />\n                  <TR\n                    title=\"Category\"\n                    value={need.category}\n                  />\n                  <TR\n                    title=\"Needed By\"\n                    value={need.needed_by}\n                  />\n                  <TR\n                    title=\"Description\"\n                    value={need.description}\n                  />\n                  <TR\n                    title=\"Condition\"\n                    value={need.condition}\n                  />\n                  <TR\n                    title=\"Status\"\n                    value={need.status}\n                  />\n                  <TR\n                    title=\"Languages\"\n                    value={(need.languages || []).join(', ')}\n                  />\n                </tbody>\n              </Table>\n            </Col>\n            {(need.matches.length > 0) &&\n              <MatchedServices\n                clientId={client.id}\n                matches={need.matches}\n              />\n            }\n            <Col sm={12}>\n              <Tabs defaultActiveKey={1} id=\"serviceList\">\n                <Tab eventKey={1} title=\"RecommendedServices\">\n                  <ServiceSearchBar\n                    search={this.handleSearchRecommendedServices}\n                    location={client.address}\n                    needId={need.id}\n                  />\n                  {need.recommended_services && need.recommended_services.length > 0 &&\n                    <ServiceList\n                      need={need}\n                      services={this.state.recommendedServices}\n                      latlng={this.state.location}\n                    />\n                  }\n                </Tab>\n                <Tab eventKey={2} title=\"Search for Services\">\n                  <ServiceSearchBar\n                    search={this.handleSearchService}\n                    location={client.address}\n                    enableQueryTerm\n                  />\n                  {this.state.searchResult && this.state.searchResult.length > 0 &&\n                    <ServiceList\n                      need={need}\n                      services={this.state.searchResult}\n                      latlng={this.state.location}\n                    />\n                  }\n                </Tab>\n              </Tabs>\n            </Col>\n          </Row>\n        }\n      </Container>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    needsById: state.needs.byId,\n    client: state.clients.byId[state.needs.clientId]\n  }\n}\n\nexport default connect(\n  mapStateToProps\n)(Need);\n","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\n\nconst PrivateRoute = ({ component: Component, isLoggedin, ...rest }) => (\n  <Route\n    {...rest}\n    render={props =>\n      isLoggedin === true ? (\n        <Component {...props} />\n      ) : (\n        <Redirect to=\"/login-pane\" />\n      )\n    }\n  />\n);\n\nconst mapStateToProps = (state) => {\n  return {\n    isLoggedin: state.auth.isLoggedin\n  }\n}\n\nexport default connect(mapStateToProps)(PrivateRoute);\n","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\n\nconst AdminRoute = ({ component: Component, isLoggedin, isAdmin, ...rest }) => (\n  <Route\n    {...rest}\n    render={props =>\n      (isLoggedin === true && isAdmin === true) ? (\n        <Component {...props} />\n      ) : (\n        <Redirect to=\"/login-pane\" />\n      )\n    }\n  />\n);\n\nconst mapStateToProps = (state) => {\n  return {\n    isAdmin: state.auth.currentUser && state.auth.currentUser.is_admin,\n    isLoggedin: state.auth.isLoggedin\n  }\n}\n\nexport default connect(mapStateToProps) (AdminRoute);\n","import { BrowserStore, BrowserCounterStore } from './browserStore';\nimport { sleep } from \"../index\";\n\nconst providersStore = new BrowserStore('providers', []);\nconst providerCnt = new BrowserCounterStore('provider');\n\nexport async function fetchProviders() {\n  await sleep(200);\n  // ugly deep copy\n  return JSON.parse(JSON.stringify(providersStore.value));\n}\n\nexport async function fetchProvider(id) {\n  await sleep(200);\n  // ugly deep copy\n  return JSON.parse(JSON.stringify(providersStore.value.find(provider => provider.id === Number(id))));\n}\n\n\nexport async function createProvider(newProviderData) {\n  await sleep(200);\n  const newProvider = {\n    id: providerCnt.nextCnt,\n    reviews: [],\n    ...newProviderData\n  };\n  providersStore.value = [...providersStore.value, newProvider];\n  return {success: true, providerId: newProvider.id};\n  // return {success: false, error: 'error message here'}\n}\n\nexport async function updateProvider(id, updatedProvider) {\n  await sleep(200);\n  Object.assign(providersStore.value.find(provider => provider.id === Number(id)), updatedProvider);\n  providersStore.save();\n  return {success: true, providerId: id};\n  // return {success: false, error: 'error message here'}\n}\n\n\nexport async function deleteProvider(updatedProvider) {\n  await sleep(200);\n  const idx = providersStore.value.findIndex(provider => provider.id === updatedProvider.id);\n  providersStore.value.splice(idx, 1)\n  providersStore.save();\n  return {success: true}\n}\n","import React from 'react';\n// TODO: createProviderWithCSV  (CSV Upload)\nimport { fetchProviders, deleteProvider } from '../api/mockedApi/providers';\n\nimport { formatLocation } from '../helpers/location_helpers'\nimport { formatPhoneNumber } from '../helpers/phone_number_helpers'\n\nimport { GenericPage, Link } from \"./shared\";\n\nconst TYPE = 'providers';\n\nconst formatProviderName = provider => {\n  const {profile} = provider;\n  if (provider.type === 'Individual')\n    return profile && profile.first_name + \" \" + profile.last_name;\n  else\n    return provider.company;\n};\n\n// mui-table column configurations\n// TODO: Add custom print function for address\nconst columnsWithoutOptions = [\n  {\n    label: 'Name',\n    body: ({id, profile, company, type}) => {\n      return <Link color to={`/${TYPE}/${id}`}>\n        {formatProviderName({\n          company, type, profile,\n        })}\n      </Link>\n    },\n  },\n  {\n    label: 'Type',\n    body: ({type}) => type,\n  },\n  {\n    label: 'Email',\n    body: ({profile}) => profile.email,\n  },\n  {\n    label: 'Phone Number',\n    body: ({profile}) => {\n      if (profile.primary_phone_number)\n        return formatPhoneNumber(profile.primary_phone_number);\n      return 'Not Provided';\n    }\n  },\n  {\n    name: 'main_address',\n    label: 'Address',\n    body: ({main_address}) => {\n      if (main_address)\n        return formatLocation(main_address);\n      return 'Not Provided';\n    }\n  },\n];\n\nexport default function Providers() {\n\n  const generateMarkers = (data, pageNumber, rowsPerPage) => {\n    // TODO: verify this works as expected\n    const currPageProviders = data.slice((pageNumber - 1) * rowsPerPage, pageNumber * rowsPerPage);\n    return currPageProviders.map(provider => ({\n      position: {lat: Number(provider.main_address.lat), lng: Number(provider.main_address.lng)},\n      title: formatProviderName(provider),\n      link: `/${TYPE}/${provider.id}`,\n      content: provider.main_address && formatLocation(provider.main_address),\n    })).filter(provider => provider.position.lat && provider.position.lng);\n  };\n\n  return (\n    <GenericPage\n      type={TYPE}\n      columnsWithoutOptions={columnsWithoutOptions}\n      fetchData={fetchProviders}\n      deleteItem={deleteProvider}\n      generateMarkers={generateMarkers}\n      nameFormatter={formatProviderName}\n      tableOptions={{\n        idField: 'id'\n      }}\n    />\n  )\n}\n","import React, { Component } from 'react'\nimport { Link } from 'react-router-dom';\nimport { Row, Col, Button } from 'react-bootstrap';\n\nexport default class AddServicePrompt extends Component {\n  render() {\n    return(\n      <Row className=\"content\">\n        <Col sm={12}>\n          <h2>Would you like to add a service for this provider?</h2>\n          <hr />\n          <Link to=\"/service/new\">\n            <Button bsStyle=\"default\">\n              Yes\n            </Button>\n          </Link>{' '}\n          <Link to=\"/providers\">\n            <Button bsStyle=\"default\">\n              No\n            </Button>\n          </Link>\n        </Col>\n      </Row>\n    )\n  }\n}\n","import { recursiveAssign, isFieldEmpty, isAvailabilityEmpty, verifyAddressField,\n  verifyOtherAddressesFields, validateAddressPostalCode, validateContactFormat,\n  verifyEmail, verifyPhoneNumber} from \"./index\";\n\n\n// Verify the params filled in client form\nexport function provider_verify_form(form, steps) {\n  const format_messages = verifyFormFormat(form);\n  // const format_messages = {}\n  const required_field_msg = verifyRequiredField(form, steps);\n  return recursiveAssign(required_field_msg, format_messages);\n}\n\n/**\n * verify if every required field is filled in\n * @returns a result obj {} with error messages added in corresponding key\n */\nfunction verifyRequiredField(form, steps) {\n  let result = {};\n  for (const step_page_fields of steps) {\n    // traverse each step page in steps\n    for (const [field, required] of Object.entries(step_page_fields)) {\n      if (required) {\n        if (field === 'availability' && isAvailabilityEmpty(form['operation_hours'])) {\n          result['availability'] = \"Please fill in at least one availability time slot!\";\n        } else if (field === 'main_address') {\n          result[field] = {};\n          verifyAddressField(form[field], result[field]);\n          if (Object.entries(result[field]).length === 0) {\n            delete result[field];\n          }\n        } else if (field === 'other_addresses') {\n          if (form[field].length === 0) {\n            // The user did not create an other address\n            result[field] = \"Please create at least one other address form!\"\n          } else {\n            // Some fields in other address are not filled in\n            result[field] = {};\n            verifyOtherAddressesFields(form[field], result[field])\n            if (Object.entries(result[field]).length === 0) {\n              delete result[field];\n            }\n          }\n        } else if (field === \"primary_contact\"){\n          verifyContactEmptiness(field, form, result, 'primary_contact')\n        } else if (field === 'secondary_contact'){\n          verifyContactEmptiness(field, form, result, 'secondary_contact')\n        } else {\n          verifyRequiredFieldByFormType(field, form, result)\n        }\n      }\n    }\n  }\n  return result\n}\n\n/**\n * verify format for various field\n * @param form\n * @returns a result obj {} with error messages added in corresponding key\n */\nfunction verifyFormFormat(form) {\n  let result = {}\n  // Verify postal code\n  validateAddressPostalCode(form.main_address.postal_code, result, 'main_address')\n  if (form.other_addresses.length > 0){\n    result['other_addresses'] = {};\n    let i = 0;\n    for (const address of form.other_addresses){\n      validateAddressPostalCode(address.postal_code, result['other_addresses'], i);\n      i++;\n    }\n    if (Object.entries(result['other_addresses']).length === 0) {\n      delete result['other_addresses'];\n    }\n  }\n\n  if(form.primary_contact.profile){\n    if (!!!result['primary_contact']){\n      // if field secondary_contact doesn't exist, create one first\n      result['primary_contact'] = {};\n    }\n    validateContactFormat(form.primary_contact.profile, result['primary_contact'])\n    if (Object.entries(result['primary_contact']).length === 0) {\n      delete result['primary_contact'];\n    }\n  }\n\n  if(form.secondary_contact.profile){\n    if (!!!result['secondary_contact']){\n      // if field secondary_contact doesn't exist, create one first\n      result['secondary_contact'] = {};\n    }\n    validateContactFormat(form.secondary_contact.profile, result['secondary_contact'])\n    if (Object.entries(result['secondary_contact']).length === 0) {\n      delete result['secondary_contact'];\n    }\n  }\n\n  if(form.reference1_email.length !== 0){\n    verifyEmail(form.reference1_email, 'reference1_email', result);\n  }\n  if(form.reference2_email.length !== 0){\n    verifyEmail(form.reference2_email, 'reference2_email', result);\n  }\n  if(form.reference1_phone.length !== 0){\n    verifyPhoneNumber(form.reference1_phone, 'reference1_phone', result);\n  }\n  if(form.reference2_phone.length !== 0){\n    verifyPhoneNumber(form.reference2_phone, 'reference2_phone', result);\n  }\n\n  if(form.type === \"Individual\"){\n    //check fields in form.profile\n    if(form.profile.email.length !== 0){\n      verifyEmail(form.profile.email, 'email', result);\n    }\n    if(form.profile.primary_phone_number.length !== 0){\n      verifyPhoneNumber(form.profile.primary_phone_number, 'primary_phone_number', result);\n    }\n    if(form.profile.alt_phone_number.length !== 0){\n      verifyPhoneNumber(form.profile.alt_phone_number, 'alt_phone_number', result);\n    }\n  }\n  return result;\n}\n\n/**\n * Check the field in contact emptiness and generate error message for the corresponding field\n * @param field\n * @param form\n * @param result\n * @param contactType Can be either \"primary_contact\" or \"secondary_contact\"\n */\nfunction verifyContactEmptiness(field, form, result, contactType){\n  for (const field of Object.keys(form[contactType]['profile'])){\n    if(isFieldEmpty(form[contactType]['profile'][field])){\n      if (!!!result[contactType]){\n        // if field contactType doesn't exist, create one first\n        result[contactType] = {};\n      }\n      result[contactType][field] = \"This field is required\"\n    }\n  }\n}\n\n/**\n * Verify required fields that are depends on form type, form type can either be \"Individual\" or \"Organization\".\n * @param field\n * @param form\n * @param result\n */\nfunction verifyRequiredFieldByFormType(field, form, result){\n  const org_ignore_fields = [\"email\", \"primary_phone_number\", \"alt_phone_number\", \"profile\"]\n  const individual_ignore_fields = [\"email\", \"primary_phone_number\", \"alt_phone_number\"]\n  if (form.type === \"Individual\"){\n    if (field in form['profile'] && isFieldEmpty(form['profile'][field])){\n      result[field] = 'This field is required';\n    } else if (field in form && !individual_ignore_fields.includes(field) && isFieldEmpty(form[field])) {\n      result[field] = 'This field is required';\n    }\n  } else if (form.type === 'Organization'){\n    if (field in form && !org_ignore_fields.includes(field) && isFieldEmpty(form[field])) {\n      result[field] = 'This field is required';\n    }\n  }\n}","import { BrowserStore } from './browserStore';\nimport { sleep } from \"../index\";\n\nconst defaultProviderFields =\n  {\n    \"organization\": {\n      \"steps_order\": [\"s1\"],\n      \"form_structure\": {\n        \"s1\": {\n          \"company\": {\"type\": \"field\", \"required\": false},\n          \"status\": {\"type\": \"field\", \"required\": false}\n        }\n      }\n    },\n    \"volunteer\": {\n      \"steps_order\": [\"s1\"],\n      \"form_structure\": {\n        \"s1\": {\n          \"first_name\": {\"type\": \"field\", \"required\": false},\n          \"last_name\": {\"type\": \"field\", \"required\": false}\n        }\n      }\n    },\n    \"goods_donor\": {\"steps_order\": [], \"form_structure\": {}},\n    \"professional_service_provider\": {\"steps_order\": [], \"form_structure\": {}}\n  };\n\nconst providerFieldsStore = new BrowserStore('provider-fields', defaultProviderFields);\n\nexport async function fetchProviderFields(reformat = true) {\n  await sleep(200);\n  // ugly deep copy\n  const data = JSON.parse(JSON.stringify(providerFieldsStore.value));\n  if (reformat) {\n    // transform to the same object as client fields\n    Object.keys(data).forEach(providerType => {\n      const formStructure = data[providerType].form_structure;\n      Object.keys(formStructure).forEach(stepName => {\n        const fields = formStructure[stepName];\n        formStructure && Object.keys(fields).forEach(fieldName => {\n          // skip questions\n          if (fields[fieldName].type !== 'field') return;\n          fields[fieldName] = fields[fieldName].required;\n          console.log(fieldName)\n        })\n      })\n    });\n    console.log('fetchProviderFields', data)\n    return data;\n  }\n  return data;\n}\n\nexport async function updateProviderFields(updatedProviderFields) {\n  await sleep(200);\n  providerFieldsStore.value = updatedProviderFields\n}\n","import React, { useState } from 'react';\nimport { operationHourMapping, defaultTimeSlot } from '../../helpers/operation_hour_helpers'\n\nimport { IconButton, Typography, Grid, Alert } from '@mui/material';\nimport { makeStyles } from \"@mui/styles\";\nimport { Delete, Add, ArrowRightAltOutlined as Arrow } from '@mui/icons-material';\nimport { FieldsWrapper } from \"./index\";\nimport SelectField from \"./fields/SelectField\";\n\nimport { format } from 'date-fns';\nimport GeneralField, {dateFormat} from './fields/GeneralField.js'\n\nconst useStyles = makeStyles(theme => ({\n  weekday: {\n    minWidth: 110,\n    alignSelf: 'start',\n    top: 28,\n    position: 'relative',\n  },\n  day: {\n    display: 'flex',\n    alignItems: 'center',\n  },\n  times: {\n    display: 'flex',\n    minWidth: 350,\n    alignItems: 'start',\n    flexDirection: 'column'\n  },\n  date: {\n    display: 'flex',\n    width: 170,\n  },\n  time: {\n    display: 'flex',\n    alignItems: 'center',\n    flexDirection: 'row'\n  },\n  select: {\n    minWidth: 120,\n    margin: 10,\n  },\n  button: {\n    position: 'relative',\n    top: 8,\n  },\n  arrow: {\n    paddingTop: 24,\n    marginLeft: 12,\n    marginRight: 12\n  }\n}));\n\nexport default function OperationHoursFieldGroup({operationHours, operationDates, errMsg}) {\n  const classes = useStyles();\n  // console.log(operationHours)\n  // A way to achieve forceUpdate()\n  const [state, update] = useState(true);\n  const forceUpdate = () => update(!state);\n\n  const handleOperationHourOnClick = (e, weekDay, action) => {\n    if (action === 'add') {\n      operationHours[weekDay].push({...defaultTimeSlot})\n    } else {\n      operationHours[weekDay].pop()\n    }\n    forceUpdate();\n  };\n\n  const handleChange = (e, weekDay, slotIndex, id) => {\n    const value = e.target.value;\n    operationHours[weekDay][slotIndex][id] = value == null ? '' : value;\n    forceUpdate();\n  };\n\n  return (\n    <FieldsWrapper label=\"Availability\">\n\n      {operationDates.map(({start_date: startDate, end_date: endDate}, idx) => {\n        // default is today\n        if (startDate == null) startDate = operationDates[idx].start_date = format(new Date(), dateFormat);\n\n        return (\n          <Grid container direction=\"row\" alignItems=\"center\" key={idx}>\n            <GeneralField\n              label=\"Start Date\"\n              className={classes.date}\n              type=\"date\"\n              value={startDate}\n              onChange={e => operationDates[idx].start_date = e.target.value}\n            />\n            <Arrow className={classes.arrow}/>\n            <GeneralField\n              label=\"End Date\"\n              className={classes.date}\n              type=\"date\"\n              value={endDate}\n              onChange={e => operationDates[idx].end_date = e.target.value}\n              helperText={\"leave empty if not sure\"}\n            />\n            {idx === (operationDates.length - 1) &&\n            <IconButton\n              className={classes.button}\n              onClick={e => {\n                operationDates.push({start_date: null, end_date: null});\n                forceUpdate();\n              }}\n              size=\"large\">\n              <Add/>\n            </IconButton>\n            }\n            {idx !== 0 && idx === (operationDates.length - 1) &&\n            <IconButton\n              className={classes.button}\n              onClick={e => {\n                operationDates.splice(idx, 1);\n                forceUpdate();\n              }}\n              size=\"large\">\n              <Delete/>\n            </IconButton>\n            }\n          </Grid>\n        );\n      })}\n\n\n      {Object.entries(operationHours).map(([weekDay, timeSlots]) => {\n        return (\n          <div key={weekDay} className={classes.day}>\n            <Typography color=\"textSecondary\" variant=\"subtitle1\" className={classes.weekday}>\n              {weekDay}\n            </Typography>\n            <div className={classes.times}>\n              {timeSlots.map((time, idx) => {\n                return (\n                  <div key={idx} className={classes.time}>\n                    <SelectField\n                      className={classes.select}\n                      value={time.start_time}\n                      label=\"Start\"\n                      options={operationHourMapping}\n                      onChange={e => handleChange(e, weekDay, idx, 'start_time', 'change')}\n                      // InputLabelProps={{ shrink: true }}\n                      // variant=\"outlined\"\n                    />\n                    <SelectField\n                      className={classes.select}\n                      value={time.end_time}\n                      label=\"End\"\n                      options={operationHourMapping}\n                      onChange={e => handleChange(e, weekDay, idx, 'end_time')}\n                      // InputLabelProps={{ shrink: true }}\n                    />\n                    {idx === (timeSlots.length - 1) &&\n                    <IconButton\n                      className={classes.button}\n                      onClick={e => handleOperationHourOnClick(e, weekDay, 'add')}\n                      size=\"large\">\n                      <Add/>\n                    </IconButton>\n                    }\n                    {idx !== 0 && idx === (timeSlots.length - 1) &&\n                    <IconButton\n                      className={classes.button}\n                      onClick={e => handleOperationHourOnClick(e, weekDay, 'remove')}\n                      size=\"large\">\n                      <Delete/>\n                    </IconButton>\n                    }\n                  </div>\n                );\n              })}\n            </div>\n\n          </div>\n        );\n      })}\n      {errMsg &&\n      <Alert severity=\"error\">{errMsg}</Alert>}\n    </FieldsWrapper>\n  );\n}\n","import React, { useCallback, useEffect, useMemo, useState } from 'react';\nimport { providerFields, providerFormTypes, providerCategoryValue2Key } from '../../constants/provider_fields.js'\nimport { defaultProfileFields, defaultContactFields } from '../../constants/default_fields.js'\nimport {\n  operationHourObjectToList\n} from '../../helpers/operation_hour_helpers';\nimport { provider_verify_form } from \"../../helpers/provider_verify_form\";\n\n// redux\nimport { useHistory, useParams } from 'react-router';\nimport { useDispatch } from 'react-redux'\nimport { ACTION_SUCCESS } from '../../store/defaults.js';\nimport { createProvider, updateProvider, fetchProvider } from '../../api/mockedApi/providers';\nimport { fetchOntologyCategories } from '../../store/actions/ontologyActions.js';\nimport { fetchProviderFields } from '../../api/mockedApi/providerFields';\n\n// components\nimport FieldGroup from '../shared/FieldGroup';\nimport OperationHoursFieldGroup from '../shared/OperationHoursFieldGroup';\nimport LocationFieldGroup from '../shared/LocationFieldGroup';\n\nimport { generateProviderFields } from \"../../constants/default_fields\";\nimport { FormStepper, Loading, FieldsWrapper, OtherLocationsFields } from \"../shared\";\nimport { Container } from \"@mui/material\";\nimport { makeStyles } from \"@mui/styles\";\nimport GeneralField from \"../shared/fields/GeneralField\";\n\nconst useStyles = makeStyles(theme => ({\n  content: {\n    width: '80%',\n    margin: 'auto',\n    paddingBottom: 10,\n  },\n  addressPaper: {\n    position: 'relative',\n    paddingLeft: 28,\n    paddingBottom: 20,\n    width: 380,\n  }\n}));\n\nexport default function ProviderForm() {\n  const classes = useStyles();\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const {id, formType: category} = useParams();\n  const mode = id ? 'edit' : 'new';\n  const [state, setState] = useState({\n    loading: true,\n    category: category,\n    languageOptions: [],\n    eligibilities: [],\n    stepNames: [],\n    steps: [],\n    provider: null,\n    dispatchErrorMsg: [],\n    fieldErrorMsg: {},\n  });\n\n  /**\n   * Provider Type\n   * @type {('Organization', 'Individual')}\n   */\n  const providerType = useMemo(() => {\n    if (mode === 'new')\n      return category === 'organization' ? 'Organization' : 'Individual';\n    else {\n      if (state.provider) return state.provider.category === 'organization' ? 'Organization' : 'Individual';\n    }\n  }, [state.provider, category, mode]);\n\n  // DO NOT store form as state, it degrades the performance as all form got rendered every time user type anything.\n  // Instead, for large form like this page, store the form as a variable and pass it to child components (input)\n  const form = useMemo(() =>\n      generateProviderFields(providerType, state.category, state.provider),\n    [providerType, state.category, state.provider]);\n\n  const load = useCallback((category) => {\n    console.log(category);\n    const promises = [];\n    promises.push(dispatch(fetchOntologyCategories('languages'))\n      .then(data => setState(state => ({...state, languageOptions: data}))));\n    promises.push(fetchProviderFields()\n      .then(data => {\n        console.log('provider form', data)\n        // no fields is available\n        if (data[category] == null || data[category].steps_order.length === 0\n          || Object.values(data[category].form_structure).length === 0) {\n          setState(state => ({...state, loading: true, errorMessage: ['No fields are available.']}));\n        } else {\n          setState(state => ({\n            ...state,\n            stepNames: data[category].steps_order,\n            steps: Object.values(data[category].form_structure)\n          }));\n        }\n      }));\n    Promise.all(promises).then(() => setState(state => ({...state, loading: false})));\n  }, [dispatch]);\n\n  useEffect(() => {\n    // load provider first if editing\n    if (id) {\n      fetchProvider(id)\n        .then((provider) => {\n          console.log(provider)\n          const cat = provider.type === 'Organization' ? 'organization' : providerCategoryValue2Key[provider.category];\n          setState(state => ({...state, provider: provider, category: cat}));\n          load(cat);\n        });\n    } else {\n      load(category);\n    }\n  }, [dispatch, id, category, load]);\n\n  const handleFinish = async () => {\n    const newForm = {...form};\n    newForm['operation_hours'] = operationHourObjectToList(newForm['operation_hours']);\n    if (newForm.status === '') newForm.status = undefined;\n    console.log(newForm);\n    // TODO: pretty error message\n    const fieldErrorMsg = provider_verify_form(form, state.steps);\n    if (Object.keys(fieldErrorMsg).length !== 0) {\n      setState(state => ({...state, fieldErrorMsg}));\n      return;\n    }\n    if (mode === 'edit') {\n      const res = await updateProvider(id, newForm);\n      if (res.success) {\n        history.push(`/providers/${res.providerId}`);\n      } else {\n        setState(state => ({...state, errorMessage: [res.error]}));\n      }\n    } else {\n      const res = await createProvider(newForm);\n      if (res.success) {\n        history.push(`/providers/${res.providerId}`);\n      } else {\n        setState(state => ({...state, errorMessage: [res.error]}));\n      }\n    }\n  };\n\n  /**\n   * Handle changes in form\n   * @param name {string}\n   * @returns {Function}\n   */\n  const handleChange = useCallback(name => e => {\n    const {value} = e.target;\n    const splits = name.split('.');\n    if (splits.length === 1) {\n      form[name] = value;\n    } else {\n      let parent = form;\n      for (let i = 0; i < splits.length - 1; i++) {\n        parent = parent[splits[i]];\n      }\n      parent[splits[splits.length - 1]] = value || '';\n    }\n  }, [form]);\n\n  const getStepContent = idx => {\n    const step = state.steps[idx];\n    if (!step) return null;\n    return <div className={classes.content}>\n      {Object.entries(step).map(([field, required]) => {\n        // The field is not a normal field, i.e. questions\n        // const isQuestion = typeof required === 'object';\n\n        let options;\n        const errMsg = state.fieldErrorMsg[field];\n        if (field === 'languages') {\n          options = state.languageOptions;\n        }\n\n        if (field === 'main_address') {\n          return (\n            <FieldsWrapper label=\"Main address\" key={field}>\n              <LocationFieldGroup\n                address={form.main_address}\n                required={required}\n                errMsg={errMsg}\n              />\n            </FieldsWrapper>\n          );\n        } else if (field === 'other_addresses') {\n          return (\n            <OtherLocationsFields\n              key={field}\n              otherLocations={form.other_addresses}\n              required={required}\n              errMsg={errMsg}\n            />\n          );\n        } else if (field === 'primary_contact' || field === 'secondary_contact') {\n          return (\n            <FieldsWrapper key={field} label={providerFields[field].label}>\n              {Object.keys(defaultContactFields).map(contactField => {\n                return (\n                  <FieldGroup\n                    key={contactField}\n                    label={providerFields[contactField]['label']}\n                    type={providerFields[contactField]['type']}\n                    component={providerFields[contactField]['component']}\n                    value={form[field]['profile'][contactField]}\n                    onChange={handleChange(field + '.' + contactField)}\n                    error={errMsg == null ? false : errMsg[contactField] != null}\n                    helperText={!!errMsg ? errMsg[contactField] : null}\n                  />\n                )\n              })}\n            </FieldsWrapper>\n          )\n        } else if (field === 'availability') {\n          return (\n            <OperationHoursFieldGroup\n              key={field}\n              operationHours={form.operation_hours}\n              operationDates={form.operation_dates}\n              errMsg={errMsg}\n            />\n          )\n        } else if (field === 'notes') {\n          return (\n            <GeneralField\n              key={field}\n              label={providerFields[field].label}\n              value={form[field]}\n              onChange={handleChange(field)}\n              required={required}\n              multiline\n              variant=\"outlined\"\n              fullWidth\n              error={errMsg != null}\n              helperText={errMsg}\n            />\n          )\n        } else {\n          const isProfile = Object.keys(defaultProfileFields).includes(field);\n          // only individual has field \"profile\"\n          if (isProfile && providerType !== \"Individual\") return null;\n          let fieldProps = providerFields[field];\n          if (fieldProps == null) fieldProps = {};\n          return (\n            <FieldGroup\n              key={field}\n              label={providerFields[field].label}\n              type={providerFields[field].type}\n              component={providerFields[field].component}\n              value={isProfile ? form.profile[field] : form[field]}\n              onChange={handleChange(isProfile ? 'profile.' + field : field)}\n              required={required}\n              options={providerFields[field].options || options}\n              error={errMsg != null}\n              helperText={errMsg}\n            />\n          );\n        }\n      })}\n    </div>\n  };\n\n  if (state.loading)\n    return <Loading message={`Loading...`}/>;\n\n  console.log(state.category);\n  return (\n    <Container>\n      <FormStepper\n        getStepContent={getStepContent}\n        handleFinish={handleFinish}\n        stepNames={state.stepNames}\n        error={state.dispatchErrorMsg}\n        title={(mode === 'new' ? 'Create ' : 'Edit ') + providerFormTypes[state.category]}\n      />\n    </Container>\n  );\n}\n","import React from 'react';\nimport _ from 'lodash';\n\nimport TR from '../../shared/TR';\nimport { defaultContactFields } from '../../../constants/default_fields.js'\nimport { formatLocation } from '../../../helpers/location_helpers';\nimport { formatPhoneNumber } from '../../../helpers/phone_number_helpers';\nimport { operationHourListToObject, OperationHourTable }\n  from '../../../helpers/operation_hour_helpers';\n\nimport { Table, TableBody, TableCell, TableContainer, TableHead, TableRow, Paper } from \"@mui/material\"\nimport useProfileTableStyles from '../../../stylesheets/profile-table'\n\nexport default function ProviderInfoTable({step, provider, infoFields, providerFields}) {\n  let rowTitle, rowValue;\n  const infoRows = _.map(infoFields, (data, fieldId) => {\n    if (data.type === 'field') {\n      rowTitle = providerFields[fieldId].label;\n      switch (fieldId) {\n        case 'first_name':\n        case 'middle_name':\n        case 'last_name':\n        case 'preferred_name':\n        case 'gender':\n        case 'birth_date':\n        case 'email':\n          if (provider.type === 'Individual') {\n            rowValue = provider.profile[fieldId];\n          } else {\n            rowValue = provider[fieldId];\n          }\n          break;\n        case 'primary_phone_number':\n        case 'alt_phone_number':\n          if (provider.type === 'Individual') {\n            rowValue = provider.profile[fieldId] ? formatPhoneNumber(provider.profile[fieldId]) : 'None provided';\n          } else {\n            rowValue = provider[fieldId] ? formatPhoneNumber(provider[fieldId]) : 'None provided';\n          }\n          break;\n        case \"main_address\":\n          rowValue = provider[fieldId] ? formatLocation(provider[fieldId]) : \"None provided\";\n          break;\n        case \"other_addresses\":\n          if (provider[fieldId]) {\n            rowValue = _.map(provider[fieldId], (address, index) =>\n              <p key={index}>{formatLocation(address)}</p>)\n          } else {\n            rowValue = null;\n          }\n          break;\n        case \"languages\":\n          rowValue = (provider[fieldId] || []).join(', ')\n          break;\n        case \"availability\":\n          const operation_hours = operationHourListToObject(provider.operation_hours)\n          rowValue = <OperationHourTable operationHourObj={operation_hours}/>\n          break;\n        case 'primary_contact':\n        case 'secondary_contact':\n          if (provider[fieldId]) {\n            rowValue = _.map(_.keys(defaultContactFields), contactField => {\n              if (provider[fieldId]['profile'][contactField]) {\n                return (\n                  <li key={contactField}>\n                    {`${providerFields[contactField]['label']}: ${provider[fieldId]['profile'][contactField]}`}\n                  </li>\n                )\n              }\n            })\n          } else {\n            rowValue = null;\n          }\n          break;\n\n        default:\n          rowValue = provider[fieldId];\n      }\n    } else if (data.type === 'question') {\n      rowTitle = fieldId;\n      const response = _.find(provider.responses, response => {\n        return response.question_id === data.id.toString()\n      })\n      if (response) {\n        rowValue = response.text\n      } else {\n        rowValue = null;\n      }\n    }\n    return (\n      <TR\n        key={fieldId}\n        title={rowTitle}\n        value={rowValue}\n      />\n    );\n  })\n\n  const classes = useProfileTableStyles()\n  return (\n    <TableContainer className={classes.table} component={Paper}>\n      <Table aria-label=\"Profile table\">\n        <TableHead>\n          <TableRow>\n            <TableCell className={classes.title}>{step}</TableCell>\n            <TableCell className={classes.title2}></TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {infoRows}\n        </TableBody>\n      </Table>\n    </TableContainer>\n  )\n}\n","import React, { Component } from 'react';\n\nimport { Button, FormGroup, FormControl, FormLabel, Col } from 'react-bootstrap';\nimport { connect } from 'react-redux';\nimport { rateProvider } from '../../store/actions/providerActions.js';\nimport StarRatingComponent from 'react-star-rating-component';\n\nclass ProviderRatingForm extends Component {\n  constructor(props) {\n\t\tsuper(props);\n    this.handleStarSelection=this.handleStarSelection.bind(this);\n\t\tthis.handleCommentChange=this.handleCommentChange.bind(this);\n    this.handleSubmit=this.handleSubmit.bind(this);\n    this.handleTextRating=this.handleTextRating.bind(this);\n    const id = this.props.match.params.id\n    this.state = {\n      id: id,\n\t\t\trating: 0,\n      comment: ''\n    }\n  }\n\n  handleStarSelection(nextValue, name) {\n    this.setState({rating: nextValue});\n  }\n\n  handleTextRating(e) {\n    this.setState({rating: e.target.value});\n  }\n  handleCommentChange(e) {\n    this.setState({comment: e.target.value});\n  }\n  handleSubmit(e) {\n    const id = this.props.match.params.id\n    this.props.dispatch(rateProvider(id, this.state));\n    this.props.history.push('/provider/' + id);\n  }\n\n  render() {\n    return (\n      <div className=\"content\">\n        <Col sm={9}>\n          <h3> Rate Provider </h3>\n          <hr/>\n        </Col>\n\n        <FormGroup controlId=\"rating\">\n          <Col componentClass={FormLabel} sm={5}>\n            Rate this provider (0-5)\n          </Col>\n          <Col sm={9}>\n            <FormControl\n              type=\"text\"\n              placeholder=\"A number between 0 and 5\"\n              value={this.state.rating}\n              onChange={this.handleTextRating}\n            />\n          </Col>\n        </FormGroup>\n        <Col sm={9}>\n          <StarRatingComponent\n            name=\"rating\"\n            starCount={5}\n            value={this.state.rating}\n            onStarClick={this.handleStarSelection}\n          />\n        </Col>\n        <Col sm={9}>\n          <hr/>\n          <FormGroup controlId=\"comments\">\n            <FormLabel>Comments</FormLabel>\n            <FormControl\n              componentClass=\"textarea\"\n              placeholder=\"Comments about this provider...\"\n              onChange={this.handleCommentChange}\n            />\n          </FormGroup>\n        </Col>\n        <Col sm={9}>\n          <Button type=\"submit\" onClick={this.handleSubmit}> Submit </Button>\n        </Col>\n      </div>\n    )\n  }\n}\nconst mapStateToProps = (state) => {\n  return {\n    providersById: state.providers.byId || {},\n    providerLoaded: state.providers.indexLoaded\n  }\n}\n\nexport default connect(\n  mapStateToProps\n)(ProviderRatingForm);\n","import { BrowserStore, BrowserCounterStore } from './browserStore';\nimport { sleep } from \"../index\";\n\nconst servicesStore = new BrowserStore('services', []);\nconst serviceCnt = new BrowserCounterStore('service');\n\nexport async function fetchServices() {\n  await sleep(200);\n  // ugly deep copy\n  return JSON.parse(JSON.stringify(servicesStore.value));\n}\n\nexport async function fetchService(id) {\n  await sleep(200);\n  // ugly deep copy\n  return JSON.parse(JSON.stringify(servicesStore.value.find(service => service.id === Number(id))));\n}\n\n\nexport async function createService(newServiceData) {\n  await sleep(200);\n  const newService = {\n    id: serviceCnt.nextCnt,\n    reviews: [],\n    ...newServiceData\n  };\n  servicesStore.value = [...servicesStore.value, newService];\n  return {success: true, serviceId: newService.id};\n  // return {success: false, error: 'error message here'}\n}\n\nexport async function updateService(id, updatedService) {\n  await sleep(200);\n  Object.assign(servicesStore.value.find(service => service.id === Number(id)), updatedService);\n  servicesStore.save();\n  return {success: true, serviceId: id};\n  // return {success: false, error: 'error message here'}\n}\n\n\nexport async function deleteService(updatedService) {\n  await sleep(200);\n  const idx = servicesStore.value.findIndex(service => service.id === updatedService.id);\n  servicesStore.value.splice(idx, 1)\n  servicesStore.save();\n  return {success: true}\n}\n","import React from 'react'\nimport { Link } from './shared';\nimport { fetchServices, deleteService } from '../api/mockedApi/services'\nimport { GenericPage } from \"./shared\";\n\nconst TYPE = 'services';\n\nconst formatProvider = ({provider}) => {\n  return provider.type === 'Organization' ? provider.company\n    : (provider.profile ? `${provider.profile.first_name} ${provider.profile.last_name}` : 'Not provided')\n};\n\nconst columnsWithoutOptions = [\n  {\n    label: 'Name',\n    body: ({id, name}) => {\n      return <Link color to={`/${TYPE}/${id}`}>{name}</Link>\n    }\n  },\n  {\n    label: 'Provider',\n    body: ({provider}) => {\n      return  <Link color to={`/providers/${provider.id}`}>\n        {formatProvider({provider})}\n      </Link>\n    }\n  },\n  {\n    label: 'Description',\n    body: ({desc}) => desc\n  },\n  {\n    label: 'Category',\n    body: ({category}) => category\n  }\n];\n\nexport default function Services() {\n\n  const nameFormatter = service => service.name;\n\n  const generateMarkers = (data, pageNumber, rowsPerPage) => {\n    // TODO: verify this works as expected\n    const currPageServices = data.slice((pageNumber - 1) * rowsPerPage, pageNumber * rowsPerPage);\n    return currPageServices.map(service => ({\n      position: {lat: Number(service.location.lat), lng: Number(service.location.lng)},\n      title: service.name,\n      link: `/${TYPE}/${service.id}`,\n      content: service.desc,\n    })).filter(service => service.position.lat && service.position.lng);\n  };\n\n  return (\n    <GenericPage\n      type={TYPE}\n      columnsWithoutOptions={columnsWithoutOptions}\n      fetchData={fetchServices}\n      deleteItem={deleteService}\n      generateMarkers={generateMarkers}\n      nameFormatter={nameFormatter}\n      tableOptions={{\n        idField: 'id'\n      }}\n    />\n  )\n}\n","export function formatEligibilityConditions(condType, condValue) {\n  if (condValue instanceof Array) {\n    return `${condType}: ${condValue.join(', ')}`\n  }\n  else {\n    return `${condType}: ${condValue}`\n  }\n}\n","import _ from 'lodash';\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport TR from '../shared/TR'\n\n// redux\nimport { connect } from 'react-redux'\nimport { fetchService } from '../../api/mockedApi/services'\n\nimport { formatLocation } from '../../helpers/location_helpers'\nimport { formatEligibilityConditions } from '../../helpers/eligibility_condition_helpers'\n\nimport { Table, Button } from 'react-bootstrap';\nimport { Print } from \"@mui/icons-material\";\n\nclass Service extends Component {\n  componentWillMount() {\n    const id = this.props.match.params.id\n    this.props.dispatch(fetchService(id));\n  }\n\n  render() {\n    const p = this.props,\n          id = p.match.params.id,\n          service = p.servicesById[id];\n\n    return (\n      <div className=\"content client\">\n        <h3>Service Profile</h3>\n        <Link to={`/services/${service.id}/edit`}>\n          <Button bsStyle=\"primary\">\n            Edit\n          </Button>\n        </Link>{' '}\n        <Button bsStyle=\"primary\" onClick={() => window.print()} className=\"print-button\">\n          <Print fontSize=\"small\"/>\n        </Button>\n\n        { service && service.servicesLoaded &&\n          <Table striped bordered condensed hover>\n            <tbody>\n              <TR\n                title=\"Name\"\n                value={service.name}\n              />\n\n              <TR\n                title=\"Type\"\n                value={service.type}\n              />\n              <TR\n                title=\"Description\"\n                value={service.desc}\n              />\n              <TR\n                title=\"Category\"\n                value={service.category}\n              />\n              <TR\n                title=\"Eligibility\"\n                value={service.eligibility}\n              />\n              <TR\n                title=\"Available from\"\n                value={service.available_from}\n              />\n              <TR\n                title=\"Available until\"\n                value={service.available_to}\n              />\n              <TR\n                title=\"Languages\"\n                value={(service.languages || []).join(', ')}\n              />\n              <TR\n                title=\"Max Capacity\"\n                value={service.max_capacity}\n              />\n              <TR\n                title=\"Current capacity\"\n                value={service.current_capacity}\n              />\n              <TR\n                title=\"Frequency\"\n                value={service.frequency}\n              />\n              <TR\n                title=\"Billable\"\n                value={service.billable}\n              />\n              <TR\n                title=\"Price\"\n                value={service.price}\n              />\n              <TR\n                title=\"Method of delivery\"\n                value={service.method_of_delivery}\n              />\n              <TR\n                title=\"Method of registration\"\n                value={service.method_of_registration}\n              />\n              <TR\n                title=\"Registration\"\n                value={service.registration}\n              />\n              <TR\n                title=\"Contact Person Email\"\n                value={service.email}\n              />\n              <TR\n                title=\"Contact Person Phone\"\n                value={service.primary_phone_number}\n              />\n              <TR\n                title=\"Secondary Phone\"\n                value={service.alt_phone_number}\n              />\n              <tr>\n                <td><b>Location</b></td>\n                <td>{formatLocation(service.location)}</td>\n              </tr>\n\n              {_.keys(_.omit(service.eligibility_conditions, ['lower_age_limit', 'upper_age_limit'])) > 0 &&\n                <tr>\n                  <td><b>Eligibility Conditions</b></td>\n                  <td>\n                    {_.map(\n                        _.omit(service.eligibility_conditions, ['lower_age_limit', 'upper_age_limit']\n                      ), (value, type) => {\n                      return (\n                        <li key={type}>\n                          {formatEligibilityConditions(type, value)}\n                        </li>\n                      );\n                    })}\n                    {service.eligibility_conditions.lower_age_limit &&\n                      <li>\n                        {formatEligibilityConditions('Age greater than' , service.eligibility_conditions.lower_age_limit)}\n                      </li>\n                    }\n                    {service.eligibility_conditions.upper_age_limit &&\n                      <li>\n                        {formatEligibilityConditions('Age less than' , service.eligibility_conditions.upper_age_limit)}\n                      </li>\n                    }\n                  </td>\n                </tr>\n              }\n              <TR\n                title=\"Public?\"\n                value={service.is_public ? 'Yes': 'No'}\n              />\n              <TR\n                title=\"Share with\"\n                value={(service.share_with || []).join(', ')}\n              />\n              <TR\n                title=\"Notes\"\n                value={service.notes}\n              />\n              <tr>\n                <td><b>Provider</b></td>\n                <td>\n                  <Link to={`/provider/${service.provider.id}`}>\n                    {(service.provider.type === 'Organization') ?\n                      service.provider.company\n                    :\n                      `${service.provider.profile.first_name} ${service.provider.profile.last_name}`\n                    }\n                  </Link>\n                </td>\n              </tr>\n            </tbody>\n          </Table>\n        }\n\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    servicesById: state.services.byId,\n    serviceLoaded: state.services.indexLoaded\n  }\n}\n\nexport default connect(\n  mapStateToProps\n)(Service);\n","import { sleep } from \"../index\";\n\nconst languages = [\"Japanese\", \"Chinese\", \"Vietnamese\", \"Turkish\", \"French\", \"Polish\", \"Spanish\", \"English\", \"Arabic\", \"Korean\", \"Hindi\"];\nconst services = [\n  \"Financial planning help service\", \"Field trips\", \"Child and family service\", \"Aboriginal people service\", \"Math help service\", \"Legal aid service\", \"Social assistance service\", \"Language classes\", \"Homework club\", \"Emergency and crisis service\", \"Computer access service\", \"Consumer protection and complaints service\", \"Transportation\", \"Abuse and assault service\", \"Newcomers service\", \"Disability service\", \"Government and legal service\", \"Public library service\", \"Special interest classes\", \"Employment and training service\", \"Special events\", \"Human rights service\", \"Youth service\", \"Dental service\", \"Older adults service\", \"Healthcare service\", \"Community information service\", \"Support group service\", \"LGBTQ service\", \"Food service\", \"Mental health service\", \"Household help service\", \"Francophone service\", \"Income support service\", \"Housing service\", \"Interpretation and translation service\", \"Homelessness service\", \"French as a second language service\"\n]\n\nconst categories = {\n  languages,\n  services,\n}\n\nexport async function fetchOntologyCategories(category) {\n  console.log('Fetch categories: ', category)\n  if (!categories[category]) {\n    console.error('No Category available: ', category)\n    return []\n  }\n\n  return {\n    categories: categories[category]\n  }\n}","import { statusInCanadaOptions, genderOptions, educationLevelOptions, countryOptions, languageOptions, provinceOptions, incomeSourceOptions, maritalStatusOptions} from '../../store/defaults';\nimport React, { useEffect, useState, useMemo, useCallback, Comopnent } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { fetchOntologyCategories } from '../../store/actions/ontologyActions.js';\nimport { fetchEligibilities } from '../../api/eligibilityApi';\nimport { serverHost } from '../../store/defaults';\n\n\n// export default function  something() {\n//   // const dispatch = useDispatch();\n//   const [state, setState] = useState({\n//     loading: true,\n//     languageOptions: [],\n//     all_ngo_conditions: [],\n//     stepNames: [],\n//     steps: [],\n//     client: null,\n//     dispatchErrorMsg: [],\n//     fieldErrorMsg: {},\n//   });\n  \n//   // useEffect(() => {\n//     const promises = [];\n//     promises.push(fetchOntologyCategories('languages')\n//       .then(data => setState(state => ({...state, languageOptions: data}))));\n//     promises.push(fetchEligibilities()\n//       .then(data => {\n//         setState(state => ({...state, all_ngo_conditions: data.map(data => data.title)}))\n//       }));\n//     Promise.all(promises).then(() => setState(state => ({...state, loading: false})));\n  \n//     // }, [dispatch]);\n\n//   return promises\n// }\n// const appRes = something()\n// console.log(\"conditionConfig:\", appRes)\n\n\n\n\n// const ontologyCategories = fetchOntologyCategories('languages')\n// console.log(\"conditionConfig: \", ontologyCategories)\n\n\n// const ngoEligibilities = fetchEligibilities('languages')\n// console.log(\"conditionConfig: \", all_ngo_conditions)\n// const all_ngo_conditions= ngoEligibilities.map(data => data.title)\n\n// const ontologyRes = retrieveOnotologyStoreConditionConfig()\n// console.log(\"conditionConfig\", ontologyRes)\n\n\n// const data = await fetchEligibilities().then(data => {return data=> data.title})\n// For reference\nconst conditions = [\"age\", \"alt_phone_number\", \"apt_number\", \"arrival_date\", \"birth_date\", \"city\", \"completed_education_level\",\n  \"country_of_last_residence\", \"country_of_origin\", \"current_education_level\", \"email\", \"first_language\", \"first_name\", \"gender\",\n  \"has_children\", \"immigration_doc_number\", \"income_source\", \"landing_date\", \"last_name\", \"lat\", \"lng\", \"marital_status\", \"middle_name\",\n  \"ngo_conditions\", \"num_of_children\", \"num_of_dependants\", \"other_languages\", \"phone_numbers\", \"postal_code\", \"pr_number\", \"preferred_name\",\n  \"primary_phone_number\", \"province\", \"service_set\", \"status_in_canada\", \"street_address\"]\n\nconst compareOps = ['<', '>', '<=', '>=', '=='];\nconst IN = ['in'];\nconst IS = ['=='];\n\nexport const TYPE = {\n  NUMBER: 1,\n  DATE: 2,  // use case? not implemented.\n  STRING: 3,\n  BOOLEAN: 4,  // use case? not implemented.\n  LIST: 5\n};\n\nexport const defaultConfig = {\n  operators: [...compareOps, ...IN],\n  type: TYPE.STRING\n};\n\nexport const eligibilityConditionHideItems = [\"alt_phone_number\", \"apt_number\", \"city\", \"landing_date\", \"last_name\", \"middle_name\",\n  \"phone_numbers\", \"postal_code\", \"pr_number\", \"preferred_name\", \"primary_phone_number\", \"service_set\", \"street_address\"\n]\n\nexport const eligibilityConditionConfigs = {\n  // NOTE: In alphabetic order\n  age: {\n    operators: compareOps,  // operators\n    type: TYPE.NUMBER  // right operand data type\n  },\n  arrival_date: {\n    operators: compareOps,\n    type: TYPE.DATE\n  },\n  birth_date: {\n    operators: compareOps,\n    type: TYPE.DATE\n  },\n  completed_education_level: {\n    operators: IN,\n    type: TYPE.LIST,\n    options: educationLevelOptions,\n    multipleSelect: true\n  },\n  // Where to retrieve coutry options?\n  country_of_last_residence: {\n    operators: IN,\n    type: TYPE.LIST,\n    options: countryOptions,\n    multipleSelect: true\n  }, \n  country_of_origin: {\n    operators: IN,\n    type: TYPE.LIST,\n    options: countryOptions,\n    multipleSelect: true\n  },\n  current_education_level: {\n    operators: IN,\n    type: TYPE.LIST,\n    options: educationLevelOptions,\n    multipleSelect: true\n  },\n  // Where to retrieve language options, Ontology or default.js?\n  first_language: {\n    operators: IN,\n    type: TYPE.LIST,\n    options: [],\n    multipleSelect: true\n  },\n  gender: {\n    operators: IN,\n    type: TYPE.LIST,\n    options: genderOptions,\n    multipleSelect: true,\n  },\n  has_children: {\n    operators: IN,\n    type: TYPE.LIST,\n    options: ['True', 'False'],\n    multipleSelect: true\n  },\n  income_source: {\n    operators: IN,\n    type: TYPE.LIST,\n    options: incomeSourceOptions,\n    multipleSelect: true\n  },\n  landing_date: {\n    operators: compareOps,\n    type: TYPE.DATE\n  },\n  lat: {\n    operators: compareOps,  // operators\n    type: TYPE.NUMBER  // right operand data type\n  },\n  lng: {\n    operators: compareOps,  // operators\n    type: TYPE.NUMBER  // right operand data type\n  },\n  marital_status: {\n    operators: IN,\n    type: TYPE.LIST,\n    options: maritalStatusOptions,\n    multipleSelect: true\n  },\n  // Get NGO condition\n  ngo_conditions: {\n    operators: IN,\n    type: TYPE.LIST,\n    options: ['example'],\n    multipleSelect: true\n  },\n  num_of_children: {\n    operators: compareOps,  // operators\n    type: TYPE.NUMBER  // right operand data type\n  },\n  num_of_dependants: {\n    operators: compareOps,  // operators\n    type: TYPE.NUMBER  // right operand data type\n  },\n  other_languages: {\n    operators: IN,\n    type: TYPE.LIST,\n    options: languageOptions,\n    multipleSelect: true\n  },\n  province: {\n    operators: IN,\n    type: TYPE.LIST,\n    options: provinceOptions,\n    multipleSelect: true\n  },\n  status_in_canada: {\n    operators: IN,\n    type: TYPE.LIST,\n    options: statusInCanadaOptions,  // only for list data type\n    multipleSelect: true  // is multiple select?\n  }\n};\n\n\nexport const nameFunc = () => {\n  const languagesUrl = serverHost + '/categories/languages/';\n  const promises = [];\n  promises.push(fetch(languagesUrl)\n    .then(response => response.json())\n    .then(data => {eligibilityConditionConfigs.first_language.options = data.categories;\n      eligibilityConditionConfigs.other_languages.options = data.categories}));\n  promises.push(fetchEligibilities()\n    .then(data => eligibilityConditionConfigs.ngo_conditions.options= data.map(data => data.title)));\n  Promise.all(promises)\n}\n// nameFunc()\n\n","import React, { useEffect, useState } from 'react';\nimport { Paper, TextField, Grid, Button, IconButton } from \"@mui/material\";\nimport SelectField from \"../shared/fields/SelectField\";\nimport { Add as AddIcon, Delete as DeleteIcon } from '@mui/icons-material'\n\nimport { fetchFormulaFields } from \"../../api/formulaApi\";\nimport { escapeList, escapeString, titleCase, unescapeList, unescapeString } from \"../../helpers/formulaHelpers\";\nimport { eligibilityConditionConfigs, TYPE, defaultConfig, eligibilityConditionHideItems } from \"./conditionConfig\";\nimport { educationLevelOptions } from \"../../store/defaults\";\nimport MultiSelectField from \"../shared/fields/MultiSelectField\";\n\n\nexport function CustomEligibilityField({value, handleChange, fields, onDelete}) {\n\n  const [state, setState] = useState({\n    operator: value[1] || '', // duplicate state\n    ...(eligibilityConditionConfigs[value[0]] || defaultConfig)\n  });\n\n  const handleLeftOperandChange = e => {\n    const leftOperand = e.target.value;\n    const changes = {leftOperand, rightOperand: ''};\n\n    const config = eligibilityConditionConfigs[leftOperand] || defaultConfig;\n\n    const ops = config.operators;\n    if (!ops.includes(value[1])) {\n      changes.operator = ops[0];\n      setState(state => ({...state, operator: ops[0], ...config}));\n    } else {\n      setState(state => ({...state, ...config}));\n    }\n    handleChange(changes);\n    value[2] = '';\n  };\n  let rightOperand;\n  if (state.type === TYPE.STRING) {\n    rightOperand =\n      <TextField\n        style={{marginLeft: 20}}\n        label=\"Right Operand\"\n        defaultValue={unescapeString(value[2])}\n        onChange={e => handleChange({rightOperand: escapeString(e.target.value)})}/>;\n  } else if (state.type === TYPE.NUMBER) {\n    rightOperand =\n      <TextField\n        style={{marginLeft: 20}}\n        label=\"Right Operand\"\n        defaultValue={typeof + value[2] === \"number\" ? value[2] : 0}\n        onChange={e => handleChange({rightOperand: e.target.value})}/>;\n  } else if (state.type === TYPE.LIST && state.multipleSelect) {\n    rightOperand =\n      <MultiSelectField\n        label=\"Right Operand\"\n        options={state.options}\n        value={unescapeList(value[2]) || []} // warning: this is a list\n        onChange={e => handleChange({rightOperand: escapeList(e.target.value)})}\n        noDefaultStyle\n      />\n  } else if (state.type === TYPE.LIST && !state.multipleSelect) {\n    rightOperand =\n      <SelectField\n        style={{marginRight: 20}}\n        noEmpty\n        noDefaultStyle\n        options={state.options}\n        value={value[2]} // warning: this is a string\n        label=\"Right Operand\"\n        onChange={e => handleChange({rightOperand: e.target.value})}/>\n  } else {\n    rightOperand = 'Not implemented';\n  }\n\n  return (\n    <div style={{padding: 20}}>\n      <Grid container direction=\"row\" spacing={1}>\n        <SelectField\n          style={{marginRight: 20}}\n          noEmpty\n          noDefaultStyle\n          options={fields}\n          value={value[0]}\n          label=\"Field\"\n          onChange={handleLeftOperandChange}/>\n        <SelectField\n          style={{width: 60}}\n          noEmpty\n          noDefaultStyle\n          options={state.operators}\n          label=\"Operator\"\n          value={state.operator}\n          controlled\n          onChange={e => {\n            const operator = e.target.value;\n            setState(state => ({...state, operator}));\n            handleChange({operator});\n          }}/>\n        {rightOperand}\n        <IconButton onClick={onDelete} size=\"large\">\n          <DeleteIcon/>\n        </IconButton>\n      </Grid>\n    </div>\n  );\n}\n\nexport default function EligibilityCondition({value: originalValue, formValChange}) {\n  /**\n   * @type {[{condition_clauses: [field_name, clauses: [{left_operand, right_operand, operator}]]}]}\n   **/\n  const [value, setValue] = useState(originalValue);\n\n  const [fields, setFields] = useState({});\n\n  useEffect(() => {\n    fetchFormulaFields().then(({fields, dynamic_fields, functions}) => {\n      const fieldsObj = {};\n      console.log(fields)\n      fields.forEach(field => {\n        if (!eligibilityConditionHideItems.includes(field))\n          fieldsObj[field] = titleCase(field)\n      });\n      setFields(fieldsObj);\n    })\n  }, []);\n\n  const handleFieldChange = clause => ({leftOperand, operator, rightOperand}) => {\n    clause[0] = leftOperand || clause[0];\n    clause[1] = operator === undefined ? clause[1] : operator;\n    clause[2] = rightOperand || clause[2];\n  };\n\n  const handleAddField = idx => () => {\n    setValue(value => {\n      value[idx].push(['age', '==', '']);\n      formValChange({target: {value}});\n      return [...value];\n    })\n  };\n\n  const handleAddCondition = () => {\n    setValue(value => {\n      value.push([]);\n      formValChange({target: {value}});\n      return [...value];\n    })\n  };\n\n  const handleRemoveField = (conditionIdx, fieldIdx) => () => {\n    setValue(value => {\n      value[conditionIdx].splice(fieldIdx, 1);\n      formValChange({target: {value}});\n      return [...value]\n    })\n  };\n\n  const handleRemoveCondition = (conditionIdx) => () => {\n    setValue(value => {\n      value.splice(conditionIdx, 1);\n      formValChange({target: {value}});\n      return [...value]\n    })\n  };\n\n  const conditionComponents = [];\n  for (let conditionIdx = 0; conditionIdx < value.length; conditionIdx++) {\n    const condition = value[conditionIdx];\n    const field_components = [];\n    conditionComponents.push(field_components);\n\n    for (let fieldIdx = 0; fieldIdx < condition.length; fieldIdx++) {\n      const [leftOperand, operator, rightOperand] = condition[fieldIdx];\n      field_components.push(\n        <Grid item xs={12} key={fieldIdx}>\n          <CustomEligibilityField\n            value={condition[fieldIdx]}\n            handleChange={handleFieldChange(condition[fieldIdx])}\n            fields={fields}\n            onDelete={handleRemoveField(conditionIdx, fieldIdx)}\n          />\n        </Grid>\n      )\n\n    }\n  }\n\n  return (\n    <div>\n      {conditionComponents.map((field_components, idx) =>\n        <Paper variant=\"outlined\" key={idx}>\n          <Grid container>\n            {field_components}\n            <Grid item xs={12}>\n              <Button\n                onClick={handleRemoveCondition(idx)}\n                style={{margin: 12, float: 'right'}}\n                variant=\"contained\"\n                startIcon={<DeleteIcon/>}>\n                Remove\n              </Button>\n              <Button\n                style={{margin: 12, float: 'right'}}\n                variant=\"contained\"\n                startIcon={<AddIcon/>}\n                onClick={handleAddField(idx)}>\n                And\n              </Button>\n            </Grid>\n          </Grid>\n        </Paper>)}\n      <Button\n        style={{margin: 12}}\n        variant=\"contained\"\n        onClick={handleAddCondition}\n        startIcon={<AddIcon/>}>\n        OR\n      </Button>\n    </div>\n  );\n}\n","import { getJson } from \"./index\";\n\nexport function fetchFormulaFields() {\n  return getJson('/formula/fields/');\n}\n\n","import _ from 'lodash';\nimport React, { Component } from 'react';\nimport { withRouter } from 'react-router';\nimport { Link } from '../shared';\nimport { fetchOntologyCategories } from '../../api/mockedApi/ontologies';\nimport {\n  statusInCanadaOptions, educationLevelOptions,\n  serviceSharedWithOptions, serviceTypeOptions\n} from '../../store/defaults'\nimport GeneralField from '../shared/fields/GeneralField'\nimport SelectField from '../shared/fields/SelectField'\nimport RadioField from '../shared/fields/RadioField'\nimport MultiSelectField from '../shared/fields/MultiSelectField';\nimport { formatLocation } from '../../helpers/location_helpers.js';\nimport { Validator } from \"../../helpers\";\n\n// redux\nimport { connect } from 'react-redux'\nimport { createService, updateService } from '../../api/mockedApi/services'\nimport { fetchProviders } from '../../api/mockedApi/providers';\nimport { ACTION_SUCCESS } from '../../store/defaults.js';\n\nimport { Container, Divider, Typography, Button, Alert } from \"@mui/material\";\nimport { withStyles } from \"@mui/styles\";\nimport LocationFieldGroup from \"../shared/LocationFieldGroup\";\nimport EligibilityCondition from './EligibilityCondition'\nimport { transformToBackendType, transformToFrontendType } from '../../helpers/formulaHelpers';\n\nconst styles = {\n  root: {\n    width: '80%'\n  },\n  divider: {\n    margin: '20px 0',\n  },\n  errorText: {\n    color: '#e41919'\n  },\n  title: {\n    fontWeight: 600,\n  }\n};\n\nclass ServiceForm extends Component {\n  constructor(props) {\n    super(props);\n    let service = {};\n    if (this.props.match.params.id) {\n      service = this.props.servicesById[this.props.match.params.id];\n    }\n\n    this.state = {\n      errors: {},\n      serviceId: service.id,\n      mode: (service.id) ? 'edit' : 'new',\n      form: {\n        name: service.name || '',\n        type: service.type || '',\n        desc: service.desc || '',\n        category: service.category || '',\n        available_from: service.available_from || '',\n        available_to: service.available_to || '',\n        languages: service.languages || [],\n        max_capacity: service.max_capacity || '',\n        current_capacity: service.current_capacity || 0,\n        frequency: service.frequency || '',\n        billable: service.billable || 'No',\n        price: service.price || '',\n        method_of_delivery: service.method_of_delivery || '',\n        method_of_registration: service.method_of_registration || '',\n        registration: service.registration || '',\n        email: service.email || '',\n        primary_phone_number: service.primary_phone_number || '',\n        alt_phone_number: service.alt_phone_number || '',\n        location: Object.assign({\n          id: '',\n          street_address: '',\n          apt_number: '',\n          city: '',\n          province: '',\n          postal_code: ''\n        }, service.location),\n        location_same_as_provider: service.location_same_as_provider || false,\n        share_with: service.share_with || [],\n        notes: service.notes || '',\n        eligibility_conditions: Object.assign({\n          'upper_age_limit': '',\n          'lower_age_limit': '',\n          'immigration_status': [],\n          'current_education_level': [],\n          'completed_education_level': []\n        }, service.eligibility_conditions),\n        provider_id: (service.provider && service.provider.id) || '',\n        is_public: service.is_public || false,\n        /**\n         * @type {[{condition_clauses: [field_name, clauses: [{left_operand, right_operand, operator}]]}]}\n         **/\n        eligibility_criteria: transformToFrontendType(service.eligibility_criteria) || []\n      }\n    };\n\n    this.props.dispatch(fetchOntologyCategories('services'));\n    this.props.dispatch(fetchOntologyCategories('languages'));\n    this.props.dispatch(fetchProviders());\n  }\n\n  formValChange = (name, render) => e => {\n    const {value} = e.target;\n    const splits = name.split('.');\n    const {form} = this.state;\n    if (splits.length === 1) {\n      form[name] = value;\n    } else {\n      let parent = this.state.form;\n      for (let i = 0; i < splits.length - 1; i++) {\n        parent = parent[splits[i]];\n      }\n      parent[splits[splits.length - 1]] = value || '';\n    }\n    if (render) this.setState(state => ({form: {...state.form}}));\n  };\n\n  submit = () => {\n    console.log(this.state.form);\n    let form = Object.assign({}, this.state.form);\n    form['eligibility_conditions']['age'] = [\n      form['eligibility_conditions']['lower_age_limit'] || null,\n      form['eligibility_conditions']['upper_age_limit'] || null\n    ];\n    delete form['eligibility_conditions']['lower_age_limit'];\n    delete form['eligibility_conditions']['upper_age_limit'];\n\n    form.eligibility_criteria = transformToBackendType(form.eligibility_criteria);\n\n    if (this.validateForm()) {\n      if (this.state.mode === 'edit') {\n        this.props.dispatch(\n          updateService(this.state.serviceId, form, (status, err, serviceId) => {\n            if (status === ACTION_SUCCESS) {\n              this.props.history.push('/services');\n              this.forceUpdate()\n            }\n          }));\n      } else {\n        this.props.dispatch(\n          createService(this.state.form, (status, err, serviceId) => {\n            this.props.history.push('/services');\n            this.forceUpdate()\n          }));\n      }\n    }\n  };\n\n  validateForm = () => {\n\n    let errors = {};\n    let formIsValid = true;\n    if (!this.state.form.provider_id) {\n      formIsValid = false;\n      errors[\"provider_id\"] = \"*Please enter a provider.\";\n    }\n\n    if (!this.state.form.type) {\n      formIsValid = false;\n      errors[\"type\"] = \"*Please enter the type.\";\n    }\n\n    if (!this.state.form.name) {\n      formIsValid = false;\n      errors[\"name\"] = \"*Please enter the name.\";\n    }\n\n    if (!this.state.form.category) {\n      formIsValid = false;\n      errors[\"category\"] = \"*Please enter the category.\";\n    }\n\n    if (this.state.form.primary_phone_number) {\n      const errMsg = Validator.phone(this.state.form.primary_phone_number);\n      if (errMsg) {\n        errors['primary_phone_number'] = \"*\" + errMsg;\n      }\n    }\n\n    if (this.state.form.alt_phone_number) {\n      const errMsg = Validator.phone(this.state.form.alt_phone_number);\n      if (errMsg) {\n        errors['alt_phone_number'] = \"*\" + errMsg;\n      }\n    }\n\n    if (this.state.form.email) {\n      const errMsg = Validator.email(this.state.form.email);\n      if (errMsg) {\n        errors['email'] = \"*\" + errMsg;\n      }\n    }\n\n    if (this.state.form.location.postal_code) {\n      const errMsg = Validator.postalCode(this.state.form.location.postal_code);\n      if (errMsg) {\n        errors['postal_code'] = \"*\" + errMsg;\n      }\n    }\n\n    this.setState({\n      errors: errors\n    });\n\n    return formIsValid;\n\n  };\n\n  render() {\n    const {classes} = this.props;\n    const p = this.props;\n    const formTitle = (this.state.mode === 'edit') ?\n      'Edit Service Profile' : 'New Service';\n\n    let provider, provider_locations;\n    if (isInt(this.state.form.provider_id)) {\n      // assumption: this.state.form.provider_id should be an integer\n      // Delete this condition check if the assumption is no longer needed\n      provider = this.props.providersById && this.props.providersById.providersById[this.state.form.provider_id];\n      provider_locations = provider.other_addresses ? provider.other_addresses.concat([provider.main_address]) : []\n    }\n\n    const locations = {}, location2Obj = {};\n    if (provider_locations) provider_locations.forEach((address, index) => {\n      const loc = formatLocation(address);\n      locations[loc] = loc;\n      location2Obj[loc] = address;\n    });\n\n    return (\n      <Container className={classes.root}>\n        <Typography variant=\"h5\" className={classes.title}>\n          {formTitle}\n        </Typography>\n\n        {this.state.showAlert && this.state.error_messages.map((message, index) =>\n          <Alert key={index} severity=\"error\">{message}</Alert>)}\n\n        <Divider className={classes.divider}/>\n        <Typography variant=\"h5\">\n          Service Information\n        </Typography>\n        <SelectField\n          label=\"Provider\"\n          options={_.reduce(p.providers, (map, provider) => {\n            if (provider.type === 'Individual') {\n              map[provider.id] = provider.profile && provider.profile.first_name + \" \" + provider.profile.last_name;\n            } else {\n              map[provider.id] = provider.company\n            }\n            return map;\n          }, {})}\n          value={this.state.form.provider_id}\n          onChange={this.formValChange('provider_id')}\n          required\n        />\n        <div className={classes.errorText}>{this.state.errors.provider_id}</div>\n        <Link to={'/providers'} color>\n          <Typography>\n            Add new provider\n          </Typography>\n        </Link>\n        <SelectField\n          label=\"Type\"\n          options={serviceTypeOptions}\n          value={this.state.form.type}\n          onChange={this.formValChange('type')}\n          required\n        />\n        <div className={classes.errorText}>{this.state.errors.type}</div>\n        <GeneralField\n          label=\"Name\"\n          type=\"text\"\n          value={this.state.form.name}\n          onChange={this.formValChange('name')}\n          required\n        />\n        <div className={classes.errorText}>{this.state.errors.name}</div>\n        <GeneralField\n          label=\"Description\"\n          type=\"text\"\n          value={this.state.form.desc}\n          onChange={this.formValChange('desc')}\n        />\n        <SelectField\n          label=\"Category\"\n          options={p.servicesCategories}\n          value={this.state.form.category}\n          onChange={this.formValChange('category')}\n          required\n        />\n        <div className={classes.errorText}>{this.state.errors.category}</div>\n        <GeneralField\n          label=\"Available from\"\n          type=\"date\"\n          value={this.state.form.available_from}\n          onChange={this.formValChange('available_from')}\n        />\n        <GeneralField\n          label=\"Available until\"\n          type=\"date\"\n          value={this.state.form.available_to}\n          onChange={this.formValChange('available_to')}\n        />\n        <MultiSelectField\n          label=\"Languages\"\n          options={p.languagesCategories}\n          value={this.state.form.languages}\n          onChange={this.formValChange('languages')}\n        />\n        <GeneralField\n          label=\"Max Capacity\"\n          type=\"number\"\n          value={this.state.form.max_capacity}\n          min=\"0\"\n          onChange={this.formValChange('max_capacity')}\n        />\n        {parseInt(this.state.form.max_capacity, 10) > 0 &&\n        <GeneralField\n          label=\"Current Capacity\"\n          type=\"number\"\n          value={this.state.form.current_capacity}\n          min=\"0\"\n          onChange={this.formValChange('current_capacity')}\n        />\n        }\n        <SelectField\n          label=\"Frequency\"\n          value={this.state.form.frequency}\n          onChange={this.formValChange('frequency')}\n          options={['Weekly', 'Biweekly', 'Monthly', 'Non-repeated']}\n        />\n        <RadioField\n          label=\"Billable\"\n          value={this.state.form.billable}\n          onChange={this.formValChange('billable', true)}\n          options={{Yes: 'Yes', No: 'No'}}\n        >\n        </RadioField>\n\n        {this.state.form.billable === \"Yes\" &&\n        <GeneralField\n          label=\"Price\"\n          type=\"text\"\n          value={this.state.form.price}\n          onChange={this.formValChange('price')}\n        />}\n\n        <SelectField\n          label=\"Method of delivery\"\n          value={this.state.form.method_of_delivery}\n          onChange={this.formValChange('method_of_delivery')}\n          options={{\n            Online: 'Online',\n            'One on one (In person)': 'One on one (In person)',\n            Group: 'Group (In person)'\n          }} // In person\n        />\n\n        <SelectField\n          label=\"Method of registration\"\n          value={this.state.form.method_of_registration}\n          onChange={this.formValChange('method_of_registration')}\n          options={['Self registration', 'Registration by social worker', 'No registration']}\n        />\n\n        <SelectField\n          label=\"Registration\"\n          placeholder=\"select\"\n          value={this.state.form.registration}\n          onChange={this.formValChange('registration')}\n          options={['Online', 'In person', 'By phone']}\n        />\n\n        <Divider className={classes.divider}/>\n        <Typography variant=\"h5\">\n          Eligibility\n        </Typography>\n        <EligibilityCondition\n          value={this.state.form.eligibility_criteria}\n          formValChange={this.formValChange('eligibility_criteria')}\n        />\n        <MultiSelectField\n          label=\"Immigration Status\"\n          options={statusInCanadaOptions}\n          value={this.state.form.eligibility_conditions.immigration_status}\n          onChange={this.formValChange('eligibility_conditions.immigration_status')}\n        />\n        <GeneralField\n          label=\"Age greater than\"\n          type=\"text\"\n          value={this.state.form.eligibility_conditions.lower_age_limit}\n          onChange={this.formValChange('eligibility_conditions.lower_age_limit')}\n        />\n        <GeneralField\n          id=\"upper_age_limit\"\n          label=\"Age less than\"\n          type=\"text\"\n          value={this.state.form.eligibility_conditions.upper_age_limit}\n          onChange={this.formValChange('eligibility_conditions.upper_age_limit')}\n        />\n        <MultiSelectField\n          label=\"Current Education\"\n          options={educationLevelOptions}\n          value={this.state.form.eligibility_conditions.current_education_level}\n          onChange={this.formValChange('eligibility_conditions.current_education_level')}\n        />\n        <MultiSelectField\n          label=\"Completed Education Level\"\n          options={educationLevelOptions}\n          value={this.state.form.eligibility_conditions.completed_education_level}\n          onChange={this.formValChange('eligibility_conditions.completed_education_level')}\n        />\n        <Divider className={classes.divider}/>\n        <Typography variant=\"h5\">\n          Contact Information\n        </Typography>\n        <GeneralField\n          label=\"Contact Person Email\"\n          type=\"email\"\n          value={this.state.form.email}\n          onChange={this.formValChange('email')}\n        />\n        <div className={classes.errorText}>{this.state.errors.email}</div>\n        <GeneralField\n          label=\"Telephone\"\n          type=\"tel\"\n          value={this.state.form.primary_phone_number}\n          onChange={this.formValChange('primary_phone_number')}\n        />\n        <div className={classes.errorText}>{this.state.errors.primary_phone_number}</div>\n        <GeneralField\n          label=\"Alternative Phone Number\"\n          type=\"tel\"\n          value={this.state.form.alt_phone_number}\n          onChange={this.formValChange('alt_phone_number')}\n        />\n        <div className={classes.errorText}>{this.state.errors.alt_phone_number}</div>\n        <RadioField\n          label=\"Location\"\n          options={{'Same as provider': true, 'Other': false}}\n          onChange={this.formValChange('location_same_as_provider', true)}\n          value={this.state.form.location_same_as_provider}\n        />\n\n        {this.state.form.location_same_as_provider && this.state.form.provider_id &&\n        <div>\n          <RadioField\n            label=\"Select the location this service is provided at\"\n            value={this.state.form.location}\n            options={locations}\n            onChange={(e) => {\n              const {form} = this.state;\n              form.location = {...locations[e.target.value]};\n              this.formValChange('location');\n            }}\n          />\n          {!_.includes(_.map(provider_locations, 'id'), this.state.form.location.id) &&\n          <Typography style={{marginTop: 10}}>\n            {`The current location of service is at\n                          ${formatLocation(this.state.form.location)}, which has\n                          been removed from provider locations. Please select a\n                          new location.`}\n          </Typography>\n          }\n        </div>\n        }\n        {!this.state.form.location_same_as_provider &&\n        <LocationFieldGroup\n          key=\"address\"\n          address={this.state.form.location}\n          errMsg={this.state.errors}\n        />\n        }\n        <RadioField\n          label=\"Public?\"\n          options={{'Yes': true, 'No': false}}\n          onChange={this.formValChange('is_public')}\n          value={this.state.form.is_public}\n        />\n        <Divider className={classes.divider}/>\n        <Typography variant=\"h5\">\n          Other Information\n        </Typography>\n        <MultiSelectField\n          label=\"Share with\"\n          options={serviceSharedWithOptions}\n          value={this.state.form.share_with}\n          onChange={this.formValChange('share_with')}\n        />\n        <GeneralField\n          label=\"Notes\"\n          type=\"text\"\n          value={this.state.form.notes}\n          onChange={this.formValChange('notes')}\n          multiline\n          variant=\"outlined\"\n          fullWidth\n        />\n        <Button onClick={this.submit} variant=\"outlined\" color=\"primary\" style={{margin: '12px 0'}}>\n          Submit\n        </Button>\n      </Container>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    servicesById: state.services.byId,\n    servicesCategories: state.ontology.services.categories,\n    categoriesLoaded: state.ontology.services.loaded,\n    languagesCategories: state.ontology.languages.categories,\n    languagesLoaded: state.ontology.languages.loaded,\n    providers: state.providers.filteredProviders || [],\n    providersById: state.providers.byId,\n    providersLoaded: state.providers.loaded,\n    providerIndex: state.providers.index\n  }\n};\n\nfunction isInt(value) {\n  return !isNaN(value) && \n         parseInt(Number(value)) === value && \n         !isNaN(parseInt(value, 10));\n}\n\nexport default connect(mapStateToProps)(withRouter(withStyles(styles)(ServiceForm)));\n","import React from 'react'\nimport { fetchGoods, deleteGood } from '../store/actions/goodActions.js'\nimport { GenericPage, Link } from \"./shared\";\n\nconst TYPE = 'goods';\n\nconst formatProvider = ({provider}) => {\n  return provider.type === 'Organization' ? provider.company\n    : (provider.profile ? `${provider.profile.first_name} ${provider.profile.last_name}` : 'Not provided')\n};\n\n// mui-table column configurations\n// TODO: Add custom print function for address\nconst columnsWithoutOptions = [\n  {\n    name: 'id',\n    options: {\n      sort: false,\n      viewColumns: false,\n      display: 'excluded',\n      searchable: false,\n      filter: false,\n    }\n  },\n  {\n    name: 'name',\n    label: 'Name',\n    options: {\n      sort: true,\n      customBodyRender: (data, {rowData}) => {\n        return <Link color to={`/${TYPE}/${rowData[0]}`}>{data}</Link>\n      }\n    }\n  },\n  {\n    name: 'provider',\n    label: 'Provider',\n    options: {\n      sort: true,\n      customBodyRender: provider => {\n        return (\n          <Link color to={`/${TYPE}/${provider.id}`}>\n            {formatProvider({provider})}\n          </Link>\n        );\n      }\n    }\n  },\n  {\n    name: 'desc',\n    label: 'Description',\n  },\n  {\n    name: 'category',\n    label: 'Category'\n  }\n];\n\nexport default function Goods() {\n\n  const nameFormatter = good => good.name;\n\n  const generateMarkers = (goods, pageNumber, rowsPerPage) => {\n    // TODO: verify this works as expected\n    goods.slice((pageNumber - 1) * rowsPerPage, pageNumber * rowsPerPage)\n      .map(good => ({\n        position: {lat: Number(good.location.lat), lng: Number(good.location.lng)},\n        title: nameFormatter(good),\n        link: `/${TYPE}/${good.id}`,\n        content: good.desc,\n      })).filter(client => client.position.lat && client.position.lng);\n  };\n\n  return (\n    <GenericPage\n      type={TYPE}\n      columnsWithoutOptions={columnsWithoutOptions}\n      fetchData={fetchGoods}\n      deleteItem={deleteGood}\n      generateMarkers={generateMarkers}\n      nameFormatter={nameFormatter}\n    />\n  )\n}\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\n\n// redux\nimport { connect } from 'react-redux'\nimport { fetchGood } from '../../store/actions/goodActions.js'\n\nimport { formatLocation } from '../../helpers/location_helpers'\n\nimport { Table, Button } from 'react-bootstrap';\nimport { Print } from \"@mui/icons-material\";\n\nclass Good extends Component {\n  componentWillMount() {\n    const id = this.props.match.params.id\n    this.props.dispatch(fetchGood(id));\n  }\n\n  render() {\n    const p = this.props,\n          id = p.match.params.id,\n          good = p.goodsById[id];\n\n    return (\n      <div className=\"content client\">\n        <h3>Good Profile</h3>\n        <Link to={`/goods/${good.id}/edit`}>\n          <Button bsStyle=\"primary\">\n            Edit\n          </Button>\n        </Link>{' '}\n        <Button bsStyle=\"primary\" onClick={() => window.print()} className=\"print-button\">\n          <Print fontSize=\"small\"/>\n        </Button>\n\n        { good && good.goodsLoaded &&\n          <Table striped bordered condensed hover>\n            <tbody>\n              <tr>\n                <td><b>Name</b></td>\n                <td>{good.name}</td>\n              </tr>\n              <tr>\n                <td><b>Description</b></td>\n                <td>{good.desc}</td>\n              </tr>\n              <tr>\n                <td><b>Category</b></td>\n                <td>{good.category}</td>\n              </tr>\n              <tr>\n                <td><b>Available from</b></td>\n                <td>{good.available_from}</td>\n              </tr>\n              <tr>\n                <td><b>Available until</b></td>\n                <td>{good.available_to}</td>\n              </tr>\n              <tr>\n                <td><b>Transportation</b></td>\n                <td>{good.transportation}</td>\n              </tr>\n              <tr>\n                <td><b>Condition</b></td>\n                <td>{good.condition}</td>\n              </tr>\n              <tr>\n                <td><b>Material</b></td>\n                <td>{good.material}</td>\n              </tr>\n              <tr>\n                <td><b>Quantity</b></td>\n                <td>{good.quantity}</td>\n              </tr>\n              <tr>\n                <td><b>Length</b></td>\n                <td>{good.length}</td>\n              </tr>\n              <tr>\n                <td><b>Width</b></td>\n                <td>{good.width}</td>\n              </tr>\n              <tr>\n                <td><b>Height</b></td>\n                <td>{good.height}</td>\n              </tr>\n              <tr>\n                <td><b>Diameter</b></td>\n                <td>{good.diameter}</td>\n              </tr>\n              <tr>\n                <td><b>Contact Person Email</b></td>\n                <td>{good.email}</td>\n              </tr>\n              <tr>\n                <td><b>Contact Person Phone</b></td>\n                <td>{good.primary_phone_number}</td>\n              </tr>\n              <tr>\n                <td><b>Secondary Phone</b></td>\n                <td>{good.alt_phone_number}</td>\n              </tr>\n              <tr>\n                <td><b>Location</b></td>\n                <td>{formatLocation(good.location)}</td>\n              </tr>\n              <tr>\n                <td><b>Share with</b></td>\n                <td>{(good.share_with || []).join(', ')}</td>\n              </tr>\n              <tr>\n                <td><b>Notes</b></td>\n                <td>{good.notes}</td>\n              </tr>\n              <tr>\n                <td><b>Provider</b></td>\n                <td>\n                  <Link to={`/provider/${good.provider.id}`}>\n                    {`${good.provider.profile.first_name} ${good.provider.profile.last_name}`}\n                  </Link>\n                </td>\n              </tr>\n            </tbody>\n          </Table>\n        }\n\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return { \n    goodsById: state.goods.byId,\n    goodLoaded: state.goods.indexLoaded \n  }  \n}\n\nexport default connect(\n  mapStateToProps\n)(Good);\n","import React, { Component } from 'react';\nimport { withRouter } from 'react-router';\nimport { Link } from 'react-router-dom';\nimport { fetchOntologyCategories } from '../../store/actions/ontologyActions.js';\nimport _ from 'lodash';\nimport { provinceOptions } from '../../store/defaults';\n\n// redux\nimport { connect } from 'react-redux'\nimport SelectField from '../shared/fields/SelectField'\nimport GeneralField from '../shared/fields/GeneralField'\nimport { createGood, updateGood, GOOD_SUCCESS } from '../../store/actions/goodActions.js'\nimport { fetchProviders } from '../../store/actions/providerActions.js'\nimport RadioField from '../shared/fields/RadioField'\nimport { formatLocation } from '../../helpers/location_helpers.js';\n\n\nimport { Button, Form, FormGroup, FormControl, FormLabel, Col, Row } from 'react-bootstrap';\n\nclass GoodForm extends Component {\n  constructor(props) {\n    super(props);\n    let good = {};\n    if (this.props.match.params.id) {\n      good = this.props.goodsById[this.props.match.params.id];\n    }\n\n    this.state = {\n      goodId: good.id,\n      mode: (good.id) ? 'edit' : 'new',\n      is_provider_location: false,\n      form: {\n        name: good.name || '',\n        desc: good.desc || '',\n        category: good.category || '',\n        available_from: good.available_from || '',\n        available_to: good.available_to || '',\n        transportation: good.transportation || '',\n        condition: good.condition || '',\n        material: good.material || '',\n        quantity: good.quantity || '',\n        length: good.length || '',\n        width: good.width || '',\n        height: good.height || '',\n        diameter: good.diameter || '',\n        email: good.email || '',\n        primary_phone_number: good.primary_phone_number || '',\n        alt_phone_number: good.alt_phone_number || '',\n        location: Object.assign({\n          street_address: '',\n          apt_number: '',\n          city: '',\n          province: '',\n          postal_code: ''\n        }, good.location),\n        share_with: good.share_with || '',\n        notes: good.notes || '',\n        provider_id: (good.provider && good.provider.id) || ''\n      }\n    }\n\n    this.formValChange = this.formValChange.bind(this);\n    this.locationChange = this.locationChange.bind(this);\n    this.submit = this.submit.bind(this);\n    this.indicatorChange = this.indicatorChange.bind(this);\n  }\n\n  componentWillMount() {\n    this.props.dispatch(fetchOntologyCategories('goods'));\n    this.props.dispatch(fetchProviders());\n  }\n\n  formValChange(e, id=e.target.id) {\n    let nextForm;\n    if (id === 'location') {\n      nextForm = {...this.state.form, [id]: JSON.parse(e.target.value)};\n    }\n    else {\n      nextForm = {...this.state.form, [id]: e.target.value};\n    }\n    this.setState({ form: nextForm });\n  }\n\n  locationChange(e) {\n    let nextForm = _.clone(this.state.form);\n    nextForm['location'][e.target.id] = e.target.value\n    this.setState({ form: nextForm });\n  }\n\n  indicatorChange(e, id) {\n    this.setState({ [id] : JSON.parse(e.target.value) });\n  }\n\n  submit() {\n    let form = Object.assign({}, this.state.form);\n    if (this.state.mode === 'edit') {\n      this.props.dispatch(\n        updateGood(this.state.goodId, form, (status, err, goodId) => {\n        if (status === GOOD_SUCCESS) {\n          this.props.history.push('/goods/')\n        } else {\n          const error_messages =\n            _.reduce(JSON.parse(err.message), (result, error_messages, field) => {\n              const titleizedField = (field.charAt(0).toUpperCase() + field.slice(1))\n                .split('_').join(' ')\n              _.each(error_messages, message => {\n                result.push(message.replace('This field', titleizedField))\n              })\n              return result;\n            }, [])\n          this.setState({ showAlert: true, error_messages: error_messages });\n        }\n      }));\n    } else {\n      this.props.dispatch(\n        createGood(this.state.form, (status, err, goodId) => {\n        if (status === GOOD_SUCCESS) {\n          this.props.history.push('/goods/')\n        } else {\n          const error_messages =\n            _.reduce(JSON.parse(err.message), (result, error_messages, field) => {\n              const titleizedField = (field.charAt(0).toUpperCase() + field.slice(1))\n                .split('_').join(' ')\n              _.each(error_messages, message => {\n                result.push(message.replace('This field', titleizedField))\n              })\n              return result;\n            }, [])\n          this.setState({ showAlert: true, error_messages: error_messages });\n        }\n      }));\n    }\n  }\n\n  render() {\n    const p = this.props;\n\n    const formTitle = (this.state.mode === 'edit') ?\n      'Edit Good Profile' : 'New Good'\n\n    let provider;\n    if (this.state.form.provider_id) {\n      provider = this.props.providersById && this.props.providersById[this.state.form.provider_id];\n    }\n\n    return (\n      <Row className=\"content\">\n        <Col sm={12}>\n          <h3>{formTitle}</h3>\n          <hr />\n        </Col>\n        <Col sm={12}>\n            <Form horizontal>\n            {this.state.showAlert &&\n              <Col sm={12} className=\"flash-error\">\n                {_.map(this.state.error_messages, (message, index) => {\n                  return (\n                    <li key={index}>\n                      {message}\n                    </li>\n                  );\n                })}\n              </Col>\n            }\n            <SelectField\n              id=\"provider_id\"\n              label=\"Provider\"\n              options={_.reduce(p.providers, (map, provider) => {\n                if (provider.type === 'Individual') {\n                  map[provider.id] = provider.profile.first_name + \" \" + provider.profile.last_name;\n                } else {\n                  map[provider.id] = provider.company\n                }\n                return map;\n              }, {})}\n              componentClass=\"select\"\n              value={this.state.form.provider_id}\n              onChange={this.formValChange}\n              required\n            />\n\n            <FormGroup>\n              <Col smOffset={3} sm={9}>\n                <Link to=\"/providers/new\">\n                  <Button>\n                    Add new provider\n                  </Button>\n                </Link>\n              </Col>\n            </FormGroup>\n\n            <GeneralField\n              id=\"name\"\n              label=\"Name\"\n              type=\"text\"\n              value={this.state.form.name}\n              onChange={this.formValChange}\n              required\n            />\n\n            <FormGroup controlId=\"desc\">\n              <Col componentClass={FormLabel} sm={3}>\n                Description\n              </Col>\n              <Col sm={9}>\n                <FormControl type=\"text\" value={this.state.form.desc} onChange={this.formValChange} />\n              </Col>\n            </FormGroup>\n\n            <FormGroup controlId=\"category\">\n              <Col componentClass={FormLabel} sm={3}>\n                Category *\n              </Col>\n              <Col sm={9}>\n                <FormControl\n                  componentClass=\"select\"\n                  placeholder=\"select\"\n                  value={this.state.form.category}\n                  onChange={this.formValChange}\n                  required\n                >\n                  <option value=\"select\">-- Not Set --</option>\n                  <option value=\"Furniture\">Furniture</option>\n                  <option value=\"Food\">Food</option>\n                  <option value=\"Clothing\">Clothing</option>\n                  <option value=\"Utensils\">Utensils</option>\n                  <option value=\"Books\">Books</option>\n                </FormControl>\n              </Col>\n            </FormGroup>\n\n            <FormGroup controlId=\"transportation\">\n              <Col componentClass={FormLabel} sm={3}>\n                Transportation\n              </Col>\n              <Col sm={9}>\n                <FormControl type=\"text\" value={this.state.form.transportation} onChange={this.formValChange} />\n              </Col>\n            </FormGroup>\n\n            <FormGroup controlId=\"available_from\">\n              <Col componentClass={FormLabel} sm={3}>\n                Available from\n              </Col>\n              <Col sm={9}>\n                <FormControl\n                  type=\"date\"\n                  value={this.state.form.available_from}\n                  onChange={this.formValChange}\n                />\n              </Col>\n            </FormGroup>\n\n            <FormGroup controlId=\"available_to\">\n              <Col componentClass={FormLabel} sm={3}>\n                Available until\n              </Col>\n              <Col sm={9}>\n                <FormControl\n                  type=\"date\"\n                  value={this.state.form.available_to}\n                  onChange={this.formValChange}\n                />\n              </Col>\n            </FormGroup>\n\n            <FormGroup controlId=\"condition\">\n              <Col componentClass={FormLabel} sm={3}>\n                Condition\n              </Col>\n              <Col sm={9}>\n                <FormControl type=\"text\" value={this.state.form.condition} onChange={this.formValChange} />\n              </Col>\n            </FormGroup>\n\n            <FormGroup controlId=\"material\">\n              <Col componentClass={FormLabel} sm={3}>\n                Material\n              </Col>\n              <Col sm={9}>\n                <FormControl type=\"text\" value={this.state.form.material} onChange={this.formValChange} />\n              </Col>\n            </FormGroup>\n\n            <FormGroup controlId=\"quantity\">\n              <Col componentClass={FormLabel} sm={3}>\n                Quantity\n              </Col>\n              <Col sm={9}>\n                <FormControl\n                  type=\"text\"\n                  value={this.state.form.quantity}\n                  placeholder=\"\"\n                  onChange={this.formValChange}\n                />\n              </Col>\n            </FormGroup>\n\n            <FormGroup controlId=\"length\">\n              <Col componentClass={FormLabel} sm={3}>\n                Length\n              </Col>\n              <Col sm={9}>\n                <FormControl\n                  type=\"text\"\n                  value={this.state.form.length}\n                  placeholder=\"\"\n                  onChange={this.formValChange}\n                />\n              </Col>\n            </FormGroup>\n\n            <FormGroup controlId=\"width\">\n              <Col componentClass={FormLabel} sm={3}>\n                Width\n              </Col>\n              <Col sm={9}>\n                <FormControl\n                  type=\"text\"\n                  value={this.state.form.width}\n                  placeholder=\"\"\n                  onChange={this.formValChange}\n                />\n              </Col>\n            </FormGroup>\n\n            <FormGroup controlId=\"height\">\n              <Col componentClass={FormLabel} sm={3}>\n                Height\n              </Col>\n              <Col sm={9}>\n                <FormControl\n                  type=\"text\"\n                  value={this.state.form.height}\n                  placeholder=\"\"\n                  onChange={this.formValChange}\n                />\n              </Col>\n            </FormGroup>\n\n            <FormGroup controlId=\"diameter\">\n              <Col componentClass={FormLabel} sm={3}>\n                Diameter\n              </Col>\n              <Col sm={9}>\n                <FormControl\n                  type=\"text\"\n                  value={this.state.form.diameter}\n                  placeholder=\"\"\n                  onChange={this.formValChange}\n                />\n              </Col>\n            </FormGroup>\n\n            <GeneralField\n              id=\"email\"\n              label=\"Contact Person Email\"\n              type=\"email\"\n              value={this.state.form.email}\n              onChange={this.formValChange}\n              required\n            />\n            <GeneralField\n              id=\"primary_phone_number\"\n              label=\"Telephone\"\n              type=\"tel\"\n              value={this.state.form.primary_phone_number}\n              onChange={this.formValChange}\n              required\n            />\n            <GeneralField\n              id=\"alt_phone_number\"\n              label=\"Alternative Phone Number\"\n              type=\"tel\"\n              value={this.state.form.alt_phone_number}\n              onChange={this.formValChange}\n              required\n            />\n            <RadioField\n              id=\"is_provider_location\"\n              label=\"Location\"\n              options={{ 'Same as provider': true, 'Other': false }}\n              onChange={this.indicatorChange}\n              defaultChecked={this.state.is_provider_location}\n              required\n            />\n            {this.state.is_provider_location && this.state.form.provider_id &&\n              <div>\n                <FormGroup controlId=\"location\">\n                  <Col className=\"required\" componentClass={FormLabel} sm={3}>\n                    Select the location this good is provided at\n                  </Col>\n                  <Col sm={9}>\n                    <Form.Check\n                      name=\"provider_address\"\n                      value={JSON.stringify(provider.main_address)}\n                      onChange={(e) => this.formValChange(e, 'location')}\n                      type=\"radio\"\n                    >\n                      {formatLocation(provider.main_address)}\n                    </Form.Check>{' '}\n                    { provider.other_addresses.map((address, index) =>\n                    <Form.Check\n                      name=\"provider_address\"\n                      value={JSON.stringify(address)}\n                      onChange={(e) => this.formValChange(e, 'location')}\n                      key={index}\n                      type=\"radio\"\n                      >\n                      {formatLocation(address)}\n                    </Form.Check>\n                    )}\n                  </Col>\n                </FormGroup>\n              </div>\n            }\n            {!this.state.is_provider_location &&\n            <div>\n              <GeneralField\n                id=\"street_address\"\n                label=\"Street Address\"\n                type=\"text\"\n                value={this.state.form.location.street_address}\n                onChange={this.locationChange}\n              />\n              <GeneralField\n                id=\"apt_number\"\n                label=\"Apt. #\"\n                type=\"text\"\n                value={this.state.form.location.apt_number}\n                onChange={this.locationChange}\n              />\n              <GeneralField\n                id=\"city\"\n                label=\"City\"\n                type=\"text\"\n                value={this.state.form.location.city}\n                onChange={this.locationChange}\n              />\n              <SelectField\n                id=\"province\"\n                label=\"Province\"\n                options={provinceOptions}\n                componentClass=\"select\"\n                value={this.state.form.location.province}\n                onChange={this.locationChange}\n              />\n              <GeneralField\n                id=\"postal_code\"\n                label=\"Postal Code\"\n                type=\"text\"\n                value={this.state.form.location.postal_code}\n                onChange={this.locationChange}\n              />\n            </div>\n            }\n\n            <FormGroup controlId=\"share_with\">\n              <Col componentClass={FormLabel} sm={3}>\n                Share with\n              </Col>\n              <Col sm={9}>\n                <FormControl\n                  componentClass=\"select\"\n                  placeholder=\"select\"\n                  value={this.state.form.share_with}\n                  onChange={this.formValChange}\n                >\n                  <option value=\"select\">-- Not Set --</option>\n                  <option value=\"Private\">Private</option>\n                  <option value=\"Public\">Public</option>\n                  <option value=\"Boost Child & Youth Advocacy Centre\">Boost Child & Youth Advocacy Centre</option>\n                  <option value=\"Children's Aid Society of Toronto\">Children's Aid Society of Toronto</option>\n                  <option value=\"Abrigo Centre\">Abrigo Centre</option>\n                  <option value=\"Barbra Schlifer Commemorative Clinic\">Barbra Schlifer Commemorative Clinic</option>\n                  <option value=\"Durham Rape Crisis Centre\">Durham Rape Crisis Centre</option>\n                  <option value=\"Durham Children's Aid Society\">Durham Children's Aid Society</option>\n                  <option value=\"Alexandra Park Community Centre\">Alexandra Park Community Centre</option>\n                  <option value=\"Applegrove Community Complex\">Applegrove Community Complex</option>\n                  <option value=\"Albion Neighbourhood Goods\">Albion Neighbourhood Goods</option>\n                  <option value=\"Applegrove Community Complex\">Applegrove Community Complex</option>\n                  <option value=\"Kababayan Multicultural Centre\">Kababayan Multicultural Centre</option>\n                  <option value=\"Central Toronto Youth Goods\">Central Toronto Youth Goods</option>\n                  <option value=\"Covenant House Toronto\">Covenant House Toronto</option>\n                  <option value=\"Durham Youth Housing and Support Goods\">Durham Youth Housing and Support Goods</option>\n                  <option value=\"Eva's Initiatives\">Eva's Initiatives</option>\n                  <option value=\"Horizons for Youth\">Horizons for Youth</option>\n                  <option value=\"AIDS Committee of Durham Region\">AIDS Committee of Durham Region</option>\n                  <option value=\"Arab Community Centre of Toronto\">Arab Community Centre of Toronto</option>\n                  <option value=\"Pediatric Oncology Group of Ontario\">Pediatric Oncology Group of Ontario</option>\n                  <option value=\"Adventist community goods\">Adventist community goods</option>\n                  <option value=\"Aurora Food Pantry\">Aurora Food Pantry</option>\n                  <option value=\"Bluffs Food Bank\">Bluffs Food Bank</option>\n                  <option value=\"Brock Community Food Bank\">Brock Community Food Bank</option>\n                  <option value=\"Markham Food Bank\">Markham Food Bank</option>\n                  <option value=\"Parkdale Community Food Bank\">Parkdale Community Food Bank</option>\n                </FormControl>\n              </Col>\n            </FormGroup>\n\n            <FormGroup controlId=\"notes\">\n              <Col componentClass={FormLabel} sm={3}>\n                Notes\n              </Col>\n              <Col sm={9}>\n                <FormControl type=\"text\" value={this.state.form.notes} onChange={this.formValChange} />\n              </Col>\n            </FormGroup>\n\n            <FormGroup>\n              <Col smOffset={3} sm={9}>\n                <Button onClick={this.submit}>\n                  Submit\n                </Button>\n              </Col>\n            </FormGroup>\n          </Form>\n        </Col>\n      </Row>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    goodsById: state.goods.byId,\n    servicesCategories: state.ontology.services.categories,\n    categoriesLoaded: state.ontology.services.loaded,\n    providers: state.providers.filteredProviders || [],\n    providersById: state.providers.byId,\n    providersLoaded: state.providers.loaded,\n    providerIndex: state.providers.index\n  }\n}\n\nexport default connect(mapStateToProps)(withRouter(GoodForm));\n","import { getJson } from \"./index\";\n\nexport async function fetchAdminLogs() {\n  return getJson('/admin_logs/');\n}\n","import React, { useEffect, useState } from 'react';\n// redux\nimport { fetchAdminLogs } from '../api/adminLogApi';\nimport { Container } from \"@mui/material\";\nimport { Link, Loading, DataTable } from \"./shared\";\n\nfunction object_url(contentType, objectId) {\n  if (contentType === 'Person') {\n    return `/clients/${objectId}`\n  } else if (contentType === 'EligibilityCriteria') {\n    return `/eligibility-criteria/${objectId}`\n  }\n  return `/${contentType.toLowerCase()}s/${objectId}`\n}\n\nconst columns = [\n  {\n    label: 'Time',\n    body: ({action_time}) => new Date(action_time).toLocaleString()\n  },\n  {\n    label: 'Username',\n    body: ({user}) =>  <Link color to={`/users/${user.id}`}>\n      {user.username}\n    </Link>\n  },\n  {\n    label: 'Action',\n    body: ({action, object_id, object_repr}) => {\n      return (\n        <span>\n            {action + ' '}\n          <Link color to={object_url(object_repr, object_id)}>\n              {object_id}\n            </Link>\n          </span>\n      )\n    }\n  },\n  {\n    label: 'Message',\n    body: ({change_message: msg}) => {\n      if (msg) {\n        try {\n          msg = JSON.parse(msg);\n          if (msg.reason != null)\n            return 'Reason: ' + msg.reason;\n        } catch (e) {\n        }\n      }\n      return 'N/A';\n    }\n  }\n];\n\nexport default function AdminLogs() {\n  const [loading, setLoading] = useState(true);\n  const [data, setData] = useState([]);\n\n  useEffect(() => {\n    fetchAdminLogs().then(data => {\n      setData(data);\n      setLoading(false);\n    });\n  }, []);\n\n  if (loading)\n    return <Loading message={`Loading admin logs...`}/>;\n\n  return (\n    <Container>\n      <DataTable\n        title={\"Admin Logs\"}\n        data={data}\n        columns={columns}\n        idField=\"id\"\n      />\n    </Container>\n  );\n}\n","import _ from 'lodash';\nimport React, { Component } from 'react';\nimport { Bar as BarChart, Pie as PieChart } from 'react-chartjs';\nimport { Table, Button } from 'react-bootstrap';\nimport { Print } from \"@mui/icons-material\";\nimport { serverHost } from '../store/defaults.js';\nimport SelectField from './shared/fields/SelectField';\n// styles\nimport '../stylesheets/Reporting.scss';\n\nconst START_YEARS = [1931, 1941, 1951, 1961, 1971, 1981, 1991, 2001, 2011]\n\nexport default class Report extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      total_clients: 0,\n      number_of_clients_by_gender: {},\n      number_of_clients_by_birth_year: {},\n      number_of_clients_by_marital_status: {},\n      number_of_clients_by_language: {},\n      number_of_providers_by_status: {},\n      number_of_providers_by_type: {},\n      number_of_individual_providers_by_category: {},\n      selectedCategory: '',\n      selectedAttribute: '',\n    }\n    this.handleSelectChange = this.handleSelectChange.bind(this);\n  }\n\n  componentWillMount() {\n    const url = serverHost + '/reporting?years=' + START_YEARS;\n    fetch(url, {\n        method: 'get',\n        headers: new Headers({\n          'Authorization': `JWT ${localStorage.getItem('jwt_token')}`\n        }),\n      }).then(response => response.json())\n      .then(data => {\n        this.setState({\n          total_clients: data.total_clients,\n          number_of_clients_by_gender: data.number_of_clients_by_gender,\n          number_of_clients_by_birth_year: data.number_of_clients_by_birth_year,\n          number_of_clients_by_marital_status: data.number_of_clients_by_marital_status,\n          number_of_clients_by_language: data.number_of_clients_by_language,\n          number_of_providers_by_status: data.number_of_providers_by_status,\n          number_of_providers_by_type: data.number_of_providers_by_type,\n          number_of_individual_providers_by_category: data.number_of_individual_providers_by_category\n        })\n      }\n    );\n  }\n\n  handleSelectChange(e) {\n    this.setState({ [e.target.id]: e.target.value })\n  }\n\n  render() {\n    const reportingCategoryOptions = ['Clients', 'Providers', 'Services', 'Matches']\n\n    const attributeOptions = {\n      'Clients': ['Birth Year', 'Gender', 'Language', 'Marital Status'],\n      'Providers': ['Individuals by Category', 'Status', 'Type'],\n      'Services': ['Category', 'Type'],\n      'Matches': ['Time between selected and matched', 'Time between selected and fulfilled']\n\n    }\n\n    const year_labels = _.map(START_YEARS, (start_year) => {\n      return `${start_year}-${start_year + 9}`\n    });\n\n    const barChartDataBirthYear = {\n      labels: year_labels,\n      datasets: [{\n        data: Object.values(this.state.number_of_clients_by_birth_year),\n      }]\n    }\n\n    const barChartOptions = {\n      scales: {\n        yAxes: [{\n          ticks: {\n            beginAtZero:true\n          }\n        }]\n      }\n    }\n\n    const barChartDataLanguage = {\n      labels: Object.keys(this.state.number_of_clients_by_language),\n      datasets: [{\n        data: Object.values(this.state.number_of_clients_by_language),\n      }]\n    }\n\n    const pieChartDataGender = [\n      {\n        value: this.state.number_of_clients_by_gender[\"Female\"],\n        color:\"#F7464A\",\n        highlight: \"#FF5A5E\",\n        label: \"Female\"\n      },\n      {\n        value: this.state.number_of_clients_by_gender[\"Male\"],\n        color: \"#46BFBD\",\n        highlight: \"#5AD3D1\",\n        label: \"Male\"\n      },\n      {\n        value: this.state.number_of_clients_by_gender[\"Other\"],\n        color: \"#FDB45C\",\n        highlight: \"#FFC870\",\n        label: \"Other\"\n      }\n    ]\n\n    const pieChartDataProviderStatus = [\n      {\n        value: this.state.number_of_providers_by_status[\"Internal\"],\n        color: \"#46BFBD\",\n        highlight: \"#5AD3D1\",\n        label: \"Internal\"\n      },\n      {\n        value: this.state.number_of_providers_by_status[\"External\"],\n        color: \"#FDB45C\",\n        highlight: \"#FFC870\",\n        label: \"External\"\n      }\n    ]\n\n        const pieChartDataIndividualProviderCategory = [\n      {\n        value: this.state.number_of_individual_providers_by_category[\"Volunteer/Goods Donor\"],\n        color: \"#46BFBD\",\n        highlight: \"#5AD3D1\",\n        label: \"Volunteer/Goods Donor\"\n      },\n      {\n        value: this.state.number_of_individual_providers_by_category[\"Professional Service Provider\"],\n        color: \"#FDB45C\",\n        highlight: \"#FFC870\",\n        label: \"Professional Service Provider\"\n      }\n    ]\n\n    const pieChartDataProviderType = [\n      {\n        value: this.state.number_of_providers_by_type[\"Individual\"],\n        color: \"#46BFBD\",\n        highlight: \"#5AD3D1\",\n        label: \"Individual\"\n      },\n      {\n        value: this.state.number_of_providers_by_type[\"Organization\"],\n        color: \"#FDB45C\",\n        highlight: \"#FFC870\",\n        label: \"Organization\"\n      }\n    ]\n\n    const barChartDataMaritalStatus = {\n      labels: Object.keys(this.state.number_of_clients_by_marital_status),\n      datasets: [{\n        data: Object.values(this.state.number_of_clients_by_marital_status),\n      }]\n    }\n\n    const pieChartOptions = {\n      maintainAspectRatio: false,\n      responsive: false,\n      legend: {\n        display: true,\n        position: 'right',\n        labels: {\n          boxWidth: 10\n        }\n      }\n    }\n\n    return (\n      <div className=\"content client\">\n        <Button bsStyle=\"primary\" onClick={() => window.print()} className=\"print-button\">\n          <Print fontSize=\"small\"/>\n        </Button>\n        <SelectField\n          id='selectedCategory'\n          componentClass=\"select\"\n          label='Get a report on'\n          value={this.state.selectedCategory}\n          options={reportingCategoryOptions}\n          onChange={this.handleSelectChange}\n        />\n        <br></br>\n        <br></br>\n        <SelectField\n          id='selectedAttribute'\n          componentClass=\"select\"\n          label='Select attribute'\n          value={this.state.selectedAttribute}\n          options={(this.state.selectedCategory !== '')\n            ? attributeOptions[this.state.selectedCategory]\n            : []}\n          onChange={this.handleSelectChange}\n        />\n        <br></br>\n        <br></br>\n        <br></br>\n        <br></br>\n        {(this.state.selectedCategory === 'Clients' && this.state.selectedAttribute === 'Gender') &&\n          <GenderStats\n            data={pieChartDataGender}\n            options={pieChartOptions}\n            totalClientsCount={this.state.total_clients}\n            ClientsCountByGender={this.state.number_of_clients_by_gender}\n          />\n        }\n        {(this.state.selectedCategory === 'Clients' && this.state.selectedAttribute ==='Language') &&\n          <LanguageStats\n            data={barChartDataLanguage}\n            options={barChartOptions}\n            totalClientsCount={this.state.total_clients}\n            ClientsCountByLanguage={this.state.number_of_clients_by_language}\n          />\n        }\n        {(this.state.selectedCategory === 'Clients' && this.state.selectedAttribute === 'Marital Status') &&\n          <MaritalStatusStats\n            data={barChartDataMaritalStatus}\n            options={barChartOptions}\n            totalClientsCount={this.state.total_clients}\n            ClientsCountByMaritalStatus={this.state.number_of_clients_by_marital_status}\n          />\n        }\n        {(this.state.selectedCategory === 'Clients' && this.state.selectedAttribute === 'Birth Year') &&\n          <BirthYearStats\n            data={barChartDataBirthYear}\n            options={barChartOptions}\n            ClientsCountByBirthYear={this.state.number_of_clients_by_birth_year}\n          />\n        }\n        {(this.state.selectedCategory === 'Providers' && this.state.selectedAttribute === 'Status') &&\n          <ProviderStatusStats\n            data={pieChartDataProviderStatus}\n            options={pieChartOptions}\n            ProvidersCountByStatus={this.state.number_of_providers_by_status}\n          />\n        }\n        {(this.state.selectedCategory === 'Providers' && this.state.selectedAttribute === 'Type') &&\n          <ProviderTypeStats\n            data={pieChartDataProviderType}\n            options={pieChartOptions}\n            ProvidersCountByType={this.state.number_of_providers_by_type}\n          />\n        }\n        {(this.state.selectedCategory === 'Providers' && this.state.selectedAttribute === 'Individuals by Category') &&\n          <IndividualProviderCategoryStats\n            data={pieChartDataIndividualProviderCategory}\n            options={pieChartOptions}\n            IndividualProvidersCountByCategory={this.state.number_of_individual_providers_by_category}\n          />\n        }\n      </div>\n    );\n  }\n}\n\nfunction GenderStats({ data, options, totalClientsCount, ClientsCountByGender}) {\n  return (\n    <Table bordered condensed className=\"profile-table\">\n      <tbody>\n        <tr>\n          <td><b>Breakdown of clients by Gender</b></td>\n          <td>\n            <PieChart data={data} options={options} />\n            <div>\n              <b>Total = {totalClientsCount}</b>\n            </div>\n            {\n              _.map(ClientsCountByGender, (count, gender) => {\n                return (\n                  <div key={gender}>\n                    <b>{gender} = {count}</b>\n                  </div>\n                );\n              })\n            }\n          </td>\n        </tr>\n      </tbody>\n    </Table>\n  );\n}\n\nfunction ProviderStatusStats({ data, options, ProvidersCountByStatus}) {\n  return (\n    <Table bordered condensed className=\"profile-table\">\n      <tbody>\n        <tr>\n          <td><b>Breakdown of providers by Status</b></td>\n          <td>\n            <PieChart data={data} options={options} />\n            {\n              _.map(ProvidersCountByStatus, (count, status) => {\n                return (\n                  <div key={status}>\n                    <b>{status} = {count}</b>\n                  </div>\n                );\n              })\n            }\n          </td>\n        </tr>\n      </tbody>\n    </Table>\n  );\n}\n\nfunction IndividualProviderCategoryStats({ data, options, IndividualProvidersCountByCategory}) {\n  return (\n    <Table bordered condensed className=\"profile-table\">\n      <tbody>\n        <tr>\n          <td><b>Breakdown of individual providers by Category</b></td>\n          <td>\n            <PieChart data={data} options={options} />\n            {\n              _.map(IndividualProvidersCountByCategory, (count, status) => {\n                return (\n                  <div key={status}>\n                    <b>{status} = {count}</b>\n                  </div>\n                );\n              })\n            }\n          </td>\n        </tr>\n      </tbody>\n    </Table>\n  );\n}\n\nfunction ProviderTypeStats({ data, options, ProvidersCountByType}) {\n  return (\n    <Table bordered condensed className=\"profile-table\">\n      <tbody>\n        <tr>\n          <td><b>Breakdown of providers by type</b></td>\n          <td>\n            <PieChart data={data} options={options} />\n            {\n              _.map(ProvidersCountByType, (count, status) => {\n                return (\n                  <div key={status}>\n                    <b>{status} = {count}</b>\n                  </div>\n                );\n              })\n            }\n          </td>\n        </tr>\n      </tbody>\n    </Table>\n  );\n}\n\nfunction LanguageStats({ data, options, ClientsCountByLanguage}) {\n  return (\n    <Table bordered condensed className=\"profile-table\">\n      <tbody>\n        <tr>\n          <td><b>Breakdown of clients by Language</b></td>\n          <td>\n            <BarChart data={data} options={options} />\n            {\n              _.map(ClientsCountByLanguage, (count, first_language) => {\n                return (\n                  <div key={first_language}>\n                    <b>{first_language} = {count}</b>\n                  </div>\n                );\n              })\n            }\n          </td>\n        </tr>\n      </tbody>\n    </Table>\n  );\n}\nfunction MaritalStatusStats({ data, options, ClientsCountByMaritalStatus}) {\n  return (\n    <Table bordered condensed className=\"profile-table\">\n      <tbody>\n        <tr>\n          <td><b>Breakdown of clients by Marital Status</b></td>\n          <td>\n            <BarChart data={data} options={options} />\n            {\n              _.map(ClientsCountByMaritalStatus, (count, marital_status) => {\n                return (\n                  <div key={marital_status}>\n                    <b>{marital_status} = {count}</b>\n                  </div>\n                );\n              })\n            }\n          </td>\n        </tr>\n      </tbody>\n    </Table>\n  );\n}\n\nfunction BirthYearStats({ data, options, ClientsCountByBirthYear }) {\n  return (\n    <Table bordered condensed className=\"profile-table\">\n      <tbody>\n        <tr>\n          <td><b>Distribution of clients by Birth Year</b></td>\n          <td>\n            <BarChart data={data} options={options} />\n            {\n              _.map(ClientsCountByBirthYear, (count, startYear) => {\n                return (\n                  <div key={startYear}>\n                    <b>\n                      Clients born between {startYear} and {parseInt(startYear, 10) + 9} = {count}\n                    </b>\n                  </div>\n                );\n              })\n            }\n          </td>\n        </tr>\n      </tbody>\n    </Table>\n  );\n}\n","import React, { useEffect, useState } from 'react';\nimport { fetchEligibilities, deleteEligibility, createEligibility, updateEligibility } from '../../api/eligibilityApi';\nimport {\n  Chip, Container, IconButton, Dialog, DialogActions, DialogTitle, DialogContent,\n  Button, Box\n} from \"@mui/material\";\nimport { makeStyles } from \"@mui/styles\";\nimport { Add as AddIcon, Delete as DeleteIcon, Edit as EditIcon } from \"@mui/icons-material\";\nimport { DeleteModal, Loading, DataTable } from \"../shared\";\nimport GeneralField from \"../shared/fields/GeneralField\";\n\nconst useStyles = makeStyles(() => ({\n  button: {\n    padding: 4\n  }\n}));\n\nconst ADD_TITLE = 'Add Eligibility Criteria';\nconst EDIT_TITLE = 'Edit Eligibility Criteria';\n\nfunction AddEditDialog({open, title, value, handleConfirm, handleClose}) {\n  const [err, setErr] = useState({\n    title: '',\n  });\n\n  /**\n   * @returns {boolean} true if passed.\n   */\n  const check = () => {\n    const newErr = {};\n    if (value.title === '')\n      newErr.title = 'This field is required';\n    setErr(newErr);\n    return value.title !== '';\n  };\n\n  return (\n    <Dialog open={open} onClose={handleClose} fullWidth>\n      <DialogTitle>{title}</DialogTitle>\n      <DialogContent>\n        <GeneralField\n          autoFocus\n          label=\"Eligible criteria\"\n          value={value.title}\n          onChange={e => value.title = e.target.value}\n          error={!!err.title}\n          helperText={err.title}\n          fullWidth\n          InputLabelProps={{}}\n        />\n      </DialogContent>\n      <DialogActions>\n        <Button\n          onClick={() => {\n            if (check()) {\n              handleConfirm();\n            }\n          }}\n          color=\"primary\">\n          Confirm\n        </Button>\n        <Button onClick={handleClose}>\n          Cancel\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n}\n\nexport default function Eligibilities() {\n  const [state, setState] = useState({\n    loading: true,\n    data: [],\n    value: {},\n    selectedId: null,\n    deleteDialogTitle: '',\n    showDeleteDialog: false,\n    dialogTitle: '',\n    showAddEditDialog: false,\n  });\n  const classes = useStyles();\n\n  useEffect(() => {\n    fetchEligibilities().then(data => {\n      setState(state => ({...state, loading: false, data}));\n    });\n  }, []);\n\n  const showDeleteDialog = (id, title) => () => {\n    setState(state => ({\n      ...state, selectedId: id, showDeleteDialog: true,\n      deleteDialogTitle: 'Delete ' + title + ' ?'\n    }));\n  };\n\n  const shoeEditDialog = (title, id) => () => setState(state => ({\n    ...state,\n    selectedId: id,\n    value: {title, id},\n    showAddEditDialog: true,\n    dialogTitle: EDIT_TITLE,\n  }));\n\n  const showAddDialog = () => setState(state => ({\n    ...state,\n    value: {title: ''},\n    showAddEditDialog: true,\n    dialogTitle: ADD_TITLE,\n  }));\n\n  const handleAdd = async () => {\n    try {\n      const newItem = await createEligibility(state.value);\n      setState(state => ({\n        ...state, showAddEditDialog: false,\n        data: [...state.data, newItem]\n      }));\n    } catch (e) {\n      // TODO: show error\n      console.error(e);\n    }\n  };\n\n  const handleDelete = async (id, form) => {\n    try {\n      await deleteEligibility(id, form);\n      setState(state => ({\n        ...state, showDeleteDialog: false,\n        data: state.data.filter(item => item.id !== state.selectedId)\n      }));\n    } catch (e) {\n      // TODO: show error\n      console.error(e);\n    }\n  };\n\n  const handleEdit = async () => {\n    try {\n      const newItem = await updateEligibility(state.value.id, state.value);\n      setState(state => ({\n        ...state, showAddEditDialog: false,\n        data: state.data.map(item => item.id === state.selectedId ? newItem : item),\n      }));\n    } catch (e) {\n      // TODO: show error\n      console.error(e);\n    }\n  };\n\n  const columns = [\n    {\n      label: 'Title',\n      body: ({title}) => <Box sx={{width: '80%'}}>{title}</Box>\n    },\n    {\n      label: ' ',\n      body: ({id, title}) => {\n        return (\n          <span>\n              <IconButton\n                onClick={shoeEditDialog(title, id)}\n                className={classes.button}\n                size=\"large\">\n                <EditIcon fontSize=\"small\" color=\"primary\"/>\n              </IconButton>\n              <IconButton\n                onClick={showDeleteDialog(id, title)}\n                className={classes.button}\n                size=\"large\">\n                <DeleteIcon fontSize=\"small\" color=\"secondary\"/>\n              </IconButton>\n            </span>\n        );\n      }\n    }\n  ];\n\n  if (state.loading)\n    return <Loading message={`Loading eligibilities...`}/>;\n\n  return (\n    <Container>\n      <DataTable\n        title={\"Eligibility Criteria\"}\n        data={state.data}\n        columns={columns}\n        customToolbar={<Chip\n          onClick={showAddDialog}\n          color=\"primary\"\n          icon={<AddIcon/>}\n          label=\"Add\"\n          variant=\"outlined\"/>}\n      />\n      <DeleteModal\n        objectId={state.selectedId}\n        title={state.deleteDialogTitle}\n        show={state.showDeleteDialog}\n        onHide={() => setState(state => ({...state, showDeleteDialog: false}))}\n        delete={handleDelete}\n      />\n      <AddEditDialog\n        open={state.showAddEditDialog}\n        value={state.value}\n        title={state.dialogTitle}\n        handleClose={() => setState(state => ({...state, showAddEditDialog: false}))}\n        handleConfirm={state.dialogTitle === ADD_TITLE ? handleAdd : handleEdit}\n      />\n    </Container>\n  );\n}\n","import { deleteJson, getJson, postJson, putJson } from \"./index\";\n\nexport function createQuestion(params) {\n  return postJson('/questions/', params);\n}\n\nexport function updateQuestion(id, params) {\n  return putJson('/questions/' + id + '/', params);\n}\n\nexport function fetchQuestion(id) {\n  return getJson('/questions/' + id + '/');\n}\n\nexport function fetchQuestions() {\n  return getJson('/questions/');\n}\n\nexport async function deleteQuestion(id, params) {\n  const response = await deleteJson('/questions/' + id + '/', params);\n  if (response.status !== 204)\n    throw Error('Server does not return correct code.');\n}\n","/**\n * For how the drag and drop works, please check the library repository:\n * https://github.com/atlassian/react-beautiful-dnd\n */\nimport React, { useCallback, useEffect, useMemo, useState } from 'react';\nimport { useHistory } from \"react-router\";\nimport { useDispatch } from 'react-redux';\nimport { providerFields, allForms, providerFormTypes } from '../../constants/provider_fields.js'\nimport { clientFields } from \"../../constants/client_fields\";\nimport { fetchQuestions } from '../../api/questionApi';\nimport RadioField from '../shared/fields/RadioField';\nimport { Button, Container, Grid, TextField, Typography, Divider, IconButton } from \"@mui/material\";\nimport { makeStyles } from \"@mui/styles\";\nimport SelectField from \"../shared/fields/SelectField\";\nimport { DragDropContext, Droppable, Draggable } from 'react-beautiful-dnd';\nimport { Close as Delete } from \"@mui/icons-material\";\nimport { fetchProviderFields, updateProviderFields } from \"../../api/mockedApi/providerFields\";\n\nimport { fetchClientFields, updateClientFields } from '../../api/mockedApi/clientFields';\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    paddingTop: 8,\n  },\n  droppable: {\n    display: 'flex',\n    flexDirection: 'column'\n  },\n  submitButton: {\n    margin: '10px 0'\n  }\n}));\n\nconst radioButtonOptions = {'Mandatory': true, 'Not mandatory': false};\n\nfunction StepFields({stepFields, fields, stepName, handleRadioChange, handleDeleteField}) {\n  return stepFields.map(({field, required, type}, index) => {\n    return (\n      <Draggable key={field} draggableId={field} index={index}>\n        {(provided, snapshot) => (\n          <div\n            ref={provided.innerRef}\n            {...provided.draggableProps}\n            {...provided.dragHandleProps}\n            style={{\n              backgroundColor: snapshot.isDragging ? '#bbb' : null,\n              ...provided.draggableProps.style\n            }}>\n            <RadioField\n              required noStar row\n              key={field}\n              label={(fields[field] && fields[field]['label']) || field}\n              onChange={handleRadioChange(field, stepName)}\n              options={radioButtonOptions}\n              value={required}\n            />\n            <IconButton\n              onClick={() => !snapshot.isDragging && handleDeleteField(index, stepName)}\n              size=\"large\">\n              <Delete/>\n            </IconButton>\n          </div>\n        )}\n      </Draggable>\n    );\n  });\n}\n\nexport default function ManageFields() {\n  const classes = useStyles();\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const [state, setState] = useState({\n    category: '',\n    stepToAdd: '',\n    selectedStep: '',\n    selectedField: '',\n    questions: {},\n    /**\n     * @type {{organization: {form_structure: {}, steps_order: []}, }}\n     */\n    fields: {}\n  });\n\n  useEffect(() => {\n    fetchQuestions().then(questions => setState(state => ({...state, questions})));\n    // fetch provider fields\n    fetchProviderFields(false).then(fields => {\n      for (const category of Object.keys(fields)) {\n        const formStructure = fields[category].form_structure;\n        const stepsOrder = fields[category].steps_order;\n        for (const stepName of stepsOrder) {\n          const stepsList = [];\n          const steps = formStructure[stepName];\n          for (const [field, value] of Object.entries(steps)) {\n            stepsList.push({field, ...value});\n          }\n          fields[category].form_structure[stepName] = stepsList;\n        }\n      }\n      // server may not respond full list of provider options, add it manually\n      for (const providerCategory of Object.keys(providerFormTypes)) {\n        if (!fields[providerCategory])\n          fields[providerCategory] = {form_structure: [], steps_order: []};\n      }\n\n      setState(state => ({...state, fields: {...state.fields, ...fields}}));\n    });\n\n    // fetch clients fields\n    fetchClientFields().then(clientFields => {\n      const formStructure = clientFields.form_structure;\n      for (const stepName of Object.keys(formStructure)) {\n        const stepsList = [];\n        for (const [field, required] of Object.entries(formStructure[stepName])) {\n          stepsList.push({field, type: 'field', required});\n        }\n        formStructure[stepName] = stepsList;\n      }\n      setState(state => ({...state, fields: {...state.fields, client: clientFields}}));\n    })\n\n  }, [dispatch]);\n\n  const submit = async () => {\n    let form = {};\n    let submitFunction;\n    if (state.category === 'client') {\n      submitFunction = updateClientFields;\n      form = {\n        steps_order: state.fields.client.steps_order,\n        form_structure: {},\n      };\n      const formStructure = state.fields.client.form_structure;\n      for (const stepName of Object.keys(formStructure)) {\n        const newFormStructure = form.form_structure[stepName] = {};\n        for (const {field, required} of formStructure[stepName]) {\n          newFormStructure[field] = required\n        }\n      }\n    }\n    // providers\n    else {\n      submitFunction = updateProviderFields;\n      for (const category of Object.keys(state.fields)) {\n        form[category] = {\n          steps_order: state.fields[category].steps_order,\n          form_structure: {},\n        };\n        const formStructure = state.fields[category].form_structure;\n        for (const stepName of Object.keys(formStructure)) {\n          const newFormStructure = form[category].form_structure[stepName] = {};\n          for (const {field, required} of formStructure[stepName]) {\n            newFormStructure[field] = {type: 'field', required};\n          }\n        }\n      }\n      delete form.client;\n    }\n    console.log(form);\n    try {\n      await submitFunction(form);\n      history.push('/dashboard');\n    } catch (e) {\n      // TODO: show error message\n      console.error(e)\n    }\n  };\n\n  const initialOptions = useMemo(() => {\n    let fieldOptions = {};\n    const fields = state.category === 'client' ? clientFields : providerFields;\n    for (const [field, {label}] of Object.entries(fields)) {\n      fieldOptions[field] = label;\n    }\n    return fieldOptions;\n  }, [state.category]);\n\n  // this may not be efficient, but it is easier to implement...\n  const availableOptions = useMemo(() => {\n    if (!state.category) return {};\n    const options = {...initialOptions};\n    for (const steps of Object.values(state.fields[state.category].form_structure)) {\n      for (const {field} of steps) {\n        if (Object.keys(options).includes(field))\n          delete options[field];\n      }\n    }\n    return options;\n  }, [state.fields, state.category, initialOptions]);\n\n  const handleChange = useCallback(name => e => {\n    const value = e.target.value;\n    if (name === 'category') {\n      if (state.fields[value]) {\n        setState(state => ({\n          ...state, [name]: value, selectedField: '', selectedStep: '', stepToAdd: ''\n        }));\n      }\n    } else\n      setState(state => ({...state, [name]: value}));\n  }, [state.fields]);\n\n  const handleRadioChange = useCallback((field, stepName) => e => {\n    const fields = state.fields[state.category].form_structure[stepName];\n    for (const curr_field of fields) {\n      if (curr_field.field === field)\n        curr_field.required = e.target.value;\n    }\n  }, [state.fields, state.category]);\n\n  const handleDeleteField = useCallback((index, stepName) => {\n    const fields = [...state.fields[state.category].form_structure[stepName]];\n    fields.splice(index, 1);\n    state.fields[state.category].form_structure[stepName] = fields;\n    setState(state => ({...state, fields: {...state.fields}}));\n  }, [state.fields, state.category]);\n\n  const handleAddField = useCallback(() => {\n    const formStructure = state.fields[state.category].form_structure;\n    for (const steps of Object.values(formStructure)) {\n      for (const {field} of steps) {\n        if (field === state.selectedField)\n          return;\n      }\n    }\n    state.fields[state.category].form_structure[state.selectedStep].push({\n      field: state.selectedField,\n      type: 'field', // TODO: implement questions\n      required: false,\n    });\n    setState(state => ({...state, selectedField: '', fields: {...state.fields}}))\n  }, [state.fields, state.category, state.selectedStep, state.selectedField]);\n\n  const handleRemoveStep = useCallback((index, stepName) => () => {\n    state.fields[state.category].steps_order.splice(index, 1);\n    delete state.fields[state.category].form_structure[stepName];\n    setState(state => ({...state, fields: {...state.fields}}))\n  }, [state.fields, state.category]);\n\n  // a little function to help us with reordering the result\n  const reorder = (list, startIndex, endIndex) => {\n    const [removed] = list.splice(startIndex, 1);\n    list.splice(endIndex, 0, removed);\n  };\n\n  // invoked when something is dropped\n  const onDragEnd = ({source, destination}) => {\n\n    // dropped outside the list\n    if (!destination) {\n      return;\n    }\n    const targetStepName = destination.droppableId;\n    const sourceStepName = source.droppableId;\n\n    // moved to other steps\n    if (source.droppableId !== destination.droppableId) {\n      const sourceSteps = state.fields[state.category].form_structure[sourceStepName];\n      const targetSteps = state.fields[state.category].form_structure[targetStepName];\n      const [removed] = sourceSteps.splice(source.index, 1);\n      targetSteps.splice(destination.index, 0, removed);\n    }\n    // moved within a step\n    else {\n      reorder(\n        state.fields[state.category].form_structure[targetStepName],\n        source.index,\n        destination.index\n      );\n    }\n  };\n\n  const newStepComponent = useMemo(() => {\n    if (!state.category) return null;\n    return (\n      <Grid container alignItems=\"flex-end\" spacing={2} className={classes.root}>\n        <Grid item>\n          <TextField\n            label=\"New step name\"\n            value={state.stepToAdd}\n            onChange={handleChange('stepToAdd')}\n          />\n        </Grid>\n        <Grid item>\n          <Button variant=\"outlined\" color=\"primary\" disabled={!state.stepToAdd} onClick={() => {\n            setState(state => {\n              state.fields[state.category].form_structure[state.stepToAdd] = [];\n              state.fields[state.category].steps_order.push(state.stepToAdd);\n              return ({...state, fields: {...state.fields}});\n            });\n          }}>\n            Add Step\n          </Button>\n        </Grid>\n      </Grid>\n    )\n  }, [state.stepToAdd, state.category, classes.root, handleChange]);\n\n  const newFieldComponent = useMemo(() => {\n    if (!state.category) return null;\n    return (\n      <Grid container alignItems=\"flex-end\" spacing={2}>\n        <Grid item sm={3} xs={4}>\n          <SelectField\n            label=\"Choose step\"\n            value={state.selectedStep}\n            onChange={handleChange('selectedStep')}\n            options={state.fields[state.category].steps_order}\n            noDefaultStyle\n            formControlProps={{fullWidth: true}}\n            noEmpty\n            controlled\n          />\n        </Grid>\n        <Grid item sm={7} xs={8}>\n          <SelectField\n            label=\"Choose field\"\n            value={state.selectedField}\n            onChange={handleChange('selectedField')}\n            options={availableOptions}\n            noDefaultStyle\n            formControlProps={{fullWidth: true}}\n            noEmpty\n            controlled\n          />\n        </Grid>\n        <Grid item sm={2}>\n          <Button variant=\"outlined\" color=\"primary\" onClick={handleAddField}\n                  disabled={!state.selectedField || !state.selectedStep}>\n            Add Field\n          </Button>\n        </Grid>\n      </Grid>\n    )\n  }, [state.fields, state.category, handleChange, handleAddField, state.selectedField,\n    state.selectedStep, availableOptions]);\n\n  const fieldsComponents = useMemo(() => {\n    if (!state.fields[state.category]) return null;\n    const formStructure = state.fields[state.category].form_structure;\n    return Object.keys(formStructure).map((stepName, index) => {\n      return (\n        <div key={index} className={classes.root}>\n          <Typography variant=\"h6\" color=\"textSecondary\">\n            {stepName}\n            <IconButton onClick={handleRemoveStep(index, stepName)} size=\"large\">\n              <Delete/>\n            </IconButton>\n          </Typography>\n          <Droppable droppableId={stepName} className={classes.droppable}>\n            {(provided, snapshot) => (\n              <div {...provided.droppableProps} ref={provided.innerRef}>\n                <StepFields\n                  stepName={stepName}\n                  stepFields={formStructure[stepName]}\n                  handleRadioChange={handleRadioChange}\n                  handleDeleteField={handleDeleteField}\n                  fields={state.category === 'client' ? clientFields : providerFields}\n                />\n                {provided.placeholder}\n              </div>\n            )}\n          </Droppable>\n          <Divider/>\n        </div>\n      );\n    });\n  }, [state.fields, state.category, classes.root, classes.droppable,\n    handleRadioChange, handleDeleteField, handleRemoveStep]);\n\n  return (\n    <Container>\n      <Typography variant=\"h5\">\n        Manage Fields\n      </Typography>\n      <SelectField\n        label=\"Please select\"\n        value={state.category}\n        onChange={handleChange('category')}\n        options={allForms}\n        noEmpty\n      />\n      {newStepComponent}\n      {newFieldComponent}\n      <DragDropContext onDragEnd={onDragEnd}>\n        {fieldsComponents}\n      </DragDropContext>\n      {state.category &&\n      <Button variant=\"outlined\" color=\"primary\" onClick={submit} className={classes.submitButton}>\n        Submit\n      </Button>}\n    </Container>\n  )\n}\n","import React, { useEffect, useState } from 'react';\nimport { fetchQuestions, updateQuestion, deleteQuestion, createQuestion } from '../../api/questionApi';\nimport {\n  Chip, Container, IconButton, Dialog, DialogActions, DialogTitle, DialogContent,\n  Button, Box\n} from \"@mui/material\";\nimport { makeStyles } from \"@mui/styles\";\nimport { Add as AddIcon, Delete as DeleteIcon, Edit as EditIcon } from \"@mui/icons-material\";\nimport { DeleteModal, Loading, DataTable } from \"../shared\";\nimport SelectField from \"../shared/fields/SelectField\";\nimport GeneralField from \"../shared/fields/GeneralField\";\n\nconst useStyles = makeStyles(() => ({\n  button: {\n    padding: 4\n  },\n  formControl: {\n    margin: null,\n  },\n}));\n\nconst ADD_TITLE = 'Add Question';\nconst EDIT_TITLE = 'Edit Question';\nconst contentTypeOptions = {\n  provider: 'Provider',\n};\n\nfunction AddEditDialog({open, title, value, objectId, handleConfirm, handleClose}) {\n  const [err, setErr] = useState({\n    type: '',\n    value: '',\n  });\n\n  /**\n   * @returns {boolean} true if passed.\n   */\n  const check = () => {\n    const newErr = {};\n    if (value.content_type === '')\n      newErr.content_type = 'This field is required';\n    if (value.text === '')\n      newErr.text = 'This field is required';\n    setErr(newErr);\n    return value.content_type !== '' && value.text !== '';\n  };\n\n  return (\n    <Dialog open={open} onClose={handleClose} fullWidth>\n      <DialogTitle>{title}</DialogTitle>\n      <DialogContent>\n        <Box sx={{mt: 2}}/>\n        <SelectField\n          label={'Content type'}\n          value={value.content_type}\n          options={contentTypeOptions}\n          onChange={(e) => value.content_type = e.target.value}\n          disabled={title === EDIT_TITLE}\n          formControlProps={{fullWidth: true}}\n          error={!!err.content_type}\n          helperText={err.content_type}\n          required noDefaultStyle noEmpty\n        />\n        <GeneralField\n          label=\"Question\"\n          value={value.text}\n          onChange={e => value.text = e.target.value}\n          error={!!err.text}\n          helperText={err.text}\n          fullWidth\n        />\n      </DialogContent>\n      <DialogActions>\n        <Button\n          onClick={() => {\n            if (check()) {\n              handleConfirm();\n            }\n          }}\n          color=\"primary\">\n          Confirm\n        </Button>\n        <Button onClick={handleClose}>\n          Cancel\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n}\n\nexport default function Questions() {\n  const [state, setState] = useState({\n    loading: true,\n    data: [],\n    value: {},\n    selectedId: null,\n    deleteDialogTitle: '',\n    showDeleteDialog: false,\n    dialogTitle: '',\n    showAddEditDialog: false,\n  });\n  const classes = useStyles();\n\n  useEffect(() => {\n    fetchQuestions().then(data => {\n      setState(state => ({...state, loading: false, data}));\n    });\n  }, []);\n\n  const showDeleteDialog = (id, title) => () => {\n    setState(state => ({\n      ...state, selectedId: id, showDeleteDialog: true,\n      deleteDialogTitle: 'Delete ' + title + ' ?'\n    }));\n  };\n\n  const showEditDialog = (text, type, id) => () => setState(state => ({\n    ...state,\n    value: {id, text, content_type: type},\n    selectedId: id,\n    showAddEditDialog: true,\n    dialogTitle: EDIT_TITLE,\n  }));\n\n  const showAddDialog = () => setState(state => ({\n    ...state,\n    value: {text: '', content_type: ''},\n    showAddEditDialog: true,\n    dialogTitle: ADD_TITLE,\n  }));\n\n  const handleAdd = async () => {\n    try {\n      const newItem = await createQuestion(state.value);\n      setState(state => ({\n        ...state, showAddEditDialog: false,\n        data: [...state.data, newItem]\n      }));\n    } catch (e) {\n      // TODO: show error\n      console.error(e);\n    }\n  };\n\n  const handleDelete = async (id, form) => {\n    try {\n      await deleteQuestion(id, form);\n      setState(state => ({\n        ...state, showDeleteDialog: false,\n        data: state.data.filter(item => item.id !== state.selectedId)\n      }));\n    } catch (e) {\n      // TODO: show error\n      console.error(e);\n    }\n  };\n\n  const handleEdit = async () => {\n    try {\n      const newItem = await updateQuestion(state.value.id, state.value);\n      setState(state => ({\n        ...state, showAddEditDialog: false,\n        data: state.data.map(item => item.id === state.selectedId ? newItem : item),\n      }));\n    } catch (e) {\n      // TODO: show error\n      console.error(e);\n    }\n  };\n\n  const columns = [\n    {\n      label: 'Text',\n      body: ({text}) => <Box sx={{width: '60%'}}>{text}</Box>\n    },\n    {\n      label: 'Content type',\n      body: ({content_type}) => content_type\n    },\n    {\n      label: ' ',\n      body: ({id, text, content_type: type}) => {\n        return (\n          <span>\n              <IconButton\n                onClick={showEditDialog(text, type, id)}\n                className={classes.button}\n                size=\"large\">\n                <EditIcon fontSize=\"small\" color=\"primary\"/>\n              </IconButton>\n              <IconButton\n                onClick={showDeleteDialog(id, text)}\n                className={classes.button}\n                size=\"large\">\n                <DeleteIcon fontSize=\"small\" color=\"secondary\"/>\n              </IconButton>\n            </span>\n        );\n      }\n    }\n  ];\n\n  if (state.loading)\n    return <Loading message={`Loading questions...`}/>;\n\n  return (\n    <Container>\n      <DataTable\n        title={\"Questions\"}\n        data={state.data}\n        columns={columns}\n        customToolbar={<Chip\n          onClick={showAddDialog}\n          color=\"primary\"\n          icon={<AddIcon/>}\n          label=\"Add\"\n          variant=\"outlined\"/>}\n      />\n      <DeleteModal\n        objectId={state.selectedId}\n        title={state.deleteDialogTitle}\n        show={state.showDeleteDialog}\n        onHide={() => setState(state => ({...state, showDeleteDialog: false}))}\n        delete={handleDelete}\n      />\n      <AddEditDialog\n        open={state.showAddEditDialog}\n        value={state.value}\n        objectId={state.selectedId}\n        title={state.dialogTitle}\n        handleClose={() => setState(state => ({...state, showAddEditDialog: false}))}\n        handleConfirm={state.dialogTitle === ADD_TITLE ? handleAdd : handleEdit}\n      />\n    </Container>\n  );\n}\n","import React from 'react';\nimport { Switch } from 'react-router';\nimport { Route } from 'react-router-dom';\n\n// components\nimport Landing from './components/Landing';\nimport Login from './components/Login';\nimport LoginPane from './components/LoginPane';\nimport Dashboard from './components/Dashboard';\nimport Clients from './components/Clients';\nimport Client from './components/clients/Client';\nimport ClientForm from './components/clients/ClientForm'\nimport Users from './components/Users';\nimport User from './components/users/User';\nimport UserForm from './components/users/UserForm'\nimport NeedForm from './components/client_needs/NeedForm'\nimport Need from './components/client_needs/Need'\nimport PrivateRoute from './components/routes/PrivateRoute'\nimport AdminRoute from './components/routes/AdminRoute'\nimport Providers from './components/Providers';\nimport AddServicePrompt from './components/providers/AddServicePrompt'\nimport ProviderForm from './components/providers/ProviderForm'\nimport ProviderProfile from './components/providers/ProviderProfile'\nimport ProviderRatingForm from './components/providers/ProviderRatingForm.js';\nimport Services from './components/Services';\nimport Service from './components/services/Service';\nimport ServiceForm from './components/services/ServiceForm'\nimport Goods from './components/Goods';\nimport Good from './components/goods/Good';\nimport GoodForm from './components/goods/GoodForm'\nimport AdminLogs from './components/AdminLogs';\nimport Reporting from './components/Reporting';\nimport Eligibilities from './components/additionalFIelds/Eligibilities';\nimport ManageFields from './components/settings/ManageFields';\nimport Questions from './components/additionalFIelds/Questions';\n\nconst routes = (\n  <Switch>\n    <Route exact path='/' component={Landing} />\n    <Route path='/login' component={Login} />\n    <Route path='/login-pane' component={LoginPane} />\n    <PrivateRoute path='/dashboard' component={Dashboard} />\n\n    <PrivateRoute path='/clients/:id/edit' component={ClientForm} />\n    <PrivateRoute path='/clients/:id/needs/new' component={NeedForm} />\n    <PrivateRoute path='/clients/new' component={ClientForm} />\n    <PrivateRoute path='/clients/:id' component={Client} />\n    <PrivateRoute path='/clients' component={Clients} />\n\n    <AdminRoute path='/users/:id/edit' component={UserForm} />\n    <AdminRoute path='/users/new' component={UserForm} />\n    <AdminRoute path='/users/:id' component={User} />\n    <AdminRoute path='/users' component={Users} />\n    <AdminRoute path='/admin-logs' component={AdminLogs} />\n\n    <PrivateRoute path='/needs/:need_id/edit' component={NeedForm} />\n    <PrivateRoute path='/needs/:need_id' component={Need} />\n\n    <PrivateRoute path='/providers/:id/rate' component={ProviderRatingForm} />\n    <PrivateRoute path='/providers/new/add-service' component={AddServicePrompt} />\n    <PrivateRoute path='/providers/:formType/new' component={ProviderForm} />\n    <PrivateRoute path='/providers/:id/edit/' component={ProviderForm} />\n    <PrivateRoute path='/providers/:id' component={ProviderProfile} />\n    <PrivateRoute path='/providers' component={Providers} />\n\n    <PrivateRoute path='/services/:id/edit' component={ServiceForm} />\n    <PrivateRoute path='/services/new' component={ServiceForm} />\n    <PrivateRoute path='/services/:id' component={Service} />\n    <PrivateRoute path='/services' component={Services} />\n\n    <PrivateRoute path='/goods/:id/edit' component={GoodForm} />\n    <PrivateRoute path='/goods/new' component={GoodForm} />\n    <PrivateRoute path='/goods/:id' component={Good} />\n    <PrivateRoute path='/goods' component={Goods} />\n\n    <PrivateRoute path='/reporting' component={Reporting} />\n\n    <PrivateRoute path='/eligibility-criteria' component={Eligibilities} />\n\n    <PrivateRoute path='/questions' component={Questions} />\n\n    <AdminRoute path='/settings/manage-fields' component={ManageFields} />\n  </Switch>\n);\n\nexport default routes;\n","import React, { useState, useEffect } from \"react\";\nimport _ from 'lodash';\nimport { useParams } from \"react-router\";\nimport { useDispatch } from \"react-redux\";\nimport { Container, Typography, Alert , Button} from \"@mui/material\";\nimport { Edit, Print } from '@mui/icons-material';\nimport { Link } from '../shared'\n\nimport ClientNeeds from '../ClientNeeds';\nimport ClientInfoTable from './client_table/ClientInfoTable';\nimport AppointmentRow from '../appointments/AppointmentRow';\n\nimport { fetchClient } from '../../api/mockedApi/clients';\nimport { fetchClientFields } from \"../../api/mockedApi/clientFields\";\nimport { clientFields } from '../../constants/client_fields.js'\n\n//Table\nimport { Table, TableBody, TableCell, TableContainer, TableHead, TableRow } from \"@mui/material\"\n\nexport default function Client() {\n  //redux hooks\n  const dispatch = useDispatch();\n  const {id} = useParams();\n\n  const [state, setState] = useState({\n    data: null,\n    CF: null,\n    CN: null\n  });\n\n\n  useEffect(() => {\n      fetchClient(id).then(data => {\n        setState(state => ({\n          ...state,\n          data\n        }))\n      })\n  }, [dispatch, id]);\n\n  useEffect(() => {\n      if (state.CF == null) {\n        fetchClientFields().then(json => {\n          setState(state => ({\n            ...state,\n            CF: json\n          }))\n        })\n      }\n    }, [dispatch, state.CF]\n  );\n\n\n  if (state.data && state.CF) {\n    const client = state.data;\n    const CF = state.CF;\n    const formStructure = CF['form_structure'];\n\n    if (client.family) {\n      let members = _.clone(client.family.members);\n      _.remove(members, {\n        person: { id: id }\n      });\n    }\n\n    return (\n      <Container>\n        <Typography variant=\"h3\" paddingY={2}>Client Profile</Typography>\n        <div>\n          <Link to={`/clients/${id}/edit/`}>\n            <Button\n              variant=\"contained\"\n              startIcon={<Edit/>}>\n              Edit\n            </Button>\n          </Link>\n          &nbsp;\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={() => window.print()}\n            startIcon={<Print/>}>\n            Print\n          </Button>\n\n          <div>\n            {client.is_deleted &&\n            <Alert variant=\"filled\" severity=\"error\">\n              The client has been deleted\n            </Alert>\n            }\n            {/*Client info tables*/}\n            {_.map(formStructure, (infoFields, step) => {\n              return (\n                <ClientInfoTable\n                  key={step}\n                  step={step}\n                  client={client}\n                  infoFields={_.keys(_.omit(infoFields, 'family'))}\n                  clientFields={clientFields}\n                />\n              )\n            })}\n\n            {/*Family*/}\n            {/*TODO: have family tested*/}\n            {(client.family && client.family.members.length > 0) &&\n              <TableContainer>\n                <Table>\n                  <TableHead>\n                    <TableRow >\n                      <TableCell>First name</TableCell>\n                      <TableCell>Last name</TableCell>\n                      <TableCell>Date of Birth</TableCell>\n                      <TableCell>Gender</TableCell>\n                      <TableCell>Relationship</TableCell>\n                    </TableRow>\n                  </TableHead>\n                  {_.map(_.filter(client.family.members, member => {\n                    return member.person.id !== client.id\n                  }), (member, index) => {\n                    return (\n                      <clientFamilyTableRow\n                        member = {member}\n                        index = {index}\n                      />\n                      )\n                  })}\n                </Table>\n              </TableContainer>\n            }\n          </div>\n\n          {/*TODO client needs*/}\n          <Typography variant=\"h4\" paddingY={2}>Needs</Typography>\n          <Link to={`/clients/${client.id}/needs/new`}>\n            <Button variant=\"contained\">\n              Add need\n            </Button>\n          </Link>\n          { client && client.need_groups.length > 0 &&\n          <ClientNeeds\n            clientId={client.id}\n            needGroups={client.need_groups}\n          />\n          }\n\n          <Typography variant=\"h4\" paddingY={2}>Appointments</Typography>\n          { client && client.appointments.length > 0 &&\n          <TableContainer>\n            <Table>\n              <TableHead>\n                <TableRow >\n                  <TableCell>Category</TableCell>\n                  <TableCell>Date</TableCell>\n                  <TableCell>Time</TableCell>\n                  <TableCell>Description</TableCell>\n                </TableRow>\n              </TableHead>\n              <TableBody>\n                {client.appointments.map(appointment => {\n                  return (\n                    <AppointmentRow\n                      key={appointment.id}\n                      appointment={appointment}\n                    />\n                  )\n                })}\n              </TableBody>\n            </Table>\n          </TableContainer>\n\n          }\n          <hr />\n\n        </div>\n      </Container>\n    )\n  } else {\n    return null;\n  }\n}\n\nfunction clientFamilyTableRow({member, index}) {\n  return (\n    <TableRow key={member.person.id}>\n      <TableCell component=\"th\" scope=\"row\">\n        Family member #{index + 1}\n      </TableCell>\n      <TableCell align=\"left\">{member.person.first_name}</TableCell>\n      <TableCell align=\"left\">{member.person.last_name}</TableCell>\n      <TableCell align=\"left\">{member.person.birth_date}</TableCell>\n      <TableCell align=\"left\">{member.person.gender}</TableCell>\n      <TableCell align=\"left\">{member.relationship}</TableCell>\n    </TableRow>\n  );\n}\n","import React, { useEffect, useState } from 'react';\nimport TR from '../shared/TR'\nimport { fetchUser } from '../../api/userApi'\nimport { useParams } from \"react-router\";\nimport { Link, Loading } from \"../shared\";\nimport { Container, Paper, Table, Typography, TableBody, Button } from \"@mui/material\";\n\nexport default function User() {\n  const [loading, setLoading] = useState(true);\n  const [user, setUser] = useState({});\n\n  const {id} = useParams();\n  useEffect(() => {\n    fetchUser(id).then(user => {\n      setUser(user);\n      setLoading(false);\n    });\n  }, [id]);\n\n  if (loading)\n    return <Loading message={`Loading user...`}/>;\n\n  return (\n    <Container>\n      <Typography variant=\"h5\" gutterBottom>\n        User profile\n      </Typography>\n      <Link to={`/users/${id}/edit`}>\n        <Button color=\"primary\" variant=\"contained\" style={{marginBottom: 12}}>\n          Edit\n        </Button>\n      </Link>\n\n      <Paper elevation={4}>\n        <Table>\n          <TableBody>\n            <TR\n              title=\"First Name\"\n              value={user.first_name}\n            />\n            <TR\n              title=\"Last Name\"\n              value={user.last_name}\n            />\n            <TR\n              title=\"Username\"\n              value={user.username}\n            />\n            <TR\n              title=\"Email\"\n              value={user.email}\n            />\n            <TR\n              title=\"Role\"\n              value={user.is_superuser ? 'Admin' : 'User'}\n            />\n            <TR\n              title=\"Phone Number\"\n              value={user.primary_phone_number}\n            />\n            <TR\n              title=\"Alternative Phone Number\"\n              value={user.alt_phone_number}\n            />\n          </TableBody>\n        </Table>\n      </Paper>\n    </Container>\n  )\n}\n","import React, { useEffect, useState } from 'react';\nimport { Chip, Container } from \"@mui/material\";\nimport { Add as AddIcon, Check as YesIcon } from \"@mui/icons-material\";\nimport { DeleteModal, DropdownMenu, Link, Loading, DataTable } from \"./shared\";\nimport { deleteUser, fetchUsers } from \"../api/userApi\";\nimport { useHistory } from \"react-router\";\nimport { formatPhoneNumber } from \"../helpers/phone_number_helpers\";\n\nexport default function Users() {\n  const history = useHistory();\n  const [state, setState] = useState({\n    loading: true,\n    data: [],\n    selectedId: null,\n    deleteDialogTitle: '',\n    showDeleteDialog: false,\n  });\n\n  useEffect(() => {\n    fetchUsers().then(data => {\n      setState(state => ({...state, loading: false, data}));\n    });\n  }, []);\n\n  const showDeleteDialog = (id, title) => () => {\n    setState(state => ({\n      ...state, selectedId: id, showDeleteDialog: true,\n      deleteDialogTitle: 'Delete ' + title + ' ?'\n    }));\n  };\n\n  const handleDelete = async (id, form) => {\n    try {\n      await deleteUser(id, form);\n      setState(state => ({\n        ...state, showDeleteDialog: false,\n        data: state.data.filter(item => item.id !== state.selectedId)\n      }));\n    } catch (e) {\n      // TODO: show error\n      console.error(e);\n    }\n  };\n\n  const columns = [\n    {\n      label: 'Username',\n      body: ({id, username}) => {\n        return <Link color to={`/users/${id}`}>\n          {username}\n        </Link>\n      }\n    },\n    {\n      label: 'Email',\n      body: ({email}) => email\n    },\n    {\n      label: 'First name',\n      body: ({first_name}) => first_name\n    },\n    {\n      label: 'Last name',\n      body: ({last_name}) => last_name\n    },\n    {\n      label: 'Primary phone',\n      body: ({primary_phone_number}) => {\n        if (primary_phone_number)\n          return formatPhoneNumber(primary_phone_number);\n        return 'Not Provided';\n      },\n    },\n    {\n      label: 'Primary phone',\n      body: ({secondary_phone_number}) => {\n        if (secondary_phone_number)\n          return formatPhoneNumber(secondary_phone_number);\n        return 'Not Provided';\n      },\n    },\n    {\n      label: 'Admin',\n      body: ({is_superuser}) => {\n        if (is_superuser)\n          return <YesIcon color=\"primary\"/>\n      }\n    },\n    {\n      label: ' ',\n      body: ({username, id}) =>\n        <DropdownMenu urlPrefix={'users'} objectId={id}\n                      handleDelete={() => showDeleteDialog(id, username)}/>\n    }\n  ];\n\n  if (state.loading)\n    return <Loading message={`Loading users...`}/>;\n\n  return (\n    <Container>\n      <DataTable\n        title={\"Users\"}\n        data={state.data}\n        columns={columns}\n        idField=\"id\"\n        customToolbar={<Chip\n          onClick={() => history.push('/users/new')}\n          color=\"primary\"\n          icon={<AddIcon/>}\n          label=\"Add\"\n          variant=\"outlined\"/>}\n      />\n      <DeleteModal\n        objectId={state.selectedId}\n        title={state.deleteDialogTitle}\n        show={state.showDeleteDialog}\n        onHide={() => setState(state => ({...state, showDeleteDialog: false}))}\n        delete={handleDelete}\n      />\n    </Container>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\nimport _ from 'lodash';\nimport { useParams } from \"react-router\";\nimport { useDispatch } from \"react-redux\";\nimport { Container, Button, Rating, Box } from \"@mui/material\";\nimport { Edit, RateReview, Print } from '@mui/icons-material';\nimport { Link } from '../shared'\n\nimport { providerFields } from '../../constants/provider_fields.js'\n\n// components\nimport ProviderInfoTable from './provider_table/ProviderInfoTable';\n\n\nimport { fetchProvider } from '../../api/mockedApi/providers';\nimport { fetchProviderFields } from '../../api/mockedApi/providerFields';\n\nexport default function ProviderProfile() {\n  //redux hooks\n  const dispatch = useDispatch();\n  const {id} = useParams();\n\n  const [state, setState] = useState({\n    data: null,\n    formSetting: null\n  });\n\n\n  useEffect(() => {\n      fetchProvider(id).then(data => {\n        setState(state => ({\n          ...state,\n          data\n        }))\n      })\n    }, [id]\n  );\n\n  useEffect(() => {\n      if (state.formSetting == null) {\n        fetchProviderFields(false).then(json => {\n          setState(state => ({\n            ...state,\n            formSetting: json\n          }))\n        })\n      }\n    }, [dispatch, state.formSetting]\n  );\n  if (state.data && state.formSetting) {\n    const provider = state.data;\n    const {formSetting} = state;\n\n    let formType;\n    if (provider.type === 'Organization') {\n      formType = 'organization'\n    } else if (provider.type === 'Individual') {\n      formType = provider.category.split(' ').join('_').toLowerCase()\n    }\n    const reviewValue = ((provider.reviews.map(review => review.rating))\n      .reduce((first, second) => first + second, 0)) / provider.reviews.length;\n    return (\n      <Container>\n        <h3>Provider Profile</h3>\n        <div>\n          <Link to={`/providers/${id}/edit/`}>\n            <Button\n              variant=\"contained\"\n              startIcon={<Edit/>}>\n              Edit\n            </Button>\n          </Link>\n          &nbsp;\n          <Link to={`/providers/${id}/rate`}>\n            <Button\n              variant=\"contained\"\n              startIcon={<RateReview/>}>\n              Rate Provider\n            </Button>\n          </Link>\n          {' '}\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={() => window.print()}\n            startIcon={<Print/>}>\n            Print\n          </Button>\n\n          {formSetting[formType] &&\n          _.map(formSetting[formType].form_structure, (infoFields, step) => {\n            return (\n              <ProviderInfoTable\n                key={step}\n                step={step}\n                provider={provider}\n                providerFields={providerFields}\n                infoFields={infoFields}\n              />\n            )\n          })\n          }\n\n          <h3> Reviews </h3>\n          <Box component=\"fieldset\" mb={3} borderColor=\"transparent\">\n            <Rating size=\"large\" name=\"provider-rating\" value={reviewValue}/>\n          </Box>\n\n          <h3>Services</h3>\n          <Link to=\"/services/new\">\n            <Button variant=\"contained\">\n              Add Service\n            </Button>\n          </Link>\n\n        </div>\n      </Container>\n    )\n  } else {\n    return '';\n  }\n}\n","import React from 'react';\n\n// components\nimport TopNavbar from './components/layouts/TopNavbar'\nimport Footer from './components/layouts/Footer'\nimport { createTheme, ThemeProvider, StyledEngineProvider } from '@mui/material';\nimport { blue, pink } from '@mui/material/colors'\n\nimport routes from \"./routes\";\n\n// style\nimport './stylesheets/App.scss';\n\nconst theme = createTheme({\n  palette: {\n    primary: {main: blue[700]},\n    secondary: pink,\n  },\n});\n\nexport default function App() {\n  return (\n    <div className=\"App\">\n      <StyledEngineProvider injectFirst>\n        <ThemeProvider theme={theme}>\n          <TopNavbar/>\n          <div style={{paddingTop: 50, paddingBottom: 22}}>\n            {/*<Breadcurum/>*/}\n            {routes}\n          </div>\n          <Footer/>\n        </ThemeProvider>\n      </StyledEngineProvider>\n    </div>\n  );\n}\n","// import 'bootstrap/dist/css/bootstrap.css';\n// import 'bootstrap/dist/css/bootstrap-theme.css';\n\nimport configureStore from './store.js';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { BrowserRouter } from 'react-router-dom'\nimport { PersistGate } from 'redux-persist/integration/react'\n\nimport App from './App';\n\nconst { store, persistor } = configureStore();\n\nReactDOM.render(\n  <Provider store={store}>\n    <PersistGate loading={null} persistor={persistor}>\n      <BrowserRouter>\n        <App />\n      </BrowserRouter>\n    </PersistGate>\n  </Provider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}